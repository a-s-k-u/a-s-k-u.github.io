(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(o){e=o instanceof u?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof u?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function _(){}function y(...t){return v(t)}function v(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:_}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:v(t)(this)}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const C=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class x extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class M extends p{constructor(t){super(t),this.destination=t}}let O=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new M(this)}lift(t){const e=new P(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new x(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new P(t,e),t})();class P extends O{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}class E extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const T=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=k(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function I(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return T(t);if(I(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function D(t,e,n,r,i=new E(t,n,r)){if(!i.closed)return e instanceof w?e.subscribe(i):R(e)(i)}class j extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U(t,e))}}class U{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new V(t,this.project,this.thisArg))}}class V extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function L(t,e){return new w(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function H(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new w(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(I(t))return function(t,e){return new w(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return L(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[A](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(R(t))}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(z((n,r)=>H(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends j{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new E(this,e,n),i=this.destination;i.add(r);const s=D(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t){return t}function Z(t=Number.POSITIVE_INFINITY){return z(W,t)}function G(t,e){return e?L(t,e):new w(T(t))}function Y(){return function(t){return t.lift(new Q(t))}}class Q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new K(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class K extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class X extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return Y()(this)}}const J=(()=>{const t=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class tt extends M{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function et(){return new O}function nt(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const rt=nt("Inject",t=>({token:t})),it=nt("Optional"),st=nt("Self"),ot=nt("SkipSelf");var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function lt(t){for(let e in t)if(t[e]===lt)return e;throw Error("Could not find renamed property on target object.")}function ct(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function dt(t){return ft(t,t[gt])||ft(t,t[yt])}function ft(t,e){return e&&e.token===t?e:null}function pt(t){return t&&(t.hasOwnProperty(mt)||t.hasOwnProperty(vt))?t[mt]:null}const gt=lt({"\u0275prov":lt}),mt=lt({"\u0275inj":lt}),_t=lt({"\u0275provFallback":lt}),yt=lt({ngInjectableDef:lt}),vt=lt({ngInjectorDef:lt});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ct=lt({__forward_ref__:lt});function xt(t){return t.__forward_ref__=xt,t.toString=function(){return wt(this())},t}function Mt(t){return Ot(t)?t():t}function Ot(t){return"function"==typeof t&&t.hasOwnProperty(Ct)&&t.__forward_ref__===xt}const Pt="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,Et="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt="undefined"!=typeof global&&global,kt=Pt||Tt||St||Et,At=lt({"\u0275cmp":lt}),Nt=lt({"\u0275dir":lt}),It=lt({"\u0275pipe":lt}),Rt=lt({"\u0275mod":lt}),Dt=lt({"\u0275loc":lt}),jt=lt({"\u0275fac":lt}),Ft=lt({__NG_ELEMENT_ID__:lt});class Ut{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vt=new Ut("INJECTOR",-1),Lt={},$t=/\n/gm,Ht=lt({provide:String,useValue:lt});let zt,qt=void 0;function Bt(t){const e=qt;return qt=t,e}function Wt(t){const e=zt;return zt=t,e}function Zt(t,e=at.Default){if(void 0===qt)throw new Error("inject() must be called from an injection context");return null===qt?Yt(t,void 0,e):qt.get(t,e&at.Optional?null:void 0,e)}function Gt(t,e=at.Default){return(zt||Zt)(Mt(t),e)}function Yt(t,e,n){const r=dt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&at.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${wt(t)}]`)}function Qt(t){const e=[];for(let n=0;n<t.length;n++){const r=Mt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=at.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof it||"Optional"===i.ngMetadataName||i===it?n|=at.Optional:i instanceof ot||"SkipSelf"===i.ngMetadataName||i===ot?n|=at.SkipSelf:i instanceof st||"Self"===i.ngMetadataName||i===st?n|=at.Self:t=i instanceof rt||i===rt?i.token:i}e.push(Gt(t,n))}else e.push(Gt(r))}return e}class Kt{get(t,e=Lt){if(e===Lt){const e=new Error(`NullInjectorError: No provider for ${wt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Xt{}class Jt{}function te(t,e){t.forEach(t=>Array.isArray(t)?te(t,e):e(t))}function ee(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ne(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function re(t,e,n){let r=se(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ie(t,e){const n=se(t,e);if(n>=0)return t[1|n]}function se(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const oe=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ae=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();function le(t){return""+{toString:t}}const ce={},ue=[];let he=0;function de(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ue,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ae.Emulated,id:"c",styles:t.styles||ue,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=le(()=>{const e=t.directives,n=t.features,s=t.pipes;i.id+=he++,i.inputs=_e(t.inputs,r),i.outputs=_e(t.outputs),n&&n.forEach(t=>t(i)),i.directiveDefs=e?()=>("function"==typeof e?e():e).map(fe):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(pe):null}),i}function fe(t){return ve(t)||function(t){return t[Nt]||null}(t)}function pe(t){return function(t){return t[It]||null}(t)}const ge={};function me(t){const e={type:t.type,bootstrap:t.bootstrap||ue,declarations:t.declarations||ue,imports:t.imports||ue,exports:t.exports||ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&le(()=>{ge[t.id]=t.type}),e}function _e(t,e){if(null==t)return ce;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ye=de;function ve(t){return t[At]||null}function we(t,e){return t.hasOwnProperty(jt)?t[jt]:null}function be(t,e){const n=t[Rt]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function Ce(t){return Array.isArray(t)&&"object"==typeof t[1]}function xe(t){return Array.isArray(t)&&!0===t[1]}function Me(t){return 0!=(8&t.flags)}function Oe(t){return 2==(2&t.flags)}function Pe(t){return 1==(1&t.flags)}function Se(t){return null!==t.template}function Ee(t){return 0!=(512&t[2])}const Te={lFrame:Ge(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ke(){return Te.bindingsEnabled}function Ae(){return Te.lFrame.lView}function Ne(){return Te.lFrame.tView}function Ie(t){Te.lFrame.contextLView=t}function Re(){return Te.lFrame.previousOrParentTNode}function De(t,e){Te.lFrame.previousOrParentTNode=t,Te.lFrame.isParent=e}function je(){return Te.lFrame.isParent}function Fe(){return Te.checkNoChangesMode}function Ue(t){Te.checkNoChangesMode=t}function Ve(){const t=Te.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Le(){return Te.lFrame.bindingIndex++}function $e(t,e){const n=Te.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function He(){return Te.lFrame.currentQueryIndex}function ze(t){Te.lFrame.currentQueryIndex=t}function qe(t,e){const n=Ze();Te.lFrame=n,n.previousOrParentTNode=e,n.lView=t}const Be=Ye;function We(t,e){const n=Ze(),r=t[1];Te.lFrame=n,n.previousOrParentTNode=e,n.isParent=!0,n.lView=t,n.tView=r,n.selectedIndex=0,n.contextLView=t,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.currentSanitizer=null,n.bindingRootIndex=-1,n.bindingIndex=r.bindingStartIndex,n.currentQueryIndex=0}function Ze(){const t=Te.lFrame,e=null===t?null:t.child;return null===e?Ge(t):e}function Ge(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ye(){Te.lFrame=Te.lFrame.parent}function Qe(){return Te.lFrame.selectedIndex}function Ke(t){Te.lFrame.selectedIndex=t}function Xe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Je(t,e,n){nn(t,e,3,n)}function tn(t,e,n,r){(3&t[2])===n&&nn(t,e,n,r)}function en(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function nn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(rn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function rn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,s.call(o)):s.call(o)}class sn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}let on=void 0;function an(){return void 0!==on?on:"undefined"!=typeof document?document:void 0}function ln(t){return!!t.listen}const cn={createRenderer:(t,e)=>an()};function un(t,e,n){const r=ln(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];dn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function hn(t){return 3===t||4===t||6===t}function dn(t){return 64===t.charCodeAt(0)}function fn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||pn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function pn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function gn(t){return-1!==t}function mn(t){return 32767&t}function _n(t){return t>>16}function yn(t,e){let n=_n(t),r=e;for(;n>0;)r=r[15],n--;return r}function vn(t){return"string"==typeof t?t:null==t?"":""+t}function wn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():vn(t)}const bn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function Cn(t){return t instanceof Function?t():t}let xn=!0;function Mn(t){const e=xn;return xn=t,e}let On=0;function Pn(t,e){const n=En(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Sn(r.data,t),Sn(e,null),Sn(r.blueprint,null));const i=Tn(t,e),s=t.injectorIndex;if(gn(i)){const t=mn(i),n=yn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Sn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function En(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Tn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function kn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Ft]:n.charCodeAt(0)||0;null==r&&(r=n[Ft]=On++);const i=255&r,s=1<<i,o=64&i,a=32&i,l=e.data;128&i?o?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:o?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,n)}function An(t,e,n,r=at.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Ft];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){qe(e,t);try{const t=i();if(null!=t||r&at.Optional)return t;throw new Error(`No provider for ${wn(n)}!`)}finally{Be()}}else if("number"==typeof i){if(-1===i)return new Un(t,e);let s=null,o=En(t,e),a=-1,l=r&at.Host?e[16][6]:null;for((-1===o||r&at.SkipSelf)&&(a=-1===o?Tn(t,e):e[o+8],Fn(r,!1)?(s=e[1],o=mn(a),e=yn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(jn(i,o,t.data)){const t=In(o,e,n,s,r,l);if(t!==Nn)return t}Fn(r,e[1].data[o+8]===l)&&jn(i,o,e)?(s=t,o=mn(a),e=yn(a,e)):o=-1}}}if(r&at.Optional&&void 0===i&&(i=null),0==(r&(at.Self|at.Host))){const t=e[9],s=Wt(void 0);try{return t?t.get(n,i,r&at.Optional):Yt(n,i,r&at.Optional)}finally{Wt(s)}}if(r&at.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${wn(n)}]`)}const Nn={};function In(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=Rn(a,o,n,null==r?Oe(a)&&xn:r!=o&&3===a.type,i&at.Host&&s===a);return null!==l?Dn(e,o,l,a):Nn}function Rn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,c=s>>16,u=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=o[l];if(t&&Se(t)&&t.type===n)return l}return null}function Dn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof sn){const o=i;if(o.resolving)throw new Error(`Circular dep for ${wn(s[n])}`);const a=Mn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Wt(o.injectImpl)),qe(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&Wt(l),Mn(a),o.resolving=!1,Be()}}return i}function jn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Fn(t,e){return!(t&at.Self||t&at.Host&&e)}class Un{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return An(this._tNode,this._lView,t,void 0,e)}}function Vn(t){const e=Object.getPrototypeOf(t.prototype).constructor,n=e[jt]||function t(e){const n=e;if(Ot(e))return()=>{const e=t(Mt(n));return e?e():null};let r=we(n);if(null===r){const t=pt(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t}function Ln(t){return t.ngDebugContext}function $n(t){return t.ngOriginalError}function Hn(t,...e){t.error(...e)}class zn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Hn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ln(t)?Ln(t):this._findContext($n(t)):null}_findOriginalError(t){let e=$n(t);for(;e&&$n(e);)e=$n(e);return e}}class qn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Bn extends qn{getTypeName(){return"HTML"}}class Wn extends qn{getTypeName(){return"Style"}}class Zn extends qn{getTypeName(){return"Script"}}class Gn extends qn{getTypeName(){return"URL"}}class Yn extends qn{getTypeName(){return"ResourceURL"}}function Qn(t){return t instanceof qn?t.changingThisBreaksApplicationSecurity:t}function Kn(t,e){const n=Xn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Xn(t){return t instanceof qn&&t.getTypeName()||null}let Jn=!0,tr=!1;function er(){return tr=!0,Jn}class nr{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const rr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sr(t){return(t=String(t)).match(rr)||t.match(ir)?t:(er()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function or(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ar(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const lr=or("area,br,col,hr,img,wbr"),cr=or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ur=or("rp,rt"),hr=ar(ur,cr),dr=ar(lr,ar(cr,or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ar(ur,or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hr),fr=or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pr=or("srcset"),gr=ar(fr,pr,or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mr=or("script,style,template");class _r{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!dr.hasOwnProperty(e))return this.sanitizedSomething=!0,!mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!gr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;fr[s]&&(o=sr(o)),pr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>sr(t.trim())).join(", ")),this.buf.push(" ",e,'="',wr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();dr.hasOwnProperty(e)&&!lr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(wr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~ |!])/g;function wr(t){return t.replace(/&/g,"&amp;").replace(yr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(vr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let br;function Cr(t,e){let n=null;try{br=br||new nr(t);let r=e?String(e):"";n=br.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=br.getInertBodyElement(r)}while(r!==s);const o=new _r,a=o.sanitizeChildren(xr(n)||n);return er()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=xr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function xr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Mr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Or=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Pr=/^url\(([^)]+)\)$/;function Sr(t){const e=Tr();return e?e.sanitize(Mr.HTML,t)||"":Kn(t,"HTML")?Qn(t):Cr(an(),vn(t))}function Er(t){const e=Tr();return e?e.sanitize(Mr.URL,t)||"":Kn(t,"URL")?Qn(t):sr(vn(t))}function Tr(){const t=Ae();return t&&t[12]}function kr(t){for(;Array.isArray(t);)t=t[0];return t}function Ar(t,e){return kr(e[t+19])}function Nr(t,e){return kr(e[t.index])}function Ir(t,e){return t.data[e+19]}function Rr(t,e){const n=e[t];return Ce(n)?n:n[0]}function Dr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function jr(t){return 4==(4&t[2])}function Fr(t){return 128==(128&t[2])}function Ur(t,e){return null===t||null==e?null:t[e]}function Vr(t){t[18]=0}function Lr(t,e){t.__ngContext__=e}function $r(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function Hr(){throw new Error("Cannot mix multi providers and regular providers")}function zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Br(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Wr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(hn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Br(t,l,n)||""===l&&1===e.length){if(Zr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!qr(t.attrs,c,n)){if(Zr(r))return!1;o=!0}continue}const u=Gr(8&r?"class":l,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===u){if(Zr(r))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==zr(e,c,0)||2&r&&c!==t){if(Zr(r))return!1;o=!0}}}}else{if(!o&&!Zr(r)&&!Zr(l))return!1;if(o&&Zr(l))continue;o=!1,r=l|1&r}}return Zr(r)||o}function Zr(t){return 0==(1&t)}function Gr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Yr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Wr(t,e[r],n))return!0;return!1}function Qr(t,e){return t?":not("+e.trim()+")":e}function Kr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Zr(o)||(e+=Qr(s,i),i=""),r=o,s=s||!Zr(r);n++}return""!==i&&(e+=Qr(s,i)),e}const Xr={};function Jr(t){const e=t[3];return xe(e)?e[3]:e}function ti(t){ei(Ne(),Ae(),Qe()+t,Fe())}function ei(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Je(e,r,n)}else{const r=t.preOrderHooks;null!==r&&tn(e,r,0,n)}Ke(n)}function ni(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function ii(t){return 2|t}function si(t){return(131068&t)>>2}function oi(t,e){return-131069&t|e<<2}function ai(t){return 1|t}function li(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ze(i),n.contentQueries(2,e[s],s)}}}function ci(t,e,n){return ln(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ui(t,e,n,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Vr(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function hi(t,e,n,r,i,s){const o=n+19,a=t.data[o]||function(t,e,n,r,i,s){const o=Re(),a=je(),l=a?o:o&&o.parent,c=t.data[n]=wi(0,l&&l!==e?l:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return De(a,!0),a}function di(t,e,n){We(e,e[6]);try{const r=t.viewQuery;null!==r&&zi(1,r,n);const i=t.template;null!==i&&gi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&li(t,e),t.staticViewQueries&&zi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ui(t,e[n])}(e,s)}finally{e[2]&=-5,Ye()}}function fi(t,e,n,r){const i=e[2];if(256==(256&i))return;We(e,e[6]);const s=Fe();try{Vr(e),Te.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&gi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Je(e,n,null)}else{const n=t.preOrderHooks;null!==n&&tn(e,n,0,null),en(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(xe(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];Fr(n)&&fi(r,n,r.template,n[8])}0!=(1&n)&&ji(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&li(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Je(e,n)}else{const n=t.contentHooks;null!==n&&tn(e,n,1),en(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Ke(s),r+=9+n[++t],i=r):r+=o:(null!==o&&($e(r,i),o(2,e[i])),i++)}}}finally{Ke(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&zi(2,l,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Je(e,n)}else{const n=t.viewHooks;null!==n&&tn(e,n,2),en(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73)}finally{Ye()}}function pi(t,e,n,r){const i=e[10],s=!Fe(),o=jr(e);try{s&&!o&&i.begin&&i.begin(),o&&di(t,e,r),fi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function gi(t,e,n,r,i){const s=Qe();try{Ke(-1),2&r&&e.length>19&&ei(t,e,0,Fe()),n(r,i)}finally{Ke(s)}}function mi(t,e,n){ke()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Pn(n,e),Lr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Se(r);s&&Ni(e,n,r);const l=Dn(e,t,a,n);Lr(l,e),null!==o&&Ii(0,a-i,l,r,0,o),s&&(Rr(n.index,e)[8]=l)}}(t,e,n,Nr(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-19;try{Ke(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Pi(r,i):o&&s.push(null)}}finally{Ke(-1)}}(t,e,n))}function _i(t,e,n=Nr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function yi(t){return t.tView||(t.tView=vi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function vi(t,e,n,r,i,s,o,a,l,c){const u=19+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xr);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c}}function wi(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ci(t,e,n,r,i,s,o,a){const l=Ar(n,e),c=Ir(t,n);let u,h=c.inputs;if(!o&&null!=h&&(u=h[r]))Gi(t,e,u,r,i),Oe(c)&&function(t,e){const n=Rr(e,t);16&n[2]||(n[2]|=64)}(e,n+19);else if(3===c.type){r="class"===(d=r)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d;const t=a?a(c,e):e[11];i=null!=s?s(i,c.tagName||"",r):i,ln(t)?t.setProperty(l,r,i):dn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i)}var d}function xi(t,e,n,r){let i=!1;if(ke()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Yr(n,o.selectors,!1)&&(i||(i=[]),kn(Pn(n,e),t,o.type),Se(o)?(2&n.flags&&$r(n),Ei(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,ki(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}Si(t,n,s.length);let a=!1,l=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=fn(n.mergedAttrs,c.hostAttrs),Ai(t,e,c),Ti(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),l=!0),Mi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],e=t.inputs;s.push(null!==i?Ri(e,i):null),o=bi(e,l,o),a=bi(t.outputs,l,a)}null!==o&&((o.hasOwnProperty("class")||o.hasOwnProperty("className"))&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),Oi(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=fn(n.mergedAttrs,n.attrs),i}function Mi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Oi(t,e,n){for(let r=0;r<n;r++)e.push(Xr),t.blueprint.push(Xr),t.data.push(null)}function Pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Si(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Ei(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ti(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Se(e)&&(n[""]=t)}}function ki(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ai(t,e,n){t.data.push(n);const r=n.factory||(n.factory=we(n.type)),i=new sn(r,Se(n),null);t.blueprint.push(i),e.push(i)}function Ni(t,e,n){const r=Nr(e,t),i=yi(n),s=t[10],o=Vi(t,ui(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function Ii(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ri(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Di(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function ji(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];fi(e,t,e.template,t[8])}}}function Fi(t,e){const n=Rr(e,t);if(Fr(n)&&80&n[2]){const t=n[1];fi(t,n,t.template,n[8])}}function Ui(t,e){const n=Rr(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),di(r,n,n[8])}function Vi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Li(t){for(;t;){t[2]|=64;const e=Jr(t);if(Ee(t)&&!e)return t;t=e}return null}function $i(t,e,n){const r=e[10];r.begin&&r.begin();try{fi(t,e,t.template,n)}catch(i){throw Zi(e,i),i}finally{r.end&&r.end()}}function Hi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Dr(n),i=r[1];pi(i,r,i.template,n)}}(t[8])}function zi(t,e,n){ze(0),e(t,n)}const qi=(()=>Promise.resolve(null))();function Bi(t){return t[7]||(t[7]=[])}function Wi(t){return t.cleanup||(t.cleanup=[])}function Zi(t,e){const n=t[9],r=n?n.get(zn,null):null;r&&r.handleError(e)}function Gi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Yi(t,e){const n=e[3];return-1===t.index?xe(n)?n:null:n}function Qi(t,e){const n=Yi(t,e);return n?as(e[11],n[7]):null}function Ki(t,e,n,r,i){if(null!=r){let s,o=!1;xe(r)?s=r:Ce(r)&&(o=!0,r=r[0]);const a=kr(r);0===t&&null!==n?null==i?ss(e,n,a):is(e,n,a,i||null):1===t&&null!==n?is(e,n,a,i||null):2===t?function(t,e,n){const r=as(t,e);r&&function(t,e,n,r){ln(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==kr(n)&&Ki(e,t,r,s,i);for(let o=9;o<n.length;o++){const i=n[o];hs(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Xi(t,e,n,r){const i=Qi(t.node,e);i&&hs(t,e,e[11],n?1:2,i,r)}function Ji(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function ts(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ji(i,r),e>0&&(t[n-1][4]=r[4]);const s=ne(t,9+e);Xi(r[1],r,!1,null);const o=s[5];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function es(t,e){if(!(256&e[2])){const n=e[11];ln(n)&&n.destroyNode&&hs(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return rs(t[1],t);for(;e;){let n=null;if(Ce(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ce(e)&&rs(e[1],e),e=ns(e,t);null===e&&(e=t),Ce(e)&&rs(e[1],e),n=e&&e[4]}e=n}}(e)}}function ns(t,e){let n;return Ce(t)&&(n=t[6])&&2===n.type?Yi(n,t):t[3]===e?null:t[3]}function rs(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof sn||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):kr(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&ln(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&xe(e[3])){r!==e[3]&&Ji(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function is(t,e,n,r){ln(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ss(t,e,n){ln(t)?t.appendChild(e,n):e.appendChild(n)}function os(t,e,n,r){null!==r?is(t,e,n,r):ss(t,e,n)}function as(t,e){return ln(t)?t.parentNode(e):e.parentNode}function ls(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Qi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Nr(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ae.ShadowDom&&n!==ae.Native)return null}return Nr(r,n)}(t,r,e);if(null!=i){const t=e[11],s=function(t,e){if(2===t.type){const n=Yi(t,e);return null===n?null:cs(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Nr(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)os(t,i,n[e],s);else os(t,i,n,s)}}function cs(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Nr(n,e);if(0===r)return cs(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return xe(t)?cs(-1,t):kr(t)}}{const r=e[16],i=r[6],s=Jr(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function us(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;o&&0===e&&(a&&Lr(kr(a),r),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(us(t,e,n.child,r,i,s,!1),Ki(e,t,i,a,s)):1===l?ds(t,e,r,n,i,s):Ki(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function hs(t,e,n,r,i,s){us(n,r,t.node.child,e,i,s,!1)}function ds(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Ki(e,t,i,a[l],s);else us(t,e,a,o[3],i,s,!0)}function fs(t,e,n){ln(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ps(t,e,n){ln(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class gs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(kr(o)),xe(o))for(let e=9;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6],o=Jr(e);let a=s.projection[r.projection];null!==a&&null!==o&&t(o[1],o,a,i,!0)}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}es(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Bi(n=this._lView).push(r),e.firstCreatePass&&Wi(e).push(n[7].length-1,null)}markForCheck(){Li(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ue(!0);try{$i(t,e,n)}finally{Ue(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,hs(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ms extends gs{constructor(t){super(t),this._view=t}detectChanges(){Hi(this._view)}checkNoChanges(){!function(t){Ue(!0);try{Hi(t)}finally{Ue(!1)}}(this._view)}get context(){return null}}let _s,ys,vs;function ws(t,e,n){return _s||(_s=class extends t{}),new _s(Nr(e,n))}function bs(t,e,n,r){return ys||(ys=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ui(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),di(e,n,t);const i=new gs(n);return i._tViewNode=n[6],i}}),0===n.type?new ys(r,n,ws(e,n,r)):null}function Cs(t,e,n,r){let i;vs||(vs=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return ws(e,this._hostTNode,this._hostView)}get injector(){return new Un(this._hostTNode,this._hostView)}get parentInjector(){const t=Tn(this._hostTNode,this._hostView),e=yn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=_n(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return gn(t)&&null!=n?new Un(n,e):new Un(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Xt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),xe(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new vs(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-9?(e[4]=n[i],ee(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(o,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Xi(r,n,!0,cs(i,this._lContainer)),t.attachToViewContainerRef(this),ee(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=ts(t,e);n&&es(n[1],n)})(this._lContainer,e),ne(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ts(this._lContainer,e);return n&&null!=ne(this._lContainer[8],e)?new gs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(xe(s))i=s,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=kr(s);else if(t=r[11].createComment(""),Ee(r)){const e=r[11],i=Nr(n,r);is(e,as(e,i),t,function(t,e){return ln(t)?t.nextSibling(e):e.nextSibling}(e,i))}else ls(r[1],r,t,n);r[n.index]=i=Di(s,r,t,n),Vi(r,i)}return new vs(i,n,r)}let xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ms(),t})();const Ms=function(t=!1){return function(t,e,n){if(!n&&Oe(t)){const n=Rr(t.index,e);return new gs(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new gs(e[16],e):null}(Re(),Ae(),t)},Os=new Ut("Set Injector scope."),Ps={},Ss={},Es=[];let Ts=void 0;function ks(){return void 0===Ts&&(Ts=new Kt),Ts}function As(t,e=null,n=null,r){return e=e||ks(),new Ns(t,n,e,r)}class Ns{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&te(e,n=>this.processProvider(n,t,e)),te([t],t=>this.processInjectorType(t,[],i)),this.records.set(Vt,Ds(void 0,this));const s=this.records.get(Os);this.scope=null!=s?s.value:null,this.injectorDefTypes.forEach(t=>this.get(t)),this.source=r||("object"==typeof t?null:wt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Lt,n=at.Default){this.assertNotDestroyed();const r=Bt(this);try{if(!(n&at.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ut)&&dt(t);e=n&&this.injectableDefInScope(n)?Ds(Is(t),Ps):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&at.Self?ks():this.parent).get(t,e=n&at.Optional&&e===Lt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(wt(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):wt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($t,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Bt(r)}var i}toString(){const t=[];return this.records.forEach((e,n)=>t.push(wt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Mt(t)))return!1;let r=pt(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=pt(i)),null==r)return!1;if(this.injectorDefTypes.add(s),this.records.set(s,Ds(r.factory,Ps)),null!=r.imports&&!o){let t;n.push(s);try{te(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];te(r,t=>this.processProvider(t,n,r||Es))}}const a=r.providers;if(null!=a&&!o){const e=t;te(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Fs(t=Mt(t))?t:Mt(t&&t.provide);const i=function(t,e,n){return js(t)?Ds(void 0,t.useValue):Ds(Rs(t,e,n),Ps)}(t,e,n);if(Fs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Hr()}else{let e=this.records.get(r);e?void 0===e.multi&&Hr():(e=Ds(void 0,Ps,!0),e.factory=()=>Qt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ss?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(wt(t)):e.value===Ps&&(e.value=Ss,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Is(t){const e=dt(t),n=null!==e?e.factory:we(t);if(null!==n)return n;const r=pt(t);if(null!==r)return r.factory;if(t instanceof Ut)throw new Error(`Token ${wt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${wt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[gt]||t[yt]||t[_t]&&t[_t]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Rs(t,e,n){let r=void 0;if(Fs(t))return Is(Mt(t));if(js(t))r=()=>Mt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Qt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gt(Mt(t.useExisting));else{const i=Mt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${wt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Is(i);r=()=>new i(...Qt(t.deps))}var i;return r}function Ds(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function js(t){return null!==t&&"object"==typeof t&&Ht in t}function Fs(t){return"function"==typeof t}const Us=function(t,e,n){return As({name:n},e,t,n)};let Vs=(()=>{class t{static create(t,e){return Array.isArray(t)?Us(t,e,""):Us(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Lt,t.NULL=new Kt,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>Gt(Vt)}),t.__NG_ELEMENT_ID__=-1,t})();const Ls=new Ut("AnalyzeForEntryComponents");let $s=new Map;const Hs=new Set;function zs(t){return"string"==typeof t?t:t.text()}function qs(t,e){let n=t.styles,r=t.classes,i=0;for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?i=t:1==i?r=bt(r,t):2==i&&(n=bt(n,t+": "+e[++s]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let Bs=null;function Ws(){if(!Bs){const t=kt.Symbol;if(t&&t.iterator)Bs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Bs=n)}}}return Bs}function Zs(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Gs{constructor(t){this.wrapped=t}static wrap(t){return new Gs(t)}static unwrap(t){return Gs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Gs}}function Ys(t){return!!Qs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ws()in t)}function Qs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ks(t,e,n){return t[e]=n}function Xs(t,e){return t[e]}function Js(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function to(t,e,n,r){const i=Ae();return Js(i,Le(),e)&&function(t,e,n,r,i,s,o){const a=Ar(t,i),l=i[11];if(null==n)ln(l)?l.removeAttribute(a,e,o):a.removeAttribute(e);else{const i=Ir(r,t),c=null==s?vn(n):s(n,i.tagName||"",e);ln(l)?l.setAttribute(a,e,c,o):o?a.setAttributeNS(o,e,c):a.setAttribute(e,c)}}(Qe(),t,e,Ne(),i,n,r),to}function eo(t,e,n,r){return Js(t,Le(),n)?e+vn(n)+r:Xr}function no(t,e,n,r,i,s,o,a){const l=Ae(),c=Ne(),u=t+19,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,l){const c=e.consts,u=hi(e,n[6],t,0,o||null,Ur(c,a));xi(e,n,u,Ur(c,l)),Xe(e,u);const h=u.tViews=vi(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=wi(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,c,l,e,n,r,i,s,o):c.data[u];De(h,!1);const d=l[11].createComment("");ls(c,l,d,h),Lr(d,l),Vi(l,l[u]=Di(d,l,d,h)),Pe(h)&&mi(c,l,h),null!=o&&_i(l,h,a)}function ro(t,e=at.Default){const n=Ae();return null==n?Gt(t,e):An(Re(),n,Mt(t),e)}function io(){throw new Error("invalid")}function so(t,e,n){const r=Ae();if(Js(r,Le(),e)){const i=Qe();Ci(Ne(),r,i,t,e,n)}return so}function oo(t,e,n,r,i){const s=e.inputs,o=i?"class":"style";Gi(t,n,s[o]||i&&s.className,o,r)}function ao(t,e,n,r){const i=Ae(),s=Ne(),o=19+t,a=i[11],l=i[o]=ci(e,a,Te.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,l=Ur(a,s),c=hi(e,n[6],t,3,i,l);return xi(e,n,c,Ur(a,o)),null!==c.mergedAttrs&&qs(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];De(c,!0);const u=c.mergedAttrs;null!==u&&un(a,l,u);const h=c.classes;null!==h&&ps(a,l,h);const d=c.styles;null!==d&&fs(a,l,d),ls(s,i,l,c),0===Te.lFrame.elementDepthCount&&Lr(l,i),Te.lFrame.elementDepthCount++,Pe(c)&&(mi(s,i,c),function(t,e,n){if(Me(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&_i(i,c)}function lo(){let t=Re();je()?Te.lFrame.isParent=!1:(t=t.parent,De(t,!1));const e=t;Te.lFrame.elementDepthCount--;const n=Ne();n.firstCreatePass&&(Xe(n,t),Me(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&oo(n,e,Ae(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&oo(n,e,Ae(),e.styles,!1)}function co(t,e,n,r){ao(t,e,n,r),lo()}function uo(){return Ae()}function ho(t){return!!t&&"function"==typeof t.then}function fo(t){return!!t&&"function"==typeof t.subscribe}function po(t,e,n=!1,r){const i=Ae(),s=Ne(),o=Re();return function(t,e,n,r,i,s,o=!1,a){const l=Pe(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=Bi(e);let h=!0;if(3===r.type){const d=Nr(r,e),f=a?a(d):ce,p=f.target||d,g=u.length,m=a?t=>a(kr(t[r.index])).target:r.index;if(ln(n)){let o=null;if(!a&&l&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=mo(r,e,s,!1);const t=n.listen(f.name||p,i,s);u.push(s,t),c&&c.push(i,m,g,g+1)}}else s=mo(r,e,s,!0),p.addEventListener(i,s,o),u.push(s),c&&c.push(i,m,g,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),po}function go(t,e,n){try{return!1!==e(n)}catch(r){return Zi(t,r),!1}}function mo(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Rr(t.index,e):e;0==(32&e[2])&&Li(o);let a=go(e,n,s),l=i.__ngNextListenerFn__;for(;l;)a=go(e,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function _o(t=1){return function(t){return(Te.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Te.lFrame.contextLView))[8]}(t)}function yo(t,e,n){return vo(t,"",e,"",n),yo}function vo(t,e,n,r,i){const s=Ae(),o=eo(s,e,n,r);if(o!==Xr){const e=Qe();Ci(Ne(),s,e,t,o,i)}return vo}const wo=[];function bo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ri(s):si(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];Co(t[a],e)&&(l=!0,t[a+1]=r?ai(n):ii(n)),a=r?ri(n):si(n)}l&&(t[n+1]=r?ii(s):ai(s))}function Co(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&se(t,e)>=0}function xo(t,e){return function(t,e,n,r){const i=Ae(),s=Ne(),o=function(t){const e=Te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();if(s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[Qe()+19],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Te.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=e.residualClasses;if(null===i)0===e.classBindings&&(n=Oo(n=Mo(null,t,e,n,!0),e.attrs,!0),s=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=Mo(i,t,e,n,!0),null===s){let n=function(t,e,n){const r=e.classBindings;if(0!==si(r))return t[ri(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Mo(null,t,e,n[1],!0),n=Oo(n,e.attrs,!0),function(t,e,n,r){t[ri(e.classBindings)]=r}(t,e,0,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Oo(r,t[s].hostAttrs,!0);return Oo(r,e.attrs,!0)}(t,e)}return void 0!==s&&(e.residualClasses=s),n}(i,r,e),function(t,e,n,r,i,s){let o=e.classBindings,a=ri(o),l=si(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||se(t,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const e=ri(t[a+1]);t[r+1]=ni(e,a),0!==e&&(t[e+1]=oi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ni(a,0),0!==a&&(t[a+1]=oi(t[a+1],r)),a=r;else t[r+1]=ni(l,0),0===a?a=r:t[l+1]=oi(t[l+1],r),l=r;u&&(t[r+1]=ii(t[r+1])),bo(t,c,r,!0),bo(t,c,r,!1),function(t,e,n,r,i){const s=t.residualClasses;null!=s&&"string"==typeof e&&se(s,e)>=0&&(n[r+1]=ai(n[r+1]))}(e,c,t,r),o=ni(a,l),e.classBindings=o}(i,r,e,n,s)}}(s,t,o),e!==Xr&&Js(i,o,e)){let r;null==n&&(r=function(){const t=Te.lFrame;return null===t?null:t.currentSanitizer}())&&(n=r),function(t,e,n,r,i,s,o,a){if(3!==e.type)return;const l=t.data,c=l[a+1];So(1==(1&c)?Po(l,e,n,i,si(c),!0):void 0)||(So(s)||function(t){return 2==(2&t)}(c)&&(s=Po(l,null,n,i,a,!0)),function(t,e,n,r,i){const s=ln(t);i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r)}(r,0,Ar(Qe(),n),i,s))}(s,s.data[Qe()+19],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=wt(Qn(t)))),t}(e,n),0,o)}}(t,e,null),xo}function Mo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Oo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Oo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),re(t,o,!!n||e[++s]))}return void 0===t?null:t}function Po(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[i+1];u===Xr&&(u=c?wo:void 0);let h=c?ie(u,r):l===r?u:void 0;if(s&&!So(h)&&(h=ie(e,r)),So(h)&&(a=h,o))return a;const d=t[i+1];i=o?ri(d):si(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ie(t,r))}return a}function So(t){return void 0!==t}function Eo(t,e=""){const n=Ae(),r=Ne(),i=t+19,s=r.firstCreatePass?hi(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return ln(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);ls(r,n,o,s),De(s,!1)}function To(t){return ko("",t,""),To}function ko(t,e,n){const r=Ae(),i=eo(r,t,e,n);return i!==Xr&&function(t,e,n){const r=Ar(e,t),i=t[11];ln(i)?i.setValue(r,n):r.textContent=n}(r,Qe(),i),ko}function Ao(t,e){const n=Dr(t)[1],r=n.data.length-1;Xe(n,{directiveStart:r,directiveEnd:r+1})}function No(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Se(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Io(t.inputs),e.declaredInputs=Io(t.declaredInputs),e.outputs=Io(t.outputs);const n=i.hostBindings;n&&jo(t,n);const s=i.viewQuery,o=i.contentQueries;s&&Ro(t,s),o&&Do(t,o),ct(t.inputs,i.inputs),ct(t.declaredInputs,i.declaredInputs),ct(t.outputs,i.outputs),e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===No&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fn(i.hostAttrs,n=fn(n,i.hostAttrs))}}(r)}function Io(t){return t===ce?{}:t===ue?[]:t}function Ro(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Do(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function jo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class Fo{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Uo(){return Vo.ngInherit=!0,Vo}function Vo(t){t.type.prototype.ngOnChanges&&(t.setInput=Lo,t.onChanges=function(){const t=$o(this),e=t&&t.current;if(e){const n=t.previous;if(n===ce)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Lo(t,e,n,r){const i=$o(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ce,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new Fo(l&&l.currentValue,e,o===ce),t[r]=e}function $o(t){return t.__ngSimpleChanges__||null}function Ho(t,e,n,r,i){if(t=Mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ho(t[s],e,n,r,i);else{const s=Ne(),o=Ae();let a=Fs(t)?t:Mt(t.provide),l=Rs(t);const c=Re(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(t.useClass||Fs(t)){const n=(t.useClass||t).prototype.ngOnDestroy;n&&(s.destroyHooks||(s.destroyHooks=[])).push(e.length,n)}if(Fs(t)||!t.multi){const t=new sn(l,i,ro),r=qo(a,e,i?u:u+d,h);-1==r?(kn(Pn(c,o),s,a),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(t),o.push(t)):(n[r]=t,o[r]=t)}else{const t=qo(a,e,u+d,h),f=qo(a,e,u,u+d),p=t>=0&&n[t],g=f>=0&&n[f];if(i&&!g||!i&&!p){kn(Pn(c,o),s,a);const t=function(t,e,n,r,i){const s=new sn(t,n,ro);return s.multi=[],s.index=e,s.componentProviders=0,zo(s,i,r&&!n),s}(i?Wo:Bo,n.length,i,r,l);!i&&g&&(n[f].providerFactory=t),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(t),o.push(t)}else zo(n[i?f:t],l,!i&&r);!i&&r&&g&&n[f].componentProviders++}}}function zo(t,e,n){t.multi.push(e),n&&t.componentProviders++}function qo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Bo(t,e,n,r){return Zo(this.multi,[])}function Wo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Dn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Zo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Zo(i,s);return s}function Zo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Go(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ne();if(r.firstCreatePass){const i=Se(t);Ho(n,r.data,r.blueprint,i,!0),Ho(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Yo{}class Qo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ko=(()=>{class t{}return t.NULL=new Qo,t})(),Xo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Jo(t),t})();const Jo=function(t){return ws(t,Re(),Ae())};class ta{}const ea=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ra(),t})();const ra=function(){const t=Ae(),e=Rr(Re().index,t);return function(t){const e=t[11];if(ln(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ce(e)?e:t)};let ia=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const oa=new sa("9.0.0");class aa{constructor(){}supports(t){return Ys(t)}create(t){return new ca(t)}}const la=(t,e)=>e;class ca{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||la}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<fa(n,r,i)?e:n,o=fa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ys(t))throw new Error(`Error trying to diff '${wt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Zs(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Zs(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ws()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Zs(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Zs(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Zs(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Zs(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ua(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new da),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new da),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ua{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ha{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Zs(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class da{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ha,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class pa{constructor(){}supports(t){return t instanceof Map||Qs(t)}create(){return new ga}}class ga{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Qs(t)))throw new Error(`Error trying to diff '${wt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ma(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Zs(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ma{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let _a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new it]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new aa])}),t})(),ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new it]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new pa])}),t})();const va=[new pa],wa=new _a([new aa]),ba=new ya(va);let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xa(t,Xo),t})();const xa=function(t,e){return bs(t,e,Re(),Ae())};let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oa(t,Xo),t})();const Oa=function(t,e){return Cs(t,e,Re(),Ae())},Pa={};function Sa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ea=new Ut("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>bn});class Ta extends Yo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Kr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Sa(this.componentDef.inputs)}get outputs(){return Sa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Pa,i);return s!==Pa||r===Pa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ta,cn),o=i.get(ia,null),a=s.createRenderer(null,this.componentDef),l=n?function(t,e,n){if(ln(t))return t.selectRootElement(e,n===ae.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):ci(this.componentDef.selectors[0][0]||"div",s.createRenderer(null,this.componentDef),null),c=this.componentDef.onPush?576:528,u="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h={components:[],scheduler:bn,clean:qi,playerHandler:null,flags:0},d=vi(0,-1,null,1,0,null,null,null,null,null),f=ui(null,d,h,c,null,null,s,a,o,i),p=n&&l?oa.full:null;let g,m;We(f,null);try{const t=function(t,e,n,r,i,s,o){const a=n[1];n[19]=t;const l=hi(a,null,0,3,null,null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(qs(l,c),null!==t&&(un(i,t,c),null!==l.classes&&ps(i,t,l.classes),null!==l.styles&&fs(i,t,l.styles)));const u=r.createRenderer(t,e);null!==t&&s&&(ln(i)?i.setAttribute(t,"ng-version",s):t.setAttribute("ng-version",s));const h=ui(n,yi(e),null,e.onPush?64:16,n[19],l,r,u,null);return a.firstCreatePass&&(kn(Pn(l,n),a,e.type),Ei(a,l),ki(l,n.length,1)),Vi(n,h),n[19]=h}(l,this.componentDef,f,s,a,p);m=Ir(f[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Re();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Si(t,r,1),Ai(t,e,n));const i=Dn(e,t,e.length-1,r);Lr(i,e);const s=Nr(r,e);return s&&Lr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Re();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ke(a.index-19);const t=n[1];Mi(t,e),Oi(t,n,e.hostVars),Pi(e,o)}return o}(t,this.componentDef,f,h,[Ao]),di(d,f,null)}finally{Ye()}const _=new ka(this.componentType,g,ws(Xo,m,f),f,m);return n&&!u||(_.hostView._tViewNode.child=m),_}}class ka extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ms(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=wi(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}var Aa=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Na={};function Ia(t){return t in Na||(Na[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),Na[t]}const Ra=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Da="en-US";function ja(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Da=t.toLowerCase().replace(/_/g,"-"))}const Fa=new Map,Ua={provide:Ko,useClass:class extends Ko{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ve(t);return new Ta(e,this.ngModule)}},deps:[Xt]};class Va extends Xt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[];const n=be(t),r=t[Dt]||null;r&&ja(r),this._bootstrapComponents=Cn(n.bootstrap),this._r3Injector=As(t,e,[{provide:Xt,useValue:this},Ua],wt(t)),this.instance=this.get(t)}get(t,e=Vs.THROW_IF_NOT_FOUND,n=at.Default){return t===Vs||t===Xt||t===Vt?this:this._r3Injector.get(t,e,n)}get componentFactoryResolver(){return this.get(Ko)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class La extends Jt{constructor(t){super(),this.moduleType=t,null!==be(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${wt(e)} vs ${wt(e.name)}`)})(t,Fa.get(t),e),Fa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Va(this.moduleType,t)}}function $a(t,e,n,r){const i=Ae(),s=function(t,e){return t[e+19]}(i,t);return function(t,e){return Gs.isWrapped(e)&&(e=Gs.unwrap(e),t[Te.lFrame.bindingIndex]=Xr),e}(i,function(t,e){return t[1].data[e+19].pure}(i,t)?function(t,e,n,r,i,s,o){const a=e+n;return function(t,e,n,r){const i=Js(t,e,n);return Js(t,e+1,r)||i}(t,a,i,s)?Ks(t,a+2,o?r.call(o,i,s):r(i,s)):Xs(t,a+2)}(i,Ve(),e,s.transform,n,r,s):s.transform(n,r))}class Ha extends O{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof h&&t.add(o),o}}function za(){return this._results[Ws()]()}class qa{constructor(){this.dirty=!0,this._results=[],this.changes=new Ha,this.length=0;const t=Ws(),e=qa.prototype;e[t]||(e[t]=za)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ba{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ba(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Wa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==nl(t,e).matches&&this.queries[e].setDirty()}}class Za{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ga{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ga(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ya{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ya(this.metadata)):null}isApplyingToNode(t){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(t.parent?t.parent.index:-1):this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Qa(e,n[r]))}else{const n=this.metadata.predicate;n===Ca?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Rn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Xo||r===Ma||r===Ca&&0===e.type)this.addMatch(e.index,-2);else{const n=Rn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Qa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ka(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?ws(Xo,t,e):0===t.type?bs(Ca,Xo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Xo?ws(Xo,e,t):n===Ca?bs(Ca,Xo,e,t):n===Ma?Cs(Ma,Xo,e,t):void 0}(t,e,r):Dn(t,t[1],n,e)}function Xa(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Ka(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ja(t){const e=Ae(),n=Ne(),r=He();ze(r+1);const i=nl(n,r);if(t.dirty&&jr(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Xa(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):Xa(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function tl(t,e,n){!function(t,e,n,r,i,s){t.firstCreatePass&&function(t,e,n){null===t.queries&&(t.queries=new Ga),t.queries.track(new Ya(e,-1))}(t,new Za(n,r,!1,i)),function(t,e){const n=new qa;!function(t,e,n,r){const i=Bi(e);i.push(n),t.firstCreatePass&&Wi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new Wa),e[5].queries.push(new Ba(n))}(t,e)}(Ne(),Ae(),t,e,n)}function el(){return t=Ae(),e=He(),t[5].queries[e].queryList;var t,e}function nl(t,e){return t.queries.getByIndex(e)}const rl=new Ut("Application Initializer");let il=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ho(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gt(rl,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const sl=new Ut("AppId"),ol={provide:sl,useFactory:function(){return`${al()}${al()}${al()}`},deps:[]};function al(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ll=new Ut("Platform Initializer"),cl=new Ut("Platform ID"),ul=new Ut("appBootstrapListener");let hl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const dl=new Ut("LocaleId"),fl=new Ut("DefaultCurrencyCode");class pl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const gl=function(t){return new La(t)},ml=gl,_l=function(t){return Promise.resolve(gl(t))},yl=function(t){const e=gl(t),n=Cn(be(t).declarations).reduce((t,e)=>{const n=ve(e);return n&&t.push(new Ta(n)),t},[]);return new pl(e,n)},vl=yl,wl=function(t){return Promise.resolve(yl(t))};let bl=(()=>{class t{constructor(){this.compileModuleSync=ml,this.compileModuleAsync=_l,this.compileModuleAndAllComponentsSync=vl,this.compileModuleAndAllComponentsAsync=wl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Cl=new Ut("compilerOptions"),xl=(()=>Promise.resolve(0))();function Ml(t){"undefined"==typeof Zone?xl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ol{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=kt.requestAnimationFrame,e=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.lastRequestAnimationFrameId=-1,Tl(t),El(t)}),Tl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return kl(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Al(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return kl(t),e.invoke(r,i,s,o,a)}finally{Al(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Tl(t),El(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ol.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ol.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Sl,Pl,Pl);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Pl(){}const Sl={};function El(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function kl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Al(t){t._nesting--,El(t)}class Nl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Il=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ol.assertNotInAngularZone(),Ml(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ml(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ol))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Rl=(()=>{class t{constructor(){this._applications=new Map,Fl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Fl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Dl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let jl,Fl=new Dl,Ul=function(t,e,n){const r=new La(n);if(0===$s.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Cl,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const s=function(){const t=kt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),o=Vs.create({providers:i}).get(s.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(o.get(t)))(t);n.set(t,e=r.then(zs))}return e}return $s.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(i).then(()=>function(t){Hs.delete(t)}(n));e.push(l)}),$s=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const Vl=new Ut("AllowMultipleToken");class Ll{constructor(t,e){this.name=t,this.token=e}}function $l(t,e,n=[]){const r=`Platform: ${e}`,i=new Ut(r);return(e=[])=>{let s=Hl();if(!s||s.injector.get(Vl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Os,useValue:"platform"});!function(t){if(jl&&!jl.destroyed&&!jl.injector.get(Vl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jl=t.get(zl);const e=t.get(ll,null);e&&e.forEach(t=>t())}(Vs.create({providers:t,name:r}))}return function(t){const e=Hl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Hl(){return jl&&!jl.destroyed?jl:null}let zl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Nl:("zone.js"===t?void 0:t)||new Ol({enableLongStackTrace:er(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ol,useValue:n}];return n.run(()=>{const e=Vs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(zn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Wl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return ho(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(il);return t.runInitializers(),t.donePromise.then(()=>(ja(i.injector.get(dl,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ql({},e);return Ul(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Bl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${wt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Gt(Vs))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function ql(t,e){return Array.isArray(e)?e.reduce(ql,t):Object.assign(Object.assign({},t),e)}let Bl=(()=>{class t{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=er(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ol.assertNotInAngularZone(),Ml(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ol.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return S(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:Z(e)(G(t,n))}(o,a.pipe(t=>{return Y()((e=et,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,J);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Yo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Xt),i=n.create(Vs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Il,null);return s&&i.injector.get(Rl).registerApplication(i.location.nativeElement,s),this._loadComponent(i),er()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Wl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ul,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Wl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ol),Gt(hl),Gt(Vs),Gt(zn),Gt(Ko),Gt(il))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Wl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zl{}class Gl{}const Yl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ql=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Yl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Kl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Kl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Gt(bl),Gt(Gl,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Kl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Xl=$l(null,"core",[{provide:cl,useValue:"unknown"},{provide:zl,deps:[Vs]},{provide:Rl,deps:[]},{provide:hl,deps:[]}]),Jl=[{provide:Bl,useClass:Bl,deps:[Ol,hl,Vs,zn,Ko,il]},{provide:Ea,deps:[Ol],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:il,useClass:il,deps:[[new it,rl]]},{provide:bl,useClass:bl,deps:[]},ol,{provide:_a,useFactory:function(){return wa},deps:[]},{provide:ya,useFactory:function(){return ba},deps:[]},{provide:dl,useFactory:function(t){return ja(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new rt(dl),new it,new ot]]},{provide:fl,useValue:"USD"}];let tc=(()=>{class t{constructor(t){}}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Gt(Bl))},providers:Jl}),t})(),ec=null;function nc(){return ec}const rc=new Ut("DocumentToken");let ic=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:sc,token:t,providedIn:"platform"}),t})();function sc(){return Gt(ac)}const oc=new Ut("Location Initialized");let ac=(()=>{class t extends ic{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=nc().getLocation(),this._history=nc().getHistory()}getBaseHrefFromDOM(){return nc().getBaseHref(this._doc)}onPopState(t){nc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){nc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){lc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){lc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Gt(rc))},t.\u0275prov=ut({factory:cc,token:t,providedIn:"platform"}),t})();function lc(){return!!window.history.pushState}function cc(){return new ac(Gt(rc))}function uc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function hc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function dc(t){return t&&"?"!==t[0]?"?"+t:t}let fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:pc,token:t,providedIn:"root"}),t})();function pc(t){const e=Gt(rc).location;return new mc(Gt(ic),e&&e.origin||"")}const gc=new Ut("appBaseHref");let mc=(()=>{class t extends fc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+dc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+dc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+dc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(ic),Gt(gc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),_c=(()=>{class t extends fc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=uc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+dc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+dc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(ic),Gt(gc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),yc=(()=>{class t{constructor(t,e){this._subject=new Ha,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=hc(wc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+dc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,wc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Gt(fc),Gt(ic))},t.normalizeQueryParams=dc,t.joinWithSlash=uc,t.stripTrailingSlash=hc,t.\u0275prov=ut({factory:vc,token:t,providedIn:"root"}),t})();function vc(){return new yc(Gt(fc),Gt(ic))}function wc(t){return t.replace(/\/index.html$/,"")}const bc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class Cc{}let xc=(()=>{class t extends Cc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ia(e);if(n)return n;const r=e.split("-")[0];if(n=Ia(r),n)return n;if("en"===r)return Aa;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ra.PluralCase]}(e||this.locale)(t)){case bc.Zero:return"zero";case bc.One:return"one";case bc.Two:return"two";case bc.Few:return"few";case bc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Gt(dl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Mc(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let Oc=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ys(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${wt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(ro(_a),ro(ya),ro(Xo),ro(na))},t.\u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Pc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){er()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Pc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Ec(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Ec(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ro(Ma),ro(Ca),ro(_a))},t.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Ec{constructor(t,e){this.record=t,this.view=e}}let Tc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new kc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ac("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ac("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ro(Ma),ro(Ca))},t.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class kc{constructor(){this.$implicit=null,this.ngIf=null}}function Ac(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}let Nc=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[{provide:Cc,useClass:xc}]}),t})(),Ic=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new Rc(Gt(rc),window,Gt(zn))}),t})();class Rc{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Dc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Dc,ec||(ec=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Fc||(Fc=document.querySelector("base"),Fc)?Fc.getAttribute("href"):null;return null==e?null:(n=e,jc||(jc=document.createElement("a")),jc.setAttribute("href",n),"/"===jc.pathname.charAt(0)?jc.pathname:"/"+jc.pathname);var n}resetBaseElement(){Fc=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Mc(document.cookie,t)}}let jc,Fc=null;const Uc=new Ut("TRANSITION_ID"),Vc=[{provide:rl,useFactory:function(t,e,n){return()=>{n.get(il).donePromise.then(()=>{const n=nc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Uc,rc,Vs],multi:!0}];class Lc{static init(){var t;t=new Lc,Fl=t}addToWindow(t){kt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(t=>{const e=kt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?nc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const $c=new Ut("EventManagerPlugins");let Hc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Gt($c),Gt(Ol))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class zc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=nc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let qc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Bc=(()=>{class t extends qc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>nc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(rc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Wc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zc=/%COMP%/g;function Gc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Gc(t,i,n):(i=i.replace(Zc,t),n.push(i))}return n}function Yc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Kc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ae.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Xc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ae.Native:case ae.ShadowDom:return new Jc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Gc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Gt(Hc),Gt(Bc),Gt(sl))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Kc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Wc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Wc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Wc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&ea.DashCase?t.style.setProperty(e,n,r&ea.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ea.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yc(n)):this.eventManager.addEventListener(t,e,Yc(n))}}class Xc extends Kc{constructor(t,e,n,r){super(t),this.component=n;const i=Gc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Zc,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Zc,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Jc extends Kc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ae.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Gc(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let tu=(()=>{class t extends zc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(rc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const eu=["alt","control","meta","shift"],nu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ru={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},iu={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let su=(()=>{class t extends zc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nc().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(eu.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ru.hasOwnProperty(e)&&(e=ru[e]))}return nu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),eu.forEach(r=>{r!=n&&(0,iu[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Gt(rc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),ou=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return Gt(au)},token:t,providedIn:"root"}),t})(),au=(()=>{class t extends ou{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Mr.NONE:return e;case Mr.HTML:return Kn(e,"HTML")?Qn(e):Cr(this._doc,String(e));case Mr.STYLE:return Kn(e,"Style")?Qn(e):function(t){if(!(t=String(t).trim()))return"";const e=t.match(Pr);return e&&sr(e[1])===e[1]||t.match(Or)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(er()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e);case Mr.SCRIPT:if(Kn(e,"Script"))return Qn(e);throw new Error("unsafe value used in a script context");case Mr.URL:return Xn(e),Kn(e,"URL")?Qn(e):sr(String(e));case Mr.RESOURCE_URL:if(Kn(e,"ResourceURL"))return Qn(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new Bn(t)}bypassSecurityTrustStyle(t){return new Wn(t)}bypassSecurityTrustScript(t){return new Zn(t)}bypassSecurityTrustUrl(t){return new Gn(t)}bypassSecurityTrustResourceUrl(t){return new Yn(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(rc))},t.\u0275prov=ut({factory:function(){return t=Gt(Vt),new au(t.get(rc));var t},token:t,providedIn:"root"}),t})();const lu=$l(Xl,"browser",[{provide:cl,useValue:"browser"},{provide:ll,useValue:function(){Dc.makeCurrent(),Lc.init()},multi:!0},{provide:rc,useFactory:function(){return function(t){on=t}(document),document},deps:[]}]),cu=[[],{provide:Os,useValue:"root"},{provide:zn,useFactory:function(){return new zn},deps:[]},{provide:$c,useClass:tu,multi:!0,deps:[rc,Ol,cl]},{provide:$c,useClass:su,multi:!0,deps:[rc]},[],{provide:Qc,useClass:Qc,deps:[Hc,Bc,sl]},{provide:ta,useExisting:Qc},{provide:qc,useExisting:Bc},{provide:Bc,useClass:Bc,deps:[rc]},{provide:Il,useClass:Il,deps:[Ol]},{provide:Hc,useClass:Hc,deps:[$c,Ol]},[]];let uu=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:sl,useValue:e.appId},{provide:Uc,useExisting:sl},Vc]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Gt(t,12))},providers:cu,imports:[Nc,tc]}),t})();function hu(t,e){return new w(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=H(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;const du=new Ut("NgValueAccessor"),fu={provide:du,useExisting:xt(()=>pu),multi:!0};let pu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ro(na),ro(Xo))},t.\u0275dir=ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&po("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(t){return e.onTouched()}))},features:[Go([fu])]}),t})();const gu={provide:du,useExisting:xt(()=>_u),multi:!0},mu=new Ut("CompositionEventMode");let _u=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=nc()?nc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(ro(na),ro(Xo),ro(mu,8))},t.\u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&po("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(t){return e.onTouched()}))("compositionstart",(function(t){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Go([gu])]}),t})(),yu=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t}),t})(),vu=(()=>{class t extends yu{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return wu(e||t)},t.\u0275dir=ye({type:t,features:[No]}),t})();const wu=Vn(vu);function bu(){throw new Error("unimplemented")}class Cu extends yu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return bu()}get asyncValidator(){return bu()}}let xu=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(ro(Cu,2))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&xo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[No]}),t})();function Mu(t){return null==t||0===t.length}const Ou=new Ut("NgValidators"),Pu=new Ut("NgAsyncValidators"),Su=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Eu{static min(t){return e=>{if(Mu(e.value)||Mu(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Mu(e.value)||Mu(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Mu(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Mu(t.value)?null:Su.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Mu(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Eu.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Mu(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Tu);return 0==e.length?null:function(t){return Au(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Tu);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return hu(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return hu(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return hu(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return hu(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(ku)).pipe(F(Au))}}}function Tu(t){return null!=t}function ku(t){const e=ho(t)?H(t):t;if(!fo(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Au(t){const e=t.reduce((t,e)=>null!=e?Object.assign(Object.assign({},t),e):t,{});return 0===Object.keys(e).length?null:e}function Nu(t){return t.validate?e=>t.validate(e):t}function Iu(t){return t.validate?e=>t.validate(e):t}const Ru={provide:du,useExisting:xt(()=>Du),multi:!0};let Du=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ro(na),ro(Xo))},t.\u0275dir=ye({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&po("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[Go([Ru])]}),t})();const ju={provide:du,useExisting:xt(()=>Uu),multi:!0};let Fu=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Uu=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Cu),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(ro(na),ro(Xo),ro(Fu),ro(Vs))},t.\u0275dir=ye({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&po("change",(function(t){return e.onChange()}))("blur",(function(t){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Go([ju])]}),t})();const Vu={provide:du,useExisting:xt(()=>Lu),multi:!0};let Lu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ro(na),ro(Xo))},t.\u0275dir=ye({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&po("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[Go([Vu])]}),t})();const $u='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Hu='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',zu={provide:du,useExisting:xt(()=>qu),multi:!0};let qu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Zs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(ro(na),ro(Xo))},t.\u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&po("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Go([zu])]}),t})();const Bu={provide:du,useExisting:xt(()=>Wu),multi:!0};let Wu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Zs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(ro(na),ro(Xo))},t.\u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&po("change",(function(t){return e.onChange(t.target)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Go([Bu])]}),t})();function Zu(t,e){return[...e.path,t]}function Gu(t,e){t||Qu(e,"Cannot find control with"),e.valueAccessor||Qu(e,"No value accessor for form control with"),t.validator=Eu.compose([t.validator,e.validator]),t.asyncValidator=Eu.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Yu(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Yu(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Yu(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Qu(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Ku(t){return null!=t?Eu.compose(t.map(Nu)):null}function Xu(t){return null!=t?Eu.composeAsync(t.map(Iu)):null}const Ju=[pu,Lu,Du,qu,Wu,Uu];function th(t){const e=nh(t)?t.validators:t;return Array.isArray(e)?Ku(e):e||null}function eh(t,e){const n=nh(e)?e.asyncValidators:t;return Array.isArray(n)?Xu(n):n||null}function nh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rh{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=th(t)}setAsyncValidators(t){this.asyncValidator=eh(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=ku(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length?null:e.reduce((t,e)=>t instanceof sh?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof oh&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ha,this.statusChanges=new Ha}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ih extends rh{constructor(t=null,e,n){super(th(e),eh(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sh extends rh{constructor(t,e,n){super(th(e),eh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ih?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class oh extends rh{constructor(t,e,n){super(th(e),eh(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ih?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ah={provide:vu,useExisting:xt(()=>ch)},lh=(()=>Promise.resolve(null))();let ch=(()=>{class t extends vu{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ha,this.form=new sh({},Ku(t),Xu(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lh.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Gu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lh.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){lh.then(()=>{const e=this._findContainer(t.path),n=new sh({});(function(t,e){null==t&&Qu(e,"Cannot find control with"),t.validator=Eu.compose([t.validator,e.validator]),t.asyncValidator=Eu.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lh.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){lh.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(ro(Ou,10),ro(Pu,10))},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&po("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Go([ah]),No]}),t})(),uh=(()=>{class t extends vu{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Zu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ku(this._validators)}get asyncValidator(){return Xu(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return hh(e||t)},t.\u0275dir=ye({type:t,features:[No]}),t})();const hh=Vn(uh);class dh{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${$u}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Hu}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${$u}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Hu}`)}}const fh={provide:vu,useExisting:xt(()=>ph)};let ph=(()=>{class t extends uh{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof ch||dh.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(ro(vu,5),ro(Ou,10),ro(Pu,10))},t.\u0275dir=ye({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Go([fh]),No]}),t})();const gh={provide:Cu,useExisting:xt(()=>_h)},mh=(()=>Promise.resolve(null))();let _h=(()=>{class t extends Cu{constructor(t,e,n,r){super(),this.control=new ih,this._registered=!1,this.update=new Ha,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Qu(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===_u?n=e:(s=e,Ju.some(t=>s.constructor===t)?(r&&Qu(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Qu(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Qu(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Zs(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Zu(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ku(this._rawValidators)}get asyncValidator(){return Xu(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof ph)&&this._parent instanceof uh?dh.formGroupNameException():this._parent instanceof ph||this._parent instanceof ch||dh.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||dh.missingNameException()}_updateValue(t){mh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;mh.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(ro(vu,9),ro(Ou,10),ro(Pu,10),ro(du,10))},t.\u0275dir=ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Go([gh]),No,Uo()]}),t})(),yh=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})(),vh=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[Fu],imports:[yh]}),t})();function wh(...t){let e=t[t.length-1];return S(e)?(t.pop(),L(t,e)):G(t)}class bh extends O{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}const Ch=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),xh={};class Mh{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Oh(t,this.resultSelector))}}class Oh extends j{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(xh),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(D(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===xh?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ph=new w(t=>t.complete());function Sh(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):Ph}function Eh(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?H(n):Sh()).subscribe(e)})}function Th(){return Z(1)}function kh(t,e){return function(n){return n.lift(new Ah(t,e))}}class Ah{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Nh(t,this.predicate,this.thisArg))}}class Nh extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Ih=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Rh(t){return function(e){return 0===t?Sh():e.lift(new Dh(t))}}class Dh{constructor(t){if(this.total=t,this.total<0)throw new Ih}call(t,e){return e.subscribe(new jh(t,this.total))}}class jh extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Fh(t=Lh){return e=>e.lift(new Uh(t))}class Uh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Vh(t,this.errorFactory))}}class Vh extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Lh(){return new Ch}function $h(t=null){return e=>e.lift(new Hh(t))}class Hh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new zh(t,this.defaultValue))}}class zh extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function qh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kh((e,n)=>t(e,n,r)):W,Rh(1),n?$h(e):Fh(()=>new Ch))}function Bh(t){return function(e){const n=new Wh(t),r=e.lift(n);return n.caught=r}}class Wh{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Zh(t,this.selector,this.caught))}}class Zh extends j{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new E(this,void 0,void 0);this.add(r);const i=D(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Gh(t){return e=>0===t?Sh():e.lift(new Yh(t))}class Yh{constructor(t){if(this.total=t,this.total<0)throw new Ih}call(t,e){return e.subscribe(new Qh(t,this.total))}}class Qh extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Kh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kh((e,n)=>t(e,n,r)):W,Gh(1),n?$h(e):Fh(()=>new Ch))}class Xh{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Jh(t,this.predicate,this.thisArg,this.source))}}class Jh extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function td(t,e){return"function"==typeof e?n=>n.pipe(td((n,r)=>H(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))))):e=>e.lift(new ed(t))}class ed{constructor(t){this.project=t}call(t,e){return e.subscribe(new nd(t,this.project))}}class nd extends j{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new E(this,e,n),s=this.destination;s.add(i),this.innerSubscription=D(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function rd(...t){return Th()(wh(...t))}function id(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new sd(t,e,n))}}class sd{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new od(t,this.accumulator,this.seed,this.hasSeed))}}class od extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ad(t,e){return z(t,e,1)}function ld(t,e,n){return function(r){return r.lift(new cd(t,e,n))}}class cd{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new ud(t,this.nextOrObserver,this.error,this.complete))}}class ud extends p{constructor(t,e,n,i){super(t),this._tapNext=_,this._tapError=_,this._tapComplete=_,this._tapError=n||_,this._tapComplete=i||_,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||_,this._tapError=e.error||_,this._tapComplete=e.complete||_)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class hd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new dd(t,this.callback))}}class dd extends p{constructor(t,e){super(t),this.add(new h(e))}}class fd{constructor(t,e){this.id=t,this.url=e}}class pd extends fd{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gd extends fd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class md extends fd{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _d extends fd{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yd extends fd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vd extends fd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wd extends fd{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bd extends fd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cd extends fd{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Md{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Od{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sd{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ed{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Td{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let kd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&co(0,"router-outlet")},directives:function(){return[Np]},encapsulation:2}),t})();class Ad{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nd(t){return new Ad(t)}function Id(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Rd(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Dd{constructor(t,e){this.routes=t,this.module=e}}function jd(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Fd(r,Ud(e,r))}}function Fd(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&jd(t.children,e)}function Ud(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Vd(t){const e=t.children&&t.children.map(Vd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=kd),n}function Ld(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!$d(t[i],e[i]))return!1;return!0}function $d(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Hd(t){return Array.prototype.concat.apply([],t)}function zd(t){return t.length>0?t[t.length-1]:null}function qd(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Bd(t){return fo(t)?t:ho(t)?H(Promise.resolve(t)):wh(t)}function Wd(t,e,n){return n?function(t,e){return Ld(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Qd(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$d(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Qd(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Qd(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Qd(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Zd{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nd(this.queryParams)),this._queryParamMap}toString(){return tf.serialize(this)}}class Gd{constructor(t,e){this.segments=t,this.children=e,this.parent=null,qd(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ef(this)}}class Yd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nd(this.parameters)),this._parameterMap}toString(){return lf(this)}}function Qd(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Kd(t,e){let n=[];return qd(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),qd(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Xd{}class Jd{parse(t){const e=new ff(t);return new Zd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return ef(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return qd(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Kd(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${ef(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${rf(e)}=${rf(t)}`).join("&"):`${rf(e)}=${rf(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const tf=new Jd;function ef(t){return t.segments.map(t=>lf(t)).join("/")}function nf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rf(t){return nf(t).replace(/%3B/gi,";")}function sf(t){return nf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function of(t){return decodeURIComponent(t)}function af(t){return of(t.replace(/\+/g,"%20"))}function lf(t){return`${sf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${sf(t)}=${sf(e[t])}`).join("")}`;var e}const cf=/^[^\/()?;=#]+/;function uf(t){const e=t.match(cf);return e?e[0]:""}const hf=/^[^=?&#]+/,df=/^[^?&#]+/;class ff{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gd([],{}):new Gd([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Gd(t,e)),n}parseSegment(){const t=uf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Yd(of(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=uf(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=uf(this.remaining);t&&(n=t,this.capture(n))}t[of(e)]=of(n)}parseQueryParam(t){const e=function(t){const e=t.match(hf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(df);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=af(e),i=af(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=uf(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Gd([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class pf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=gf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=mf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return mf(t,this._root).map(t=>t.value)}}function gf(t,e){if(t===e.value)return e;for(const n of e.children){const e=gf(t,n);if(e)return e}return null}function mf(t,e){if(t===e.value)return[e];for(const n of e.children){const r=mf(t,n);if(r.length)return r.unshift(e),r}return[]}class _f{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function yf(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class vf extends pf{constructor(t,e){super(t),this.snapshot=e,Of(this,t)}toString(){return this.snapshot.toString()}}function wf(t,e){const n=function(t,e){const n=new xf([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Mf("",new _f(n,[]))}(t,e),r=new bh([new Yd("",{})]),i=new bh({}),s=new bh({}),o=new bh({}),a=new bh(""),l=new bf(r,i,o,a,s,"primary",e,n.root);return l.snapshot=n.root,new vf(new _f(l,[]),n)}class bf{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(t=>Nd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(t=>Nd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cf(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xf{constructor(t,e,n,r,i,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mf extends pf{constructor(t,e){super(e),this.url=t,Of(this,e)}toString(){return Pf(this._root)}}function Of(t,e){e.value._routerState=t,e.children.forEach(e=>Of(t,e))}function Pf(t){const e=t.children.length>0?` { ${t.children.map(Pf).join(", ")} } `:"";return`${t.value}${e}`}function Sf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ld(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ld(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ld(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ld(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ef(t,e){var n,r;return Ld(t.params,e.params)&&Qd(n=t.url,r=e.url)&&n.every((t,e)=>Ld(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Ef(t.parent,e.parent))}function Tf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function kf(t,e,n,r,i){let s={};return r&&qd(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Zd(n.root===t?e:function t(e,n,r){const i={};return qd(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Gd(e.segments,i)}(n.root,t,e),s,i)}class Af{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Tf(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==zd(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function If(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Rf(t,e,n){if(t||(t=new Gd([],{})),0===t.segments.length&&t.hasChildren())return Df(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=If(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Vf(o,a,e))return s;r+=2}else{if(!Vf(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Gd(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Gd(t.segments.slice(r.pathIndex),t.children),Df(e,0,i)}return r.match&&0===i.length?new Gd(t.segments,{}):r.match&&!t.hasChildren()?jf(t,e,n):r.match?Df(t,0,i):jf(t,e,n)}function Df(t,e,n){if(0===n.length)return new Gd(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return qd(r,(n,r)=>{null!==n&&(i[r]=Rf(t.children[r],e,n))}),qd(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Gd(t.segments,i)}}function jf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Ff(n[i].outlets);return new Gd(r,t)}if(0===i&&Tf(n[0])){r.push(new Yd(t.segments[e].path,n[0])),i++;continue}const s=If(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Tf(o)?(r.push(new Yd(s,Uf(o))),i+=2):(r.push(new Yd(s,{})),i++)}return new Gd(r,{})}function Ff(t){const e={};return qd(t,(t,n)=>{null!==t&&(e[n]=jf(new Gd([],{}),0,t))}),e}function Uf(t){const e={};return qd(t,(t,n)=>e[n]=`${t}`),e}function Vf(t,e,n){return t==n.path&&Ld(e,n.parameters)}class Lf{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Sf(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=yf(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),qd(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=yf(t),i=t.value.component?n.children:e;qd(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=yf(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ed(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Pd(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Sf(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),$f(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function $f(t){Sf(t.value),t.children.forEach($f)}function Hf(t){return"function"==typeof t}function zf(t){return t instanceof Zd}class qf{constructor(t){this.segmentGroup=t||null}}class Bf{constructor(t){this.urlTree=t}}function Wf(t){return new w(e=>e.error(new qf(t)))}function Zf(t){return new w(e=>e.error(new Bf(t)))}function Gf(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Yf{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Xt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(F(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bh(t=>{if(t instanceof Bf)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof qf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(F(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Bh(t=>{if(t instanceof qf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Gd([],{primary:t}):t;return new Zd(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(F(t=>new Gd([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return wh({});const n=[],r=[],i={};return qd(t,(t,s)=>{const o=e(s,t).pipe(F(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),wh.apply(null,n.concat(r)).pipe(Th(),qh(),F(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return wh(...n).pipe(F(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Bh(t=>{if(t instanceof qf)return wh(null);throw t}))),Th(),Kh(t=>!!t),Bh((t,n)=>{if(t instanceof Ch||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return wh(new Gd([],{}));throw new qf(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Jf(r)!==s?Wf(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Wf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zf(i):this.lineralizeSegments(n,i).pipe(z(n=>{const i=new Gd(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Qf(e,r,i);if(!o)return Wf(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Zf(u):this.lineralizeSegments(r,u).pipe(z(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(F(t=>(n._loadedConfig=t,new Gd(r,{})))):wh(new Gd(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Qf(e,n,r);if(!i)return Wf(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(z(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Xf(t,e,n)&&"primary"!==Jf(n))}(t,n,r)?{segmentGroup:Kf(new Gd(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Jf(r)&&(n[Jf(r)]=new Gd([],{}));return n}(r,new Gd(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Xf(t,e,n))}(t,n,r)?{segmentGroup:Kf(new Gd(t.segments,function(t,e,n,r){const i={};for(const s of n)Xf(t,e,s)&&!r[Jf(s)]&&(i[Jf(s)]=new Gd([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(F(t=>new Gd(s,t))):0===r.length&&0===o.length?wh(new Gd(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(F(t=>new Gd(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?wh(new Dd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?wh(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?H(r).pipe(F(r=>{const i=t.get(r);let s;if(function(t){return t&&Hf(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Hf(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Bd(s)})).pipe(Th(),(i=t=>!0===t,t=>t.lift(new Xh(i,void 0,t)))):wh(!0);var i}(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Id(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):wh(new Dd([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return wh(n);if(r.numberOfChildren>1||!r.children.primary)return Gf(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Zd(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return qd(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return qd(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Gd(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Qf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Rd)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Kf(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Gd(t.segments.concat(e.segments),e.children)}return t}function Xf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Jf(t){return t.outlet||"primary"}class tp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ep{constructor(t,e){this.component=t,this.route=e}}function np(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=yf(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qd(t.url,e.url)||!Ld(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ef(t,e)||!Ld(t.queryParams,e.queryParams);case"paramsChange":default:return!Ef(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new tp(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:r,i,s),c&&s.canDeactivateChecks.push(new ep(l&&l.outlet&&l.outlet.component||null,a))}else a&&ip(n,l,s),s.canActivateChecks.push(new tp(i)),t(e,null,o.component?l?l.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),qd(o,(t,e)=>ip(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function rp(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ip(t,e,n){const r=yf(t),i=t.value;qd(r,(t,r)=>{ip(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ep(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const sp=Symbol("INITIAL_VALUE");function op(){return td(t=>function(...t){let e=null,n=null;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),G(t,n).lift(new Mh(e))}(...t.map(t=>t.pipe(Gh(1),function(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>rd(t,n,e)):e=>rd(t,e)}(sp)))).pipe(id((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==sp)return t;if(r===sp&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||zf(r))return r}return t},t)},sp),kh(t=>t!==sp),F(t=>zf(t)?t:!0===t),Gh(1)))}function ap(t,e){return null!==t&&e&&e(new Sd(t)),wh(!0)}function lp(t,e){return null!==t&&e&&e(new Od(t)),wh(!0)}function cp(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?wh(r.map(r=>Eh(()=>{const i=rp(r,e,n);let s;if(function(t){return t&&Hf(t.canActivate)}(i))s=Bd(i.canActivate(e,t));else{if(!Hf(i))throw new Error("Invalid CanActivate guard");s=Bd(i(e,t))}return s.pipe(Kh())}))).pipe(op()):wh(!0)}function up(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Eh(()=>wh(e.guards.map(i=>{const s=rp(i,e.node,n);let o;if(function(t){return t&&Hf(t.canActivateChild)}(s))o=Bd(s.canActivateChild(r,t));else{if(!Hf(s))throw new Error("Invalid CanActivateChild guard");o=Bd(s(r,t))}return o.pipe(Kh())})).pipe(op())));return wh(i).pipe(op())}class hp{}class dp{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=gp(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new xf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _f(n,e),i=new Mf(this.url,r);return this.inheritParamsAndData(i._root),wh(i)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Cf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Kd(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof hp))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new hp}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new hp;if((t.outlet||"primary")!==r)throw new hp;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?zd(n).parameters:{};i=new xf(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yp(t),r,t.component,t,fp(e),pp(e)+n.length,vp(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new hp;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Rd)(n,t,e);if(!r)throw new hp;const i={};qd(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new xf(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yp(t),r,t.component,t,fp(e),pp(e)+s.length,vp(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=gp(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new _f(i,t)]}if(0===a.length&&0===c.length)return[new _f(i,[])];const u=this.processSegment(a,l,c,"primary");return[new _f(i,u)]}}function fp(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pp(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function gp(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>mp(t,e,n)&&"primary"!==_p(n))}(t,n,r)){const i=new Gd(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==_p(s)){const n=new Gd([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[_p(s)]=n}return i}(t,e,r,new Gd(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>mp(t,e,n))}(t,n,r)){const s=new Gd(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(mp(t,n,a)&&!i[_p(a)]){const n=new Gd([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[_p(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Gd(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function mp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function _p(t){return t.outlet||"primary"}function yp(t){return t.data||{}}function vp(t){return t.resolve||{}}function wp(t,e,n,r){const i=rp(t,e,r);return Bd(i.resolve?i.resolve(e,n):i(e,n))}function bp(t){return function(e){return e.pipe(td(e=>{const n=t(e);return n?H(n).pipe(F(()=>e)):H([e])}))}}class Cp{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const xp=new Ut("ROUTES");class Mp{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Dd(Hd(r.injector.get(xp)).map(Vd),r)}))}loadModuleFactory(t){return"string"==typeof t?H(this.loader.load(t)):Bd(t()).pipe(z(t=>t instanceof Jt?wh(t):H(this.compiler.compileModuleAsync(t))))}}class Op{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Pp(t){throw t}function Sp(t,e,n){return e.parse("/")}function Ep(t,e){return wh(null)}let Tp=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=Pp,this.malformedUriErrorHandler=Sp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ep,afterPreactivation:Ep},this.urlHandlingStrategy=new Op,this.routeReuseStrategy=new Cp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Xt),this.console=i.get(hl);const l=i.get(Ol);this.isNgZoneEnabled=l instanceof Ol,this.resetConfig(a),this.currentUrlTree=new Zd(new Gd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mp(s,o,t=>this.triggerEvent(new xd(t)),t=>this.triggerEvent(new Md(t))),this.routerState=wf(this.currentUrlTree,this.rootComponentType),this.transitions=new bh({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(kh(t=>0!==t.id),F(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),td(t=>{let n=!1,r=!1;return wh(t).pipe(ld(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),td(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return wh(t).pipe(td(t=>{const n=this.transitions.getValue();return e.next(new pd(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ph:[t]}),td(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(td(t=>function(t,e,n,r,i){return new Yf(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(F(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),ld(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(z(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new dp(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(F(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),ld(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),ld(t=>{const n=new yd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new pd(n,this.serializeUrl(r),i,s);e.next(a);const l=wf(r,this.rootComponentType).snapshot;return wh(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ph}),bp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),ld(t=>{const e=new vd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),F(t=>Object.assign(Object.assign({},t),{guards:np(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(z(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?wh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return H(t).pipe(z(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?wh(s.map(s=>{const o=rp(s,e,i);let a;if(function(t){return t&&Hf(t.canDeactivate)}(o))a=Bd(o.canDeactivate(t,e,n,r));else{if(!Hf(o))throw new Error("Invalid CanDeactivate guard");a=Bd(o(t,e,n,r))}return a.pipe(Kh())})).pipe(op()):wh(!0)}(t.component,t.route,n,e,r)),Kh(t=>!0!==t,!0))}(o,r,i,t).pipe(z(n=>n&&"boolean"==typeof n?function(t,e,n,r){return H(e).pipe(ad(e=>H([lp(e.route.parent,r),ap(e.route,r),up(t,e.path,n),cp(t,e.route,n)]).pipe(Th(),Kh(t=>!0!==t,!0))),Kh(t=>!0!==t,!0))}(r,s,t,e):wh(n)),F(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),ld(t=>{if(zf(t.guardsResult)){const e=Id(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),ld(t=>{const e=new wd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),kh(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new md(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),bp(t=>{if(t.guards.canActivateChecks.length)return wh(t).pipe(ld(t=>{const e=new bd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(z(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?H(i).pipe(ad(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return wh({});if(1===i.length){const s=i[0];return wp(t[s],e,n,r).pipe(F(t=>({[s]:t})))}const s={};return H(i).pipe(z(i=>wp(t[i],e,n,r).pipe(F(t=>(s[i]=t,t))))).pipe(qh(),F(()=>s))}(t._resolve,t,e,r).pipe(F(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Cf(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return y(id(t,e),Rh(1),$h(e))(n)}:function(e){return y(id((e,n,r)=>t(e,n,r+1)),Rh(1))(e)}}((t,e)=>t),F(e=>t)):wh(t)}))}),ld(t=>{const e=new Cd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),bp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),F(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new _f(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new bf(new bh((i=n.value).url),new bh(i.params),new bh(i.queryParams),new bh(i.fragment),new bh(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new _f(r,s)}}var i}(t,e._root,n?n._root:void 0);return new vf(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),ld(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),F(t=>(new Lf(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),ld({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new md(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new hd(i))),Bh(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=zf(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new md(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new _d(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return Ph}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){jd(t),this.config=t.map(Vd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;er()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=s?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return kf(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Af(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return qd(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Af(n,e,r)}(n);if(s.toRoot())return kf(e.root,new Gd([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Nf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Nf(n.snapshot._urlSegment,!0,0);const r=Tf(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Nf(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Df(o.segmentGroup,o.index,s.commands):Rf(o.segmentGroup,o.index,s.commands);return kf(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){er()&&this.isNgZoneEnabled&&!Ol.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=zf(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(zf(t))return Wd(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Wd(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new gd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,l;i?(o=i.resolve,a=i.reject,l=i.promise):l=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){io()},t.\u0275dir=ye({type:t}),t})();class kp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ap,this.attachRef=null}}class Ap{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new kp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Np=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ha,this.deactivateEvents=new Ha,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ip(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(ro(Ap),ro(Ma),ro(Ko),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let e=0;for(;e<t;){const r=n[e];if(hn(r))break;if(0===r)e+=2;else if("number"==typeof r)for(e++;e<t&&"string"==typeof n[e];)e++;else{if("name"===r)return n[e+1];e+=2}}}return null}(Re())),ro(xs))},t.\u0275dir=ye({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ip{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===bf?this.route:t===Ap?this.childContexts:this.parent.get(t,e)}}class Rp{}class Dp{preload(t,e){return wh(null)}}let jp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Mp(e,n,e=>t.triggerEvent(new xd(e)),e=>t.triggerEvent(new Md(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(kh(t=>t instanceof gd),ad(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Xt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return H(n).pipe(Z(),F(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Tp),Gt(Zl),Gt(bl),Gt(Vs),Gt(Rp))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Fp=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Td&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Td(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){io()},t.\u0275dir=ye({type:t}),t})();const Up=new Ut("ROUTER_CONFIGURATION"),Vp=new Ut("ROUTER_FORROOT_GUARD"),Lp=[yc,{provide:Xd,useClass:Jd},{provide:Tp,useFactory:function(t,e,n,r,i,s,o,a,l={},c,u){const h=new Tp(null,e,n,r,i,s,o,Hd(a));if(c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=nc();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h},deps:[Bl,Xd,Ap,yc,Vs,Zl,bl,xp,Up,[class{},new it],[class{},new it]]},Ap,{provide:bf,useFactory:function(t){return t.routerState.root},deps:[Tp]},{provide:Zl,useClass:Ql},jp,Dp,class{preload(t,e){return e().pipe(Bh(()=>wh(null)))}},{provide:Up,useValue:{enableTracing:!1}}];function $p(){return new Ll("Router",Tp)}let Hp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Lp,Wp(e),{provide:Vp,useFactory:Bp,deps:[[Tp,new it,new ot]]},{provide:Up,useValue:n||{}},{provide:fc,useFactory:qp,deps:[ic,[new rt(gc),new it],Up]},{provide:Fp,useFactory:zp,deps:[Tp,Ic,Up]},{provide:Rp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Dp},{provide:Ll,multi:!0,useFactory:$p},[Zp,{provide:rl,multi:!0,useFactory:Gp,deps:[Zp]},{provide:Qp,useFactory:Yp,deps:[Zp]},{provide:ul,multi:!0,useExisting:Qp}]]}}static forChild(e){return{ngModule:t,providers:[Wp(e)]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Gt(Vp,8),Gt(Tp,8))}}),t})();function zp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Fp(t,e,n)}function qp(t,e,n={}){return n.useHash?new _c(t,e):new mc(t,e)}function Bp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Wp(t){return[{provide:Ls,multi:!0,useValue:t},{provide:xp,multi:!0,useValue:t}]}let Zp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new O}appInitializer(){return this.injector.get(oc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Tp),r=this.injector.get(Up);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?wh(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Up),n=this.injector.get(jp),r=this.injector.get(Fp),i=this.injector.get(Tp),s=this.injector.get(Bl);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Gt(Vs))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function Gp(t){return t.appInitializer.bind(t)}function Yp(t){return t.bootstrapListener.bind(t)}const Qp=new Ut("Router Initializer");class Kp extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Xp extends Kp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Jp=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class tg extends Jp{constructor(t,e=Jp.now){super(t,()=>tg.delegate&&tg.delegate!==this?tg.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return tg.delegate&&tg.delegate!==this?tg.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const eg=new tg(Xp);function ng(t){return!l(t)&&t-parseFloat(t)+1>=0}function rg(t=0,e,n){let r=-1;return ng(e)?r=Number(e)<1?1:Number(e):S(e)&&(n=e),S(n)||(n=eg),new w(e=>{const i=ng(t)?t:+t-n.now();return n.schedule(ig,i,{index:0,period:r,subscriber:e})})}function ig(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class sg{}class og{constructor(t,e,n,r,i,s,o,a,l){this.botName=e,this.system=n,this.parentConversation=i,this.isRoot=s,this.showMessages=o,this.dataService=a,this.messageService=l,s&&this.dataService.get_CBluePrint(n,t).subscribe(t=>{this.conversationName=t.conversationName,this.targetParam=t.targetParam,this.targetValue=t.targetValue,this.validationMessage=t.validationMessage,this.confidence=t.confidence,this.vocabulary=Object.assign([],t.vocabulary),this.matches=Object.assign([],t.matches),this.messages=Object.assign([],t.messages),this.subConversations=Object.assign([],t.subConversations),this.samples=this.getSamples(),this.mainConversation=this,o&&this.messages.forEach(t=>{this.messageService.addMessage(t.id,t.data,t.messageText,t.fromUser)}),null!=r&&""!=r&&(this.messageService.addMessage(0,null,r,"ME"),this.processMessage(r))})}getSamples(){let t=[];return this.matches.forEach(e=>{var n=e.matchPattern.match(new RegExp("\\(.*?\\)","g"));if("inline"==e.matchType);else if(null==n||0==n.length)t.push(e.matchPattern);else{var r=e.matchPattern,i=0;n.forEach(t=>{i++,r=r.replace(t,"_"+i+"_")}),i=0;let s=Array();s.push(r),n.forEach(t=>{i++,s=s.reduce((e,n,r)=>(n.indexOf("_"+i+"_")>-1?t.replace("(","").replace(")","").split("|").forEach(t=>{e.push(n.replace("_"+i+"_",t))}):e.push(n),e),[])}),null!=s&&(t=t.concat(s))}}),t}getCurrentMatchOptions(t,e){return t.trim(),[]}expandRegex(t){return[]}processMessage(t){if("clear all"!=t){var e=this.curateMessage(t);this.currentMessage=e,null==this.subConversations&&(this.subConversations=[]),this.matches.every(t=>{var n=new RegExp(t.matchPattern,"i");if(null!=e.match(n)){var r;if(r=0==t.matchGroup?t.matchVal:e.match(n)[t.matchGroup],this.targetValue=""!=t.matchVal?t.matchVal:r,""==t.matchParam);else{var i=this.mGetTargetConversation(t.matchParam);i.confidence++,i.currentMessage=r,this.conversationName!=this.mainConversation.conversationName&&this.subConversations.push(i)}return!0}return!0}),this.mValidate()}else this.messageService.resetBot(this.system)}curateMessage(t){if(""==t||null==t)return"";var e=t;return t.split(" ").forEach(t=>{this.vocabulary.forEach(n=>{t.toLowerCase()==n.text.toLowerCase()&&(e=e.replace(n.text,n.keyword))})}),e}mValidate(){if(0==this.subConversations.length){if(""==this.targetValue)return void this.messageService.addMessage(0,null,this.validationMessage,this.botName);if(null!=this.parentConversation)return this.mGetTargetConversation(this.targetParam).targetValue=this.targetValue,this.messageService.deQueueConversation(this),void this.parentConversation.mValidate();console.log("compiling payload and shoot"),this.compilePayLoadAndShoot()}else{var t=!1,e=!1;if(this.subConversations.every(n=>!(n.confidence>0&&(e=!0,""==n.targetValue&&(this.pendingConversation=n,t=!0,1)))),!e)return void this.messageService.addMessage(0,null,this.validationMessage,this.botName);if(t)return void this.loadNewConversation();if("root"!=this.conversationName&&null!=this.parentConversation)return this.mGetTargetConversation(this.targetParam).targetValue=this.targetValue,this.messageService.deQueueConversation(this),void this.parentConversation.mValidate();this.compilePayLoadAndShoot()}}loadNewConversation(){var t=new og(this.pendingConversation.conversationName,this.botName,this.pendingConversation.system,null,this,!1,!0,this.dataService,this.messageService);t.matches=Object.assign([],this.pendingConversation.matches),t.vocabulary=Object.assign([],this.pendingConversation.vocabulary),t.conversationName=this.pendingConversation.conversationName,t.targetParam=this.pendingConversation.targetParam,t.targetValue=this.pendingConversation.targetValue,t.validationMessage=this.pendingConversation.validationMessage,t.confidence=this.pendingConversation.confidence,t.samples=t.getSamples(),t.mainConversation=this.mainConversation,this.messageService.queueConversation(t),t.processMessage(this.pendingConversation.currentMessage)}compilePayLoadAndShoot(){var t=new sg;t.aName=this.conversationName,this.targetValue=this.targetParam+":_:"+this.targetValue,this.mainConversation.subConversations.forEach(t=>{t.confidence>0&&(this.targetValue+="|"+t.targetParam+":_:"+t.targetValue,this.targetValue=0==this.targetValue.indexOf("|")?this.targetValue.substring(1):this.targetValue)}),t.aDescription=this.targetValue,"root"==this.conversationName?(this.messageService.resetRoot(this.system),"mLoadSuperBot"==this.targetParam?this.dataService.run_BotAction(this.botName,this.system,t).subscribe(t=>{}):this.dataService.addNewConversation(t.aDescription.replace("mLoadConversation:_:",""),this.currentMessage,this.botName,this.system)):this.dataService.run_BotAction(this.system,this.system,t).subscribe(t=>{this.messageService.deQueueConversation(this)})}mGetTargetConversation(t){return""==t?this:this.mainConversation.subConversations.length>0?(this.mainConversation.subConversations.every(n=>n.targetParam!=t||(e=n,!1)),e):this;var e}escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}replaceAll(t,e,n){return t.replace(new RegExp(this.escapeRegExp(e),"g"),n)}}var ag,lg,cg=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},ug=(1===(ag=cg).length&&(lg=ag,ag=function(t,e){return cg(lg(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;ag(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;ag(t[i],e)>0?r=i:n=i+1}return n}}).right,hg=Math.sqrt(50),dg=Math.sqrt(10),fg=Math.sqrt(2);function pg(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=hg?10:s>=dg?5:s>=fg?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=hg?10:s>=dg?5:s>=fg?2:1)}var gg={value:function(){}};function mg(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new _g(r)}function _g(t){this._=t}function yg(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function vg(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function wg(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=gg,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}_g.prototype=mg.prototype={constructor:_g,on:function(t,e){var n,r=this._,i=yg(t+"",r),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=i[s]).type)r[n]=wg(r[n],t.name,e);else if(null==e)for(n in r)r[n]=wg(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=i[s]).type)&&(n=vg(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _g(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(r=this._[t]).length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};var bg=mg;function Cg(){}var xg=function(t){return null==t?Cg:function(){return this.querySelector(t)}};function Mg(){return[]}var Og=function(t){return null==t?Mg:function(){return this.querySelectorAll(t)}},Pg=function(t){return function(){return this.matches(t)}},Sg=function(t){return new Array(t.length)};function Eg(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Tg(t,e,n,r,i,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new Eg(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function kg(t,e,n,r,i,s,o){var a,l,c,u={},h=e.length,d=s.length,f=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(f[a]=c="$"+o.call(l,l.__data__,a,e),c in u?i[a]=l:u[c]=l);for(a=0;a<d;++a)(l=u[c="$"+o.call(t,s[a],a,s)])?(r[a]=l,l.__data__=s[a],u[c]=null):n[a]=new Eg(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&u[f[a]]===l&&(i[a]=l)}function Ag(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Eg.prototype={constructor:Eg,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ng="http://www.w3.org/1999/xhtml",Ig={svg:"http://www.w3.org/2000/svg",xhtml:Ng,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rg=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ig.hasOwnProperty(e)?{space:Ig[e],local:t}:t};function Dg(t){return function(){this.removeAttribute(t)}}function jg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fg(t,e){return function(){this.setAttribute(t,e)}}function Ug(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Vg(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Lg(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var $g=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Hg(t){return function(){this.style.removeProperty(t)}}function zg(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qg(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Bg(t,e){return t.style.getPropertyValue(e)||$g(t).getComputedStyle(t,null).getPropertyValue(e)}function Wg(t){return function(){delete this[t]}}function Zg(t,e){return function(){this[t]=e}}function Gg(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Yg(t){return t.trim().split(/^|\s+/)}function Qg(t){return t.classList||new Kg(t)}function Kg(t){this._node=t,this._names=Yg(t.getAttribute("class")||"")}function Xg(t,e){for(var n=Qg(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Jg(t,e){for(var n=Qg(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function tm(t){return function(){Xg(this,t)}}function em(t){return function(){Jg(this,t)}}function nm(t,e){return function(){(e.apply(this,arguments)?Xg:Jg)(this,t)}}function rm(){this.textContent=""}function im(t){return function(){this.textContent=t}}function sm(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function om(){this.innerHTML=""}function am(t){return function(){this.innerHTML=t}}function lm(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function cm(){this.nextSibling&&this.parentNode.appendChild(this)}function um(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hm(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ng&&e.documentElement.namespaceURI===Ng?e.createElement(t):e.createElementNS(n,t)}}function dm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}Kg.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var fm=function(t){var e=Rg(t);return(e.local?dm:hm)(e)};function pm(){return null}function gm(){var t=this.parentNode;t&&t.removeChild(this)}function mm(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _m(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var ym={},vm=null;function wm(t,e,n){return t=bm(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function bm(t,e,n){return function(r){var i=vm;vm=r;try{t.call(this,this.__data__,e,n)}finally{vm=i}}}function Cm(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function xm(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Mm(t,e,n){var r=ym.hasOwnProperty(t.type)?wm:bm;return function(i,s,o){var a,l=this.__on,c=r(e,s,o);if(l)for(var u=0,h=l.length;u<h;++u)if((a=l[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function Om(t,e,n){var r=$g(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Pm(t,e){return function(){return Om(this,t,e)}}function Sm(t,e){return function(){return Om(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ym={mouseenter:"mouseover",mouseleave:"mouseout"}));var Em=[null];function Tm(t,e){this._groups=t,this._parents=e}function km(){return new Tm([[document.documentElement]],Em)}Tm.prototype=km.prototype={constructor:Tm,select:function(t){"function"!=typeof t&&(t=xg(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=e[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(o=t.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),c[u]=o);return new Tm(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Og(t));for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o,a=e[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(r.push(t.call(o,o.__data__,c,a)),i.push(o));return new Tm(r,i)},filter:function(t){"function"!=typeof t&&(t=Pg(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new Tm(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each((function(t){p[++u]=t})),p;var n,r=e?kg:Tg,i=this._parents,s=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var h=i[u],d=s[u],f=d.length,p=t.call(h,h&&h.__data__,u,i),g=p.length,m=l[u]=new Array(g),_=a[u]=new Array(g);r(h,d,m,_,c[u]=new Array(f),p,e);for(var y,v,w=0,b=0;w<g;++w)if(y=m[w]){for(w>=b&&(b=w+1);!(v=_[b])&&++b<g;);y._next=v||null}}return(a=new Tm(a,i))._enter=l,a._exit=c,a},enter:function(){return new Tm(this._enter||this._groups.map(Sg),this._parents)},exit:function(){return new Tm(this._exit||this._groups.map(Sg),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,l=e[o],c=n[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new Tm(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ag);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],l=a.length,c=i[s]=new Array(l),u=0;u<l;++u)(o=a[u])&&(c[u]=o);c.sort(e)}return new Tm(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this},attr:function(t,e){var n=Rg(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?jg:Dg:"function"==typeof e?n.local?Lg:Vg:n.local?Ug:Fg)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Hg:"function"==typeof e?qg:zg)(t,e,null==n?"":n)):Bg(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Wg:"function"==typeof e?Gg:Zg)(t,e)):this.node()[t]},classed:function(t,e){var n=Yg(t+"");if(arguments.length<2){for(var r=Qg(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?nm:e?tm:em)(n,e))},text:function(t){return arguments.length?this.each(null==t?rm:("function"==typeof t?sm:im)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?om:("function"==typeof t?lm:am)(t)):this.node().innerHTML},raise:function(){return this.each(cm)},lower:function(){return this.each(um)},append:function(t){var e="function"==typeof t?t:fm(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:fm(t),r=null==e?pm:"function"==typeof e?e:xg(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(gm)},clone:function(t){return this.select(t?_m:mm)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=Cm(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?Mm:xm,null==n&&(n=!1),r=0;r<o;++r)this.each(a(s[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<o;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Sm:Pm)(t,e))}};var Am=km,Nm=function(t){return"string"==typeof t?new Tm([[document.querySelector(t)]],[document.documentElement]):new Tm([[t]],Em)},Im=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Rm(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dm(){}var jm="\\s*([+-]?\\d+)\\s*",Fm="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Um="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vm=/^#([0-9a-f]{3,8})$/,Lm=new RegExp("^rgb\\("+[jm,jm,jm]+"\\)$"),$m=new RegExp("^rgb\\("+[Um,Um,Um]+"\\)$"),Hm=new RegExp("^rgba\\("+[jm,jm,jm,Fm]+"\\)$"),zm=new RegExp("^rgba\\("+[Um,Um,Um,Fm]+"\\)$"),qm=new RegExp("^hsl\\("+[Fm,Um,Um]+"\\)$"),Bm=new RegExp("^hsla\\("+[Fm,Um,Um,Fm]+"\\)$"),Wm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zm(){return this.rgb().formatHex()}function Gm(){return this.rgb().formatRgb()}function Ym(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Vm.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Qm(e):3===n?new t_(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Km(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Km(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Lm.exec(t))?new t_(e[1],e[2],e[3],1):(e=$m.exec(t))?new t_(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Hm.exec(t))?Km(e[1],e[2],e[3],e[4]):(e=zm.exec(t))?Km(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=qm.exec(t))?i_(e[1],e[2]/100,e[3]/100,1):(e=Bm.exec(t))?i_(e[1],e[2]/100,e[3]/100,e[4]):Wm.hasOwnProperty(t)?Qm(Wm[t]):"transparent"===t?new t_(NaN,NaN,NaN,0):null}function Qm(t){return new t_(t>>16&255,t>>8&255,255&t,1)}function Km(t,e,n,r){return r<=0&&(t=e=n=NaN),new t_(t,e,n,r)}function Xm(t){return t instanceof Dm||(t=Ym(t)),t?new t_((t=t.rgb()).r,t.g,t.b,t.opacity):new t_}function Jm(t,e,n,r){return 1===arguments.length?Xm(t):new t_(t,e,n,null==r?1:r)}function t_(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function e_(){return"#"+r_(this.r)+r_(this.g)+r_(this.b)}function n_(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function r_(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function i_(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new o_(t,e,n,r)}function s_(t){if(t instanceof o_)return new o_(t.h,t.s,t.l,t.opacity);if(t instanceof Dm||(t=Ym(t)),!t)return new o_;if(t instanceof o_)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=e===s?(n-r)/a+6*(n<r):n===s?(r-e)/a+2:(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new o_(o,a,l,t.opacity)}function o_(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function a_(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function l_(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}Im(Dm,Ym,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Zm,formatHex:Zm,formatHsl:function(){return s_(this).formatHsl()},formatRgb:Gm,toString:Gm}),Im(t_,Jm,Rm(Dm,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new t_(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new t_(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e_,formatHex:e_,formatRgb:n_,toString:n_})),Im(o_,(function(t,e,n,r){return 1===arguments.length?s_(t):new o_(t,e,n,null==r?1:r)}),Rm(Dm,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new o_(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new o_(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new t_(a_(t>=240?t-240:t+120,i,r),a_(t,i,r),a_(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var c_=function(t){return function(){return t}};function u_(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):c_(isNaN(t)?e:t)}var h_=function t(e){var n=function(t){return 1==(t=+t)?u_:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):c_(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Jm(t)).r,(e=Jm(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),o=u_(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function d_(t){return function(e){var n,r,i=e.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=Jm(e[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=t(s),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=s(t),r.g=o(t),r.b=a(t),r+""}}}var f_=d_((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1];return l_((n-r/e)*e,r>0?t[r-1]:2*i-s,i,s,r<e-1?t[r+2]:2*s-i)}})),p_=(d_((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return l_((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}})),function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}});function g_(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=new Array(i),o=new Array(r);for(n=0;n<i;++n)s[n]=M_(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=s[n](t);return o}}var m_,__,y_=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},v_=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},w_=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=M_(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},b_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C_=new RegExp(b_.source,"g"),x_=function(t,e){var n,r,i,s=b_.lastIndex=C_.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=b_.exec(t))&&(r=C_.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:v_(n,r)})),s=C_.lastIndex;return s<e.length&&(i=e.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})},M_=function(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?c_(e):("number"===i?v_:"string"===i?(n=Ym(e))?(e=n,h_):x_:e instanceof Ym?h_:e instanceof Date?y_:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?g_:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?w_:v_:p_))(t,e)},O_=0,P_=0,S_=0,E_=0,T_=0,k_=0,A_="object"==typeof performance&&performance.now?performance:Date,N_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function I_(){return T_||(N_(R_),T_=A_.now()+k_)}function R_(){T_=0}function D_(){this._call=this._time=this._next=null}function j_(t,e,n){var r=new D_;return r.restart(t,e,n),r}function F_(){T_=(E_=A_.now())+k_,O_=P_=0;try{!function(){I_(),++O_;for(var t,e=m_;e;)(t=T_-e._time)>=0&&e._call.call(null,t),e=e._next;--O_}()}finally{O_=0,function(){for(var t,e,n=m_,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:m_=e);__=t,V_(r)}(),T_=0}}function U_(){var t=A_.now(),e=t-E_;e>1e3&&(k_-=e,E_=t)}function V_(t){O_||(P_&&(P_=clearTimeout(P_)),t-T_>24?(t<1/0&&(P_=setTimeout(F_,t-A_.now()-k_)),S_&&(S_=clearInterval(S_))):(S_||(E_=A_.now(),S_=setInterval(U_,1e3)),O_=1,N_(F_)))}D_.prototype=j_.prototype={constructor:D_,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?I_():+n)+(null==e?0:+e),this._next||__===this||(__?__._next=this:m_=this,__=this),this._call=t,this._time=n,V_()},stop:function(){this._call&&(this._call=null,this._time=1/0,V_())}};var L_=function(t,e,n){var r=new D_;return r.restart((function(n){r.stop(),t(n+e)}),e=null==e?0:+e,n),r},$_=bg("start","end","cancel","interrupt"),H_=[],z_=function(t,e,n,r,i,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function s(l){var c,u,h,d;if(1!==n.state)return a();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return L_(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(L_((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=j_((function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:$_,tween:H_,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function q_(t,e){var n=W_(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function B_(t,e){var n=W_(t,e);if(n.state>3)throw new Error("too late; already running");return n}function W_(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Z_,G_,Y_,Q_,K_=180/Math.PI,X_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},J_=function(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*K_,skewX:Math.atan(l)*K_,scaleX:o,scaleY:a}};function ty(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],l=[];return s=t(s),o=t(o),function(t,r,i,s,o,a){if(t!==i||r!==s){var l=o.push("translate(",null,e,null,n);a.push({i:l-4,x:v_(t,i)},{i:l-2,x:v_(r,s)})}else(i||s)&&o.push("translate("+i+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:v_(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(s.rotate,o.rotate,a,l),function(t,e,n,s){t!==e?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:v_(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(s.skewX,o.skewX,a,l),function(t,e,n,r,s,o){if(t!==n||e!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:v_(t,n)},{i:a-2,x:v_(e,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var ey=ty((function(t){return"none"===t?X_:(Z_||(Z_=document.createElement("DIV"),G_=document.documentElement,Y_=document.defaultView),Z_.style.transform=t,t=Y_.getComputedStyle(G_.appendChild(Z_),null).getPropertyValue("transform"),G_.removeChild(Z_),t=t.slice(7,-1).split(","),J_(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),ny=ty((function(t){return null==t?X_:(Q_||(Q_=document.createElementNS("http://www.w3.org/2000/svg","g")),Q_.setAttribute("transform",t),(t=Q_.transform.baseVal.consolidate())?J_((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):X_)}),", ",")",")");function ry(t,e){var n,r;return function(){var i=B_(this,t),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function iy(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=B_(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function sy(t,e,n){var r=t._id;return t.each((function(){var t=B_(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return W_(t,r).value[e]}}var oy=function(t,e){var n;return("number"==typeof e?v_:e instanceof Ym?h_:(n=Ym(e))?(e=n,h_):x_)(t,e)};function ay(t){return function(){this.removeAttribute(t)}}function ly(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cy(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function uy(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function hy(t,e,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l));this.removeAttribute(t)}}function dy(t,e,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function fy(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function py(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function gy(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&py(t,i)),n}return i._value=e,i}function my(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&fy(t,i)),n}return i._value=e,i}function _y(t,e){return function(){q_(this,t).delay=+e.apply(this,arguments)}}function yy(t,e){return e=+e,function(){q_(this,t).delay=e}}function vy(t,e){return function(){B_(this,t).duration=+e.apply(this,arguments)}}function wy(t,e){return e=+e,function(){B_(this,t).duration=e}}function by(t,e){if("function"!=typeof e)throw new Error;return function(){B_(this,t).ease=e}}function Cy(t,e,n){var r,i,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?q_:B_;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}var xy=Am.prototype.constructor;function My(t){return function(){this.style.removeProperty(t)}}function Oy(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Py(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Oy(t,s,n)),r}return s._value=e,s}function Sy(t){return function(e){this.textContent=t.call(this,e)}}function Ey(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Sy(r)),e}return r._value=t,r}var Ty=0;function ky(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ay(){return++Ty}var Ny=Am.prototype;ky.prototype=(function(t){return Am().transition(t)}).prototype={constructor:ky,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=xg(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a,l,c=r[o],u=c.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=t.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,z_(h[d],e,n,d,h,W_(a,n)));return new ky(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Og(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=W_(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&z_(d,e,n,g,f,p);s.push(f),o.push(l)}return new ky(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Pg(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new ky(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,l=e[o],c=n[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new ky(s,this._parents,this._name,this._id)},selection:function(){return new xy(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ay(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var u=W_(o,e);z_(o,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ky(r,this._parents,t,n)},call:Ny.call,nodes:Ny.nodes,node:Ny.node,size:Ny.size,empty:Ny.empty,each:Ny.each,on:function(t,e){var n=this._id;return arguments.length<2?W_(this.node(),n).on.on(t):this.each(Cy(n,t,e))},attr:function(t,e){var n=Rg(t),r="transform"===n?ny:oy;return this.attrTween(t,"function"==typeof e?(n.local?dy:hy)(n,r,sy(this,"attr."+t,e)):null==e?(n.local?ly:ay)(n):(n.local?uy:cy)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Rg(t);return this.tween(n,(r.local?gy:my)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ey:oy;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var s=Bg(this,t),o=(this.style.removeProperty(t),Bg(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}(t,r)).on("end.style."+t,My(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,s;return function(){var o=Bg(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Bg(this,t)),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}(t,r,sy(this,"style."+t,e))).each(function(t,e){var n,r,i,s,o="style."+e,a="end."+o;return function(){var l=B_(this,t),c=l.on,u=null==l.value[o]?s||(s=My(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,s=n+"";return function(){var o=Bg(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Py(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(sy(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ey(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=W_(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?ry:iy)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_y:yy)(e,t)):W_(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?vy:wy)(e,t)):W_(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(by(e,t)):W_(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};n.each((function(){var n=B_(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e}))}))}};var Iy={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ry(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Iy.time=I_(),Iy;return n}function Dy(t){return{type:t}}Am.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,s=t.__transition,o=!0;if(s){for(i in e=null==e?null:e+"",s)(n=s[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]):o=!1;o&&delete t.__transition}}(this,t)}))},Am.prototype.transition=function(t){var e,n;t instanceof ky?(e=t._id,t=t._name):(e=Ay(),(n=Iy).time=I_(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)(o=a[c])&&z_(o,t,e,c,a,n||Ry(o,e));return new ky(r,this._parents,t,e)},["w","e"].map(Dy),["n","s"].map(Dy),["n","w","e","s","nw","ne","sw","se"].map(Dy),Math,Math,Math,Math;var jy=Math.PI,Fy=2*jy,Uy=Fy-1e-6;function Vy(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ly(){return new Vy}Vy.prototype=Ly.prototype={constructor:Vy,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){var s=this._x1,o=this._y1,a=(n=+n)-(t=+t),l=(r=+r)-(e=+e),c=s-t,u=o-e,h=c*c+u*u;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(u*a-l*c)>1e-6&&i){var d=n-s,f=r-o,p=a*a+l*l,g=d*d+f*f,m=Math.sqrt(p),_=Math.sqrt(h),y=i*Math.tan((jy-Math.acos((p+h-g)/(2*m*_)))/2),v=y/_,w=y/m;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*c)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*f)+","+(this._x1=t+w*a)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(r),a=n*Math.sin(r),l=t+o,c=e+a,u=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%Fy+Fy),h>Uy?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=jy)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var $y=Ly;function Hy(){}function zy(t,e){var n=new Hy;if(t instanceof Hy)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,s=t.length;if(null==e)for(;++i<s;)n.set(i,t[i]);else for(;++i<s;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}Hy.prototype=zy.prototype={constructor:Hy,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var qy=zy,By=function(){var t,e,n,r=[],i=[];function s(n,i,o,a){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,c,u,h=-1,d=n.length,f=r[i++],p=qy(),g=o();++h<d;)(u=p.get(l=f(c=n[h])+""))?u.push(c):p.set(l,[c]);return p.each((function(t,e){a(g,e,s(t,i,o,a))})),g}return n={object:function(t){return s(t,0,Wy,Zy)},map:function(t){return s(t,0,Gy,Yy)},entries:function(t){return function t(n,s){if(++s>r.length)return n;var o,a=i[s-1];return null!=e&&s>=r.length?o=n.entries():(o=[],n.each((function(e,n){o.push({key:n,values:t(e,s)})}))),null!=a?o.sort((function(t,e){return a(t.key,e.key)})):o}(s(t,0,Gy,Yy),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Wy(){return{}}function Zy(t,e,n){t[e]=n}function Gy(){return qy()}function Yy(t,e,n){t.set(e,n)}function Qy(){}var Ky=qy.prototype;Qy.prototype=(function(t,e){var n=new Qy;if(t instanceof Qy)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}).prototype={constructor:Qy,has:Ky.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Ky.remove,clear:Ky.clear,values:Ky.keys,size:Ky.size,empty:Ky.empty,each:Ky.each};var Xy={},Jy={};function tv(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ev(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function nv(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}var rv=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],s=t.length,o=0,a=0,l=s<=0,c=!1;function u(){if(l)return Jy;if(c)return c=!1,Xy;var e,r,i=o;if(34===t.charCodeAt(i)){for(;o++<s&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=s?l=!0:10===(r=t.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<s;){if(10===(r=t.charCodeAt(e=o++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(o)&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,s)}for(10===t.charCodeAt(s-1)&&--s,13===t.charCodeAt(s-1)&&--s;(r=u())!==Jy;){for(var h=[];r!==Xy&&r!==Jy;)h.push(r),r=u();e&&null==(h=e(h,a++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function s(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?(i=(n=t).getUTCHours(),s=n.getUTCMinutes(),o=n.getUTCSeconds(),a=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+nv(-r,6):r>9999?"+"+nv(r,6):nv(r,4))+"-"+nv(n.getUTCMonth()+1,2)+"-"+nv(n.getUTCDate(),2)+(a?"T"+nv(i,2)+":"+nv(s,2)+":"+nv(o,2)+"."+nv(a,3)+"Z":o?"T"+nv(i,2)+":"+nv(s,2)+":"+nv(o,2)+"Z":s||i?"T"+nv(i,2)+":"+nv(s,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,r,i,s,o,a}return{parse:function(t,e){var n,i,s=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=tv(t);return function(r,i){return e(n(r),i,t)}}(t,e):tv(t)}));return s.columns=i||[],s},parseRows:r,format:function(e,n){return null==n&&(n=ev(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ev(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(s).join("\n")},formatRow:s,formatValue:o}},iv=rv(",").parse,sv=rv("\t").parse;function ov(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var av=function(t,e){return fetch(t,e).then(ov)};function lv(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),av(e,n).then((function(e){return t(e,r)}))}}function cv(t){return function(e,n){return av(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}function uv(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s,o,a,l,c,u,h,d,f=t._root,p={data:r},g=t._x0,m=t._y0,_=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(s=(g+_)/2))?g=s:_=s,(u=n>=(o=(m+y)/2))?m=o:y=o,i=f,!(f=f[h=u<<1|c]))return i[h]=p,t;if(a=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===a&&n===l)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(s=(g+_)/2))?g=s:_=s,(u=n>=(o=(m+y)/2))?m=o:y=o}while((h=u<<1|c)==(d=(l>=o)<<1|a>=s));return i[d]=f,i[h]=p,t}lv(iv),lv(sv),cv("application/xml"),cv("text/html"),cv("image/svg+xml");var hv=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function dv(t){return t[0]}function fv(t){return t[1]}function pv(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function gv(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var mv=(function(t,e,n){var r=new pv(null==e?dv:e,null==n?fv:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}).prototype=pv.prototype;mv.copy=function(){var t,e,n=new pv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=gv(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=gv(e));return n},mv.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return uv(this.cover(e,n),e,n,t)},mv.addAll=function(t){var e,n,r,i,s=t.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<s;++n)uv(this,o[n],a[n],t[n]);return this},mv.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o,a,l=i-n,c=this._root;n>t||t>=i||r>e||e>=s;)switch(a=(e<r)<<1|t<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:i=n+l,s=r+l;break;case 1:n=i-l,s=r+l;break;case 2:i=n+l,r=s-l;break;case 3:n=i-l,r=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this},mv.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},mv.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},mv.find=function(t,e,n){var r,i,s,o,a,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new hv(g,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>d||(s=l.y0)>f||(o=l.x1)<u||(a=l.y1)<h))if(g.length){var m=(i+o)/2,_=(s+a)/2;p.push(new hv(g[3],m,_,o,a),new hv(g[2],i,_,m,a),new hv(g[1],m,s,o,_),new hv(g[0],i,s,m,_)),(c=(e>=_)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=t-+this._x.call(null,g.data),v=e-+this._y.call(null,g.data),w=y*y+v*v;if(w<n){var b=Math.sqrt(n=w);u=t-b,h=e-b,d=t+b,f=e+b,r=g.data}}return r},mv.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,s,o,a,l,c,u,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,_=this._y1;if(!f)return this;if(f.length)for(;;){if((c=s>=(a=(p+m)/2))?p=a:m=a,(u=o>=(l=(g+_)/2))?g=l:_=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},mv.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},mv.root=function(){return this._root},mv.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},mv.visit=function(t){var e,n,r,i,s,o,a=[],l=this._root;for(l&&a.push(new hv(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,s=e.x1,o=e.y1)&&l.length){var c=(r+s)/2,u=(i+o)/2;(n=l[3])&&a.push(new hv(n,c,u,s,o)),(n=l[2])&&a.push(new hv(n,r,u,c,o)),(n=l[1])&&a.push(new hv(n,c,i,s,u)),(n=l[0])&&a.push(new hv(n,r,i,c,u))}return this},mv.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new hv(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var s,o=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(o+l)/2,h=(a+c)/2;(s=i[0])&&n.push(new hv(s,o,a,u,h)),(s=i[1])&&n.push(new hv(s,u,a,l,h)),(s=i[2])&&n.push(new hv(s,o,h,u,c)),(s=i[3])&&n.push(new hv(s,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},mv.x=function(t){return arguments.length?(this._x=t,this):this._x},mv.y=function(t){return arguments.length?(this._y=t,this):this._y},Math,Math.sqrt(5);var _v=function(){return Math.random()},yv=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(_v),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var s;if(null!=r)s=r,r=null;else do{r=2*e()-1,s=2*e()-1,i=r*r+s*s}while(!i||i>1);return t+n*s*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(_v)),vv=(function t(e){function n(){var t=yv.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(_v),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(_v));function wv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}(function t(e){function n(t){var n=vv.source(e)(t);return function(){return n()/t}}return n.source=t,n})(_v),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(_v);var bv=Array.prototype,Cv=bv.map,xv=bv.slice,Mv=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Ov=function(t){return+t},Pv=[0,1];function Sv(t){return t}function Ev(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Tv(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function kv(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=Ev(i,r),s=n(o,s)):(r=Ev(r,i),s=n(s,o)),function(t){return s(r(t))}}function Av(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ev(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=ug(t,e,1,r)-1;return s[n](i[n](e))}}function Nv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Iv(t,e){return function(){var t,e,n,r,i,s,o=Pv,a=Pv,l=M_,c=Sv;function u(){return r=Math.min(o.length,a.length)>2?Av:kv,i=s=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),a,l)))(t(c(e)))}return h.invert=function(n){return c(e((s||(s=r(a,o.map(t),v_)))(n)))},h.domain=function(t){return arguments.length?(o=Cv.call(t,Ov),c===Sv||(c=Tv(o)),u()):o.slice()},h.range=function(t){return arguments.length?(a=xv.call(t),u()):a.slice()},h.rangeRound=function(t){return a=xv.call(t),l=Mv,u()},h.clamp=function(t){return arguments.length?(c=t?Tv(o):Sv,h):c!==Sv},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}()(t,e)}var Rv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dv(t){if(!(e=Rv.exec(t)))throw new Error("invalid format: "+t);var e;return new jv({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function jv(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Dv.prototype=jv.prototype,jv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Fv,Uv,Vv,Lv,$v=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Hv=function(t){return(t=$v(Math.abs(t)))?t[1]:NaN},zv=function(t,e){var n=$v(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},qv={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return zv(100*t,e)},r:zv,s:function(t,e){var n=$v(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Fv=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+$v(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Bv=function(t){return t},Wv=Array.prototype.map,Zv=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];Uv=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Bv:(e=Wv.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Bv:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Wv.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Dv(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,_=t.trim,y=t.type;"n"===y?(g=!0,y="g"):qv[y]||(void 0===m&&(m=12),_=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?s:/[%p]/.test(y)?l:"",b=qv[y],C=/[defgprs%]/.test(y);function x(t){var i,s,l,d=v,x=w;if("c"===y)x=b(t)+x,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),m),_&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==h&&(M=!1),d=(M?"("===h?h:c:"-"===h||"("===h?"":h)+d,x=("s"===y?Zv[8+Fv/3]:"")+x+(M&&"("===h?")":""),C)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var O=d.length+t.length+x.length,P=O<p?new Array(p-O+1).join(e):"";switch(g&&f&&(t=r(P+t,P.length?p-x.length:1/0),P=""),n){case"<":t=d+t+x+P;break;case"=":t=d+P+t+x;break;case"^":t=P.slice(0,O=P.length>>1)+d+t+x+P.slice(O);break;default:t=P+d+t+x}return a(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return t+""},x}return{format:h,formatPrefix:function(t,e){var n=h(((t=Dv(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Hv(e)/3))),i=Math.pow(10,-r),s=Zv[8+r/3];return function(t){return n(i*t)+s}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Vv=Uv.format,Lv=Uv.formatPrefix;function Gv(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,s,o,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=pg(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(i=Math.ceil(e-t+1));++a<i;)s[a]=(t+a)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(i=Math.ceil(t-e+1));++a<i;)s[a]=(t-a)/o;return r&&s.reverse(),s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,s=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=hg?i*=10:s>=dg?i*=5:s>=fg&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Dv(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hv(e)/3)))-Hv(Math.abs(t)))}(s,o))||(r.precision=i),Lv(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hv(e)-Hv(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Hv(Math.abs(t)))}(s))||(r.precision=i-2*("%"===r.type))}return Vv(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),s=0,o=i.length-1,a=i[s],l=i[o];return l<a&&(r=a,a=l,l=r,r=s,s=o,o=r),(r=pg(a,l,n))>0?r=pg(a=Math.floor(a/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=pg(a=Math.ceil(a*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[s]=Math.floor(a/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[s]=Math.ceil(a*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}var Yv=new Date,Qv=new Date;function Kv(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,s){var o,a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<r);return a},i.filter=function(n){return Kv((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Yv.setTime(+e),Qv.setTime(+r),t(Yv),t(Qv),Math.floor(n(Yv,Qv))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Xv=Kv((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Xv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Kv((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Jv=Xv,tw=Kv((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));function ew(t){return Kv((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var nw=ew(0),rw=ew(1),iw=(ew(2),ew(3),ew(4)),sw=(ew(5),ew(6),nw.range),ow=Kv((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),aw=ow,lw=ow.range,cw=(Kv((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),Kv((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),Kv((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Kv((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));function uw(t){return Kv((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}cw.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Kv((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):cw:null};var hw=uw(0),dw=uw(1),fw=(uw(2),uw(3),uw(4)),pw=(uw(5),uw(6),Kv((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),gw=Kv((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));gw.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Kv((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var mw=gw;function _w(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vw(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ww,bw,Cw,xw={"-":"",_:" ",0:"0"},Mw=/^\s*\d+/,Ow=/^%/,Pw=/[\\^$*+?|[\]().{}]/g;function Sw(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Ew(t){return t.replace(Pw,"\\$&")}function Tw(t){return new RegExp("^(?:"+t.map(Ew).join("|")+")","i")}function kw(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Aw(t,e,n){var r=Mw.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Nw(t,e,n){var r=Mw.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Iw(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Rw(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Dw(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jw(t,e,n){var r=Mw.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fw(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Uw(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vw(t,e,n){var r=Mw.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Lw(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $w(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Hw(t,e,n){var r=Mw.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zw(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qw(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Bw(t,e,n){var r=Mw.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ww(t,e,n){var r=Mw.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Zw(t,e,n){var r=Mw.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gw(t,e,n){var r=Ow.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Yw(t,e,n){var r=Mw.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Qw(t,e,n){var r=Mw.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Kw(t,e){return Sw(t.getDate(),e,2)}function Xw(t,e){return Sw(t.getHours(),e,2)}function Jw(t,e){return Sw(t.getHours()%12||12,e,2)}function tb(t,e){return Sw(1+aw.count(Jv(t),t),e,3)}function eb(t,e){return Sw(t.getMilliseconds(),e,3)}function nb(t,e){return eb(t,e)+"000"}function rb(t,e){return Sw(t.getMonth()+1,e,2)}function ib(t,e){return Sw(t.getMinutes(),e,2)}function sb(t,e){return Sw(t.getSeconds(),e,2)}function ob(t){var e=t.getDay();return 0===e?7:e}function ab(t,e){return Sw(nw.count(Jv(t)-1,t),e,2)}function lb(t,e){var n=t.getDay();return t=n>=4||0===n?iw(t):iw.ceil(t),Sw(iw.count(Jv(t),t)+(4===Jv(t).getDay()),e,2)}function cb(t){return t.getDay()}function ub(t,e){return Sw(rw.count(Jv(t)-1,t),e,2)}function hb(t,e){return Sw(t.getFullYear()%100,e,2)}function db(t,e){return Sw(t.getFullYear()%1e4,e,4)}function fb(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Sw(e/60|0,"0",2)+Sw(e%60,"0",2)}function pb(t,e){return Sw(t.getUTCDate(),e,2)}function gb(t,e){return Sw(t.getUTCHours(),e,2)}function mb(t,e){return Sw(t.getUTCHours()%12||12,e,2)}function _b(t,e){return Sw(1+pw.count(mw(t),t),e,3)}function yb(t,e){return Sw(t.getUTCMilliseconds(),e,3)}function vb(t,e){return yb(t,e)+"000"}function wb(t,e){return Sw(t.getUTCMonth()+1,e,2)}function bb(t,e){return Sw(t.getUTCMinutes(),e,2)}function Cb(t,e){return Sw(t.getUTCSeconds(),e,2)}function xb(t){var e=t.getUTCDay();return 0===e?7:e}function Mb(t,e){return Sw(hw.count(mw(t)-1,t),e,2)}function Ob(t,e){var n=t.getUTCDay();return t=n>=4||0===n?fw(t):fw.ceil(t),Sw(fw.count(mw(t),t)+(4===mw(t).getUTCDay()),e,2)}function Pb(t){return t.getUTCDay()}function Sb(t,e){return Sw(dw.count(mw(t)-1,t),e,2)}function Eb(t,e){return Sw(t.getUTCFullYear()%100,e,2)}function Tb(t,e){return Sw(t.getUTCFullYear()%1e4,e,4)}function kb(){return"+0000"}function Ab(){return"%"}function Nb(t){return+t}function Ib(t){return Math.floor(+t/1e3)}ww=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=Tw(i),u=kw(i),h=Tw(s),d=kw(s),f=Tw(o),p=kw(o),g=Tw(a),m=kw(a),_=Tw(l),y=kw(l),v={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Kw,e:Kw,f:nb,H:Xw,I:Jw,j:tb,L:eb,m:rb,M:ib,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Nb,s:Ib,S:sb,u:ob,U:ab,V:lb,w:cb,W:ub,x:null,X:null,y:hb,Y:db,Z:fb,"%":Ab},w={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:pb,e:pb,f:vb,H:gb,I:mb,j:_b,L:yb,m:wb,M:bb,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Nb,s:Ib,S:Cb,u:xb,U:Mb,V:Ob,w:Pb,W:Sb,x:null,X:null,y:Eb,Y:Tb,Z:kb,"%":Ab},b={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:$w,e:$w,f:Zw,H:zw,I:zw,j:Hw,L:Ww,m:Lw,M:qw,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:Vw,Q:Yw,s:Qw,S:Bw,u:Nw,U:Iw,V:Rw,w:Aw,W:Dw,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:Fw,Y:jw,Z:Uw,"%":Gw};function C(t,e){return function(n){var r,i,s,o=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(i=xw[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),o.push(r),l=a+1);return o.push(t.slice(l,a)),o.join("")}}function x(t,e){return function(n){var r,i,s=vw(1900,void 0,1);if(M(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(!e||"Z"in s||(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=(r=yw(vw(s.y,0,1))).getUTCDay(),r=i>4||0===i?dw.ceil(r):dw(r),r=pw.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(i=(r=_w(vw(s.y,0,1))).getDay(),r=i>4||0===i?rw.ceil(r):rw(r),r=aw.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?yw(vw(s.y,0,1)).getUTCDay():_w(vw(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(i+5)%7:s.w+7*s.U-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,yw(s)):_w(s)}}function M(t,e,n,r){for(var i,s,o=0,a=e.length,l=n.length;o<a;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(s=b[i in xw?e.charAt(o++):i])||(r=s(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=C(n,v),v.X=C(r,v),v.c=C(e,v),w.x=C(n,w),w.X=C(r,w),w.c=C(e,w),{format:function(t){var e=C(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=C(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),bw=ww.format,Cw=ww.utcFormat,Kv((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Kv((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),Kv((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}));var Rb,Db=f_((Rb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map((function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n})))[Rb.length-1]),jb=function(t){return"string"==typeof t?new Tm([document.querySelectorAll(t)],[document.documentElement]):new Tm([null==t?[]:t],Em)};function Fb(){this._=null}function Ub(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Vb(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Lb(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function $b(t){for(;t.L;)t=t.L;return t}Fb.prototype={constructor:Fb,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=$b(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Vb(this,n),n=(t=n).U),n.C=!1,r.C=!0,Lb(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Lb(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vb(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,s=t.L,o=t.R;if(n=s?o?$b(o):s:o,i?i.L===t?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=t.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Vb(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Lb(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Vb(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Lb(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Vb(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Lb(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Hb=Fb;function zb(t,e,n,r){var i=[null,null],s=fC.push(i)-1;return i.left=t,i.right=e,n&&Bb(i,t,e,n),r&&Bb(i,e,t,r),hC[t.index].halfedges.push(s),hC[e.index].halfedges.push(s),i}function qb(t,e,n){var r=[e,n];return r.left=t,r}function Bb(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Wb(t,e,n,r,i){var s,o=t[0],a=t[1],l=o[0],c=o[1],u=0,h=1,d=a[0]-l,f=a[1]-c;if(s=e-l,d||!(s>0)){if(s/=d,d<0){if(s<u)return;s<h&&(h=s)}else if(d>0){if(s>h)return;s>u&&(u=s)}if(s=r-l,d||!(s<0)){if(s/=d,d<0){if(s>h)return;s>u&&(u=s)}else if(d>0){if(s<u)return;s<h&&(h=s)}if(s=n-c,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<h&&(h=s)}else if(f>0){if(s>h)return;s>u&&(u=s)}if(s=i-c,f||!(s<0)){if(s/=f,f<0){if(s>h)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<h&&(h=s)}return!(u>0||h<1)||(u>0&&(t[0]=[l+u*d,c+u*f]),h<1&&(t[1]=[l+h*d,c+h*f]),!0)}}}}}function Zb(t,e,n,r,i){var s=t[1];if(s)return!0;var o,a,l=t[0],c=t.left,u=t.right,h=c[0],d=c[1],f=u[0],p=u[1],g=(h+f)/2;if(p===d){if(g<e||g>=r)return;if(h>f){if(l){if(l[1]>=i)return}else l=[g,n];s=[g,i]}else{if(l){if(l[1]<n)return}else l=[g,i];s=[g,n]}}else if(a=(d+p)/2-(o=(h-f)/(p-d))*g,o<-1||o>1)if(h>f){if(l){if(l[1]>=i)return}else l=[(n-a)/o,n];s=[(i-a)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-a)/o,i];s=[(n-a)/o,n]}else if(d<p){if(l){if(l[0]>=r)return}else l=[e,o*e+a];s=[r,o*r+a]}else{if(l){if(l[0]<e)return}else l=[r,o*r+a];s=[e,o*e+a]}return t[0]=l,t[1]=s,!0}function Gb(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Yb(t,e){return e[+(e.left!==t.site)]}function Qb(t,e){return e[+(e.left===t.site)]}var Kb,Xb=[];function Jb(){Ub(this),this.x=this.y=this.arc=this.site=this.cy=null}function tC(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,s=n.site;if(r!==s){var o=i[0],a=i[1],l=r[0]-o,c=r[1]-a,u=s[0]-o,h=s[1]-a,d=2*(l*h-c*u);if(!(d>=-gC)){var f=l*l+c*c,p=u*u+h*h,g=(h*f-c*p)/d,m=(l*p-u*f)/d,_=Xb.pop()||new Jb;_.arc=t,_.site=i,_.x=g+o,_.y=(_.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=_;for(var y=null,v=dC._;v;)if(_.y<v.y||_.y===v.y&&_.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}dC.insert(y,_),y||(Kb=_)}}}}function eC(t){var e=t.circle;e&&(e.P||(Kb=e.N),dC.remove(e),Xb.push(e),Ub(e),t.circle=null)}var nC=[];function rC(){Ub(this),this.edge=this.site=this.circle=null}function iC(t){var e=nC.pop()||new rC;return e.site=t,e}function sC(t){eC(t),uC.remove(t),nC.push(t),Ub(t)}function oC(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],s=t.P,o=t.N,a=[t];sC(t);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<pC&&Math.abs(r-l.circle.cy)<pC;)s=l.P,a.unshift(l),sC(l),l=s;a.unshift(l),eC(l);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<pC&&Math.abs(r-c.circle.cy)<pC;)o=c.N,a.push(c),sC(c),c=o;a.push(c),eC(c);var u,h=a.length;for(u=1;u<h;++u)Bb((c=a[u]).edge,(l=a[u-1]).site,c.site,i);(c=a[h-1]).edge=zb((l=a[0]).site,c.site,null,i),tC(l),tC(c)}function aC(t){for(var e,n,r,i,s=t[0],o=t[1],a=uC._;a;)if((r=lC(a,o)-s)>pC)a=a.L;else{if(!((i=s-cC(a,o))>pC)){r>-pC?(e=a.P,n=a):i>-pC?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){hC[t.index]={site:t,halfedges:[]}}(t);var l=iC(t);if(uC.insert(e,l),e||n){if(e===n)return eC(e),n=iC(e.site),uC.insert(l,n),l.edge=n.edge=zb(e.site,l.site),tC(e),void tC(n);if(n){eC(e),eC(n);var c=e.site,u=c[0],h=c[1],d=t[0]-u,f=t[1]-h,p=n.site,g=p[0]-u,m=p[1]-h,_=2*(d*m-f*g),y=d*d+f*f,v=g*g+m*m,w=[(m*y-f*v)/_+u,(d*v-g*y)/_+h];Bb(n.edge,c,p,w),l.edge=zb(c,t,null,w),n.edge=zb(t,p,null,w),tC(e),tC(n)}else l.edge=zb(e.site,l.site)}}function lC(t,e){var n=t.site,r=n[0],i=n[1],s=i-e;if(!s)return r;var o=t.P;if(!o)return-1/0;var a=(n=o.site)[0],l=n[1],c=l-e;if(!c)return a;var u=a-r,h=1/s-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+i-s/2)))/h+r:(r+a)/2}function cC(t,e){var n=t.N;if(n)return lC(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var uC,hC,dC,fC,pC=1e-6,gC=1e-12;function mC(t,e){return e[1]-t[1]||e[0]-t[0]}function _C(t,e){var n,r,i,s=t.sort(mC).pop();for(fC=[],hC=new Array(t.length),uC=new Hb,dC=new Hb;;)if(i=Kb,s&&(!i||s[1]<i.y||s[1]===i.y&&s[0]<i.x))s[0]===n&&s[1]===r||(aC(s),n=s[0],r=s[1]),s=t.pop();else{if(!i)break;oC(i.arc)}if(function(){for(var t,e,n,r,i=0,s=hC.length;i<s;++i)if((t=hC[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),a=new Array(r);for(n=0;n<r;++n)o[n]=n,a[n]=Gb(t,fC[e[n]]);for(o.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[o[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var o=+e[0][0],a=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,s=fC.length;s--;)Zb(i=fC[s],t,e,n,r)&&Wb(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>pC||Math.abs(i[0][1]-i[1][1])>pC)||delete fC[s]}(o,a,l,c),function(t,e,n,r){var i,s,o,a,l,c,u,h,d,f,p,g,m=hC.length,_=!0;for(i=0;i<m;++i)if(s=hC[i]){for(o=s.site,a=(l=s.halfedges).length;a--;)fC[l[a]]||l.splice(a,1);for(a=0,c=l.length;a<c;)p=(f=Qb(s,fC[l[a]]))[0],g=f[1],h=(u=Yb(s,fC[l[++a%c]]))[0],d=u[1],(Math.abs(p-h)>pC||Math.abs(g-d)>pC)&&(l.splice(a,0,fC.push(qb(o,f,Math.abs(p-t)<pC&&r-g>pC?[t,Math.abs(h-t)<pC?d:r]:Math.abs(g-r)<pC&&n-p>pC?[Math.abs(d-r)<pC?h:n,r]:Math.abs(p-n)<pC&&g-e>pC?[n,Math.abs(h-n)<pC?d:e]:Math.abs(g-e)<pC&&p-t>pC?[Math.abs(d-e)<pC?h:t,e]:null))-1),++c);c&&(_=!1)}if(_){var y,v,w,b=1/0;for(i=0,_=null;i<m;++i)(s=hC[i])&&(w=(y=(o=s.site)[0]-t)*y+(v=o[1]-e)*v)<b&&(b=w,_=s);if(_){var C=[t,e],x=[t,r],M=[n,r],O=[n,e];_.halfedges.push(fC.push(qb(o=_.site,C,x))-1,fC.push(qb(o,x,M))-1,fC.push(qb(o,M,O))-1,fC.push(qb(o,O,C))-1)}}for(i=0;i<m;++i)(s=hC[i])&&(s.halfedges.length||delete hC[i])}(o,a,l,c)}this.edges=fC,this.cells=hC,uC=dC=fC=hC=null}function yC(t,e,n){this.k=t,this.x=e,this.y=n}_C.prototype={constructor:_C,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Yb(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(s=(i=n.halfedges).length)for(var i,s,o,a,l,c,u=n.site,h=-1,d=e[i[s-1]],f=d.left===u?d.right:d.left;++h<s;)o=f,f=(d=e[i[h]]).left===u?d.right:d.left,o&&f&&r<o.index&&r<f.index&&((a=u)[0]-(c=f)[0])*((l=o)[1]-a[1])-(a[0]-l[0])*(c[1]-a[1])<0&&t.push([u.data,o.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,s=this,o=s._found||0,a=s.cells.length;!(i=s.cells[o]);)if(++o>=a)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=s.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=s.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var l=t-a[0],c=e-a[1],h=l*l+c*c;h<u&&(u=h,o=a.index)}}))}while(null!==o);return s._found=r,null==n||u<=n*n?i.site:null}},Math,yC.prototype={constructor:yC,scale:function(t){return 1===t?this:new yC(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new yC(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new yC(1,0,0);var vC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wC=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),vC.hasOwnProperty(e)?{space:vC[e],local:t}:t};function bC(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===n&&"http://www.w3.org/1999/xhtml"===e.documentElement.namespaceURI?e.createElement(t):e.createElementNS(n,t)}}function CC(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var xC=function(t){var e=wC(t);return(e.local?CC:bC)(e)};function MC(){}var OC=function(t){return null==t?MC:function(){return this.querySelector(t)}};function PC(){return[]}var SC=function(t){return new Array(t.length)};function EC(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function TC(t,e,n,r,i,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new EC(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function kC(t,e,n,r,i,s,o){var a,l,c,u={},h=e.length,d=s.length,f=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(f[a]=c="$"+o.call(l,l.__data__,a,e),c in u?i[a]=l:u[c]=l);for(a=0;a<d;++a)(l=u[c="$"+o.call(t,s[a],a,s)])?(r[a]=l,l.__data__=s[a],u[c]=null):n[a]=new EC(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&u[f[a]]===l&&(i[a]=l)}function AC(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function NC(t){return function(){this.removeAttribute(t)}}function IC(t){return function(){this.removeAttributeNS(t.space,t.local)}}function RC(t,e){return function(){this.setAttribute(t,e)}}function DC(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function jC(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function FC(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}EC.prototype={constructor:EC,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var UC=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function VC(t){return function(){this.style.removeProperty(t)}}function LC(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $C(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function HC(t,e){return t.style.getPropertyValue(e)||UC(t).getComputedStyle(t,null).getPropertyValue(e)}function zC(t){return function(){delete this[t]}}function qC(t,e){return function(){this[t]=e}}function BC(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function WC(t){return t.trim().split(/^|\s+/)}function ZC(t){return t.classList||new GC(t)}function GC(t){this._node=t,this._names=WC(t.getAttribute("class")||"")}function YC(t,e){for(var n=ZC(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function QC(t,e){for(var n=ZC(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function KC(t){return function(){YC(this,t)}}function XC(t){return function(){QC(this,t)}}function JC(t,e){return function(){(e.apply(this,arguments)?YC:QC)(this,t)}}function tx(){this.textContent=""}function ex(t){return function(){this.textContent=t}}function nx(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function rx(){this.innerHTML=""}function ix(t){return function(){this.innerHTML=t}}function sx(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ox(){this.nextSibling&&this.parentNode.appendChild(this)}function ax(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lx(){return null}function cx(){var t=this.parentNode;t&&t.removeChild(this)}function ux(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function hx(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}GC.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var dx={},fx=null;function px(t,e,n){return t=gx(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function gx(t,e,n){return function(r){var i=fx;fx=r;try{t.call(this,this.__data__,e,n)}finally{fx=i}}}function mx(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function _x(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function yx(t,e,n){var r=dx.hasOwnProperty(t.type)?px:gx;return function(i,s,o){var a,l=this.__on,c=r(e,s,o);if(l)for(var u=0,h=l.length;u<h;++u)if((a=l[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function vx(t,e,n,r){var i=fx;t.sourceEvent=fx,fx=t;try{return e.apply(n,r)}finally{fx=i}}function wx(t,e,n){var r=UC(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function bx(t,e){return function(){return wx(this,t,e)}}function Cx(t,e){return function(){return wx(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(dx={mouseenter:"mouseover",mouseleave:"mouseout"}));var xx=[null];function Mx(t,e){this._groups=t,this._parents=e}Mx.prototype=(function(){return new Mx([[document.documentElement]],xx)}).prototype={constructor:Mx,select:function(t){"function"!=typeof t&&(t=OC(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=e[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(o=t.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),c[u]=o);return new Mx(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?PC:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,i=[],s=[],o=0;o<r;++o)for(var a,l=n[o],c=l.length,u=0;u<c;++u)(a=l[u])&&(i.push(t.call(a,a.__data__,u,l)),s.push(a));return new Mx(i,s)},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s)for(var o,a=n[s],l=a.length,c=i[s]=[],u=0;u<l;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new Mx(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each((function(t){p[++u]=t})),p;var n,r=e?kC:TC,i=this._parents,s=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var h=i[u],d=s[u],f=d.length,p=t.call(h,h&&h.__data__,u,i),g=p.length,m=l[u]=new Array(g),_=a[u]=new Array(g);r(h,d,m,_,c[u]=new Array(f),p,e);for(var y,v,w=0,b=0;w<g;++w)if(y=m[w]){for(w>=b&&(b=w+1);!(v=_[b])&&++b<g;);y._next=v||null}}return(a=new Mx(a,i))._enter=l,a._exit=c,a},enter:function(){return new Mx(this._enter||this._groups.map(SC),this._parents)},exit:function(){return new Mx(this._exit||this._groups.map(SC),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,l=e[o],c=n[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new Mx(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=AC);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],l=a.length,c=i[s]=new Array(l),u=0;u<l;++u)(o=a[u])&&(c[u]=o);c.sort(e)}return new Mx(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this},attr:function(t,e){var n=wC(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?IC:NC:"function"==typeof e?n.local?FC:jC:n.local?DC:RC)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?VC:"function"==typeof e?$C:LC)(t,e,null==n?"":n)):HC(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?zC:"function"==typeof e?BC:qC)(t,e)):this.node()[t]},classed:function(t,e){var n=WC(t+"");if(arguments.length<2){for(var r=ZC(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?JC:e?KC:XC)(n,e))},text:function(t){return arguments.length?this.each(null==t?tx:("function"==typeof t?nx:ex)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?rx:("function"==typeof t?sx:ix)(t)):this.node().innerHTML},raise:function(){return this.each(ox)},lower:function(){return this.each(ax)},append:function(t){var e="function"==typeof t?t:xC(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:xC(t),r=null==e?lx:"function"==typeof e?e:OC(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(cx)},clone:function(t){return this.select(t?hx:ux)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=mx(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?yx:_x,null==n&&(n=!1),r=0;r<o;++r)this.each(a(s[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<o;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Cx:bx)(t,e))}};var Ox=function(t){return"string"==typeof t?new Mx([[document.querySelector(t)]],[document.documentElement]):new Mx([[t]],xx)},Px=0;function Sx(){this._="@"+(++Px).toString(36)}Sx.prototype=(function(){return new Sx}).prototype={constructor:Sx,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Ex=function(){for(var t,e=fx;t=e.sourceEvent;)e=t;return e},Tx=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},kx=function(t){var e=Ex();return e.changedTouches&&(e=e.changedTouches[0]),Tx(t,e)},Ax=function(t,e,n){arguments.length<3&&(n=e,e=Ex().changedTouches);for(var r,i=0,s=e?e.length:0;i<s;++i)if((r=e[i]).identifier===n)return Tx(t,r);return null},Nx={value:function(){}};function Ix(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Rx(r)}function Rx(t){this._=t}function Dx(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function jx(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Fx(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Nx,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Rx.prototype=Ix.prototype={constructor:Rx,on:function(t,e){var n,r=this._,i=Dx(t+"",r),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=i[s]).type)r[n]=Fx(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Fx(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=i[s]).type)&&(n=jx(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Rx(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(r=this._[t]).length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};var Ux=Ix;function Vx(){fx.stopImmediatePropagation()}var Lx=function(){fx.preventDefault(),fx.stopImmediatePropagation()},$x=function(t){var e=t.document.documentElement,n=Ox(t).on("dragstart.drag",Lx,!0);"onselectstart"in e?n.on("selectstart.drag",Lx,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Hx=function(t){return function(){return t}};function zx(t,e,n,r,i,s,o,a,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=s,this.y=o,this.dx=a,this.dy=l,this._=c}function qx(){return!fx.button}function Bx(){return this.parentNode}function Wx(t){return null==t?{x:fx.x,y:fx.y}:t}function Zx(){return"ontouchstart"in this}zx.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Gx=function(){var t,e,n,r,i=qx,s=Bx,o=Wx,a=Zx,l={},c=Ux("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(a).on("touchstart.drag",m).on("touchmove.drag",_).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!r&&i.apply(this,arguments)){var o=v("mouse",s.apply(this,arguments),kx,this,arguments);o&&(Ox(fx.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),$x(fx.view),Vx(),n=!1,t=fx.clientX,e=fx.clientY,o("start"))}}function p(){if(Lx(),!n){var r=fx.clientX-t,i=fx.clientY-e;n=r*r+i*i>h}l.mouse("drag")}function g(){var t,e,r,i;Ox(fx.view).on("mousemove.drag mouseup.drag",null),e=n,r=(t=fx.view).document.documentElement,i=Ox(t).on("dragstart.drag",null),e&&(i.on("click.drag",Lx,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),Lx(),l.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=fx.changedTouches,r=s.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=v(n[t].identifier,r,Ax,this,arguments))&&(Vx(),e("start"))}}function _(){var t,e,n=fx.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(Lx(),e("drag"))}function y(){var t,e,n=fx.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=l[n[t].identifier])&&(Vx(),e("end"))}function v(t,e,n,r,i){var s,a,h,f=n(e,t),p=c.copy();if(vx(new zx(d,"beforestart",s,t,u,f[0],f[1],0,0,p),(function(){return null!=(fx.subject=s=o.apply(r,i))&&(a=s.x-f[0]||0,h=s.y-f[1]||0,!0)})))return function o(c){var g,m=f;switch(c){case"start":l[t]=o,g=u++;break;case"end":delete l[t],--u;case"drag":f=n(e,t),g=u}vx(new zx(d,c,s,t,g,f[0]+a,f[1]+h,f[0]-m[0],f[1]-m[1],p),p.apply,p,[c,r,i])}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:Hx(!!t),d):i},d.container=function(t){return arguments.length?(s="function"==typeof t?t:Hx(t),d):s},d.subject=function(t){return arguments.length?(o="function"==typeof t?t:Hx(t),d):o},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Hx(!!t),d):a},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},Yx=function(t){return function(){return t}},Qx=Math.PI,Kx=Qx/2,Xx=2*Qx;function Jx(t){return t.innerRadius}function tM(t){return t.outerRadius}function eM(t){return t.startAngle}function nM(t){return t.endAngle}function rM(t){return t&&t.padAngle}function iM(t){return t>=1?Kx:t<=-1?-Kx:Math.asin(t)}function sM(t,e,n,r,i,s,o,a){var l=n-t,c=r-e,u=o-i,h=a-s,d=(u*(e-s)-h*(t-i))/(h*l-u*c);return[t+d*l,e+d*c]}function oM(t,e,n,r,i,s,o){var a=t-n,l=e-r,c=(o?s:-s)/Math.sqrt(a*a+l*l),u=c*l,h=-c*a,d=t+u,f=e+h,p=n+u,g=r+h,m=(d+p)/2,_=(f+g)/2,y=p-d,v=g-f,w=y*y+v*v,b=i-s,C=d*g-p*f,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*w-C*C)),M=(C*v-y*x)/w,O=(-C*y-v*x)/w,P=(C*v+y*x)/w,S=(-C*y+v*x)/w,E=M-m,T=O-_,k=P-m,A=S-_;return E*E+T*T>k*k+A*A&&(M=P,O=S),{cx:M,cy:O,x01:-u,y01:-h,x11:M*(i/b-1),y11:O*(i/b-1)}}function aM(t){this._context=t}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var lM=function(t){return new aM(t)};function cM(t){return t[0]}function uM(t){return t[1]}function hM(t){this._curve=t}hM.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}},Math.sqrt(1/3),Math.sin(Qx/10),Math.sin(7*Qx/10);var dM=(Math.sin(Xx/10),Math.cos(Xx/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function fM(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function pM(t){this._context=t}function gM(t,e){this._basis=new pM(t),this._beta=e}function mM(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function _M(t,e){this._context=t,this._k=(1-e)/6}function yM(t,e){this._context=t,this._k=(1-e)/6}function vM(t,e){this._context=t,this._k=(1-e)/6}function wM(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function bM(t,e){this._context=t,this._alpha=e}pM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fM(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},gM.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],s=e[0],o=t[n]-i,a=e[n]-s,l=-1;++l<=n;)this._basis.point(this._beta*t[l]+(1-this._beta)*(i+(r=l/n)*o),this._beta*e[l]+(1-this._beta)*(s+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function t(e){function n(t){return 1===e?new pM(t):new gM(t,e)}return n.beta=function(e){return t(+e)},n}(.85),_M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:mM(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:mM(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new _M(t,e)}return n.tension=function(e){return t(+e)},n}(0),yM.prototype={areaStart:dM,areaEnd:dM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:mM(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new yM(t,e)}return n.tension=function(e){return t(+e)},n}(0),vM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mM(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new vM(t,e)}return n.tension=function(e){return t(+e)},n}(0),bM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:wM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var CM=function t(e){function n(t){return e?new bM(t,e):new _M(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function xM(t,e){this._context=t,this._alpha=e}function MM(t,e){this._context=t,this._alpha=e}function OM(t){return t<0?-1:1}function PM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(OM(s)+OM(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function SM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function EM(t,e,n){var r=t._x0,i=t._x1,s=t._y1,o=(i-r)/3;t._context.bezierCurveTo(r+o,t._y0+o*e,i-o,s-o*n,i,s)}function TM(t){this._context=t}function kM(t){this._context=t}xM.prototype={areaStart:dM,areaEnd:dM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:wM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new xM(t,e):new yM(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new MM(t,e):new vM(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),TM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:EM(this,this._t0,SM(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,EM(this,SM(this,n=PM(this,t,e)),n);break;default:EM(this,this._t0,n=PM(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},((function(t){this._context=new kM(t)}).prototype=Object.create(TM.prototype)).point=function(t,e){TM.prototype.point.call(this,e,t)},kM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};var AM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NM=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},IM=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),RM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DM=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},jM=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},FM=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},UM=function(){function t(e){var n=e.x,r=void 0===n?0:n,i=e.y,s=void 0===i?0:i,o=e.nx,a=e.ny,l=e.dy,c=void 0===l?0:l,u=e.dx,h=void 0===u?0:u,d=e.color,f=void 0===d?"grey":d,p=e.data,g=e.type,m=e.subject,_=e.connector,y=e.note,v=e.disable,w=e.id,b=e.className;NM(this,t),this._dx=void 0!==o?o-r:h,this._dy=void 0!==a?a-s:c,this._x=r,this._y=s,this._color=f,this.id=w,this._className=b||"",this._type=g||"",this.data=p,this.note=y||{},this.connector=_||{},this.subject=m||{},this.disable=v||[]}return IM(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var e=t.y;this._dx=t.x,this._dy=e,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var e=t.y;this._x=t.x,this._y=e,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),VM=function(){function t(e){var n=e.annotations,r=e.accessors,i=e.accessorsInverse;NM(this,t),this.accessors=r,this.accessorsInverse=i,this.annotations=n}return IM(t,[{key:"clearTypes",value:function(t){this.annotations.forEach((function(e){e.type=void 0,e.subject=t&&t.subject||e.subject,e.connector=t&&t.connector||e.connector,e.note=t&&t.note||e.note}))}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach((function(e){e.type.setPositionWithAccessors(t.accessors)}))}},{key:"editMode",value:function(t){this.annotations.forEach((function(e){e.type&&(e.type.editMode=t,e.type.updateEditMode())}))}},{key:"updateDisable",value:function(t){this.annotations.forEach((function(e){e.disable=t,e.type&&t.forEach((function(t){e.type[t]&&(e.type[t].remove&&e.type[t].remove(),e.type[t]=void 0)}))}))}},{key:"updateTextWrap",value:function(t){this.annotations.forEach((function(e){e.type&&e.type.updateTextWrap&&e.type.updateTextWrap(t)}))}},{key:"updateText",value:function(){this.annotations.forEach((function(t){t.type&&t.type.drawText&&t.type.drawText()}))}},{key:"updateNotePadding",value:function(t){this.annotations.forEach((function(e){e.type&&(e.type.notePadding=t)}))}},{key:"json",get:function(){var t=this;return this.annotations.map((function(e){var n=e.json;return t.accessorsInverse&&e.data&&(n.data={},Object.keys(t.accessorsInverse).forEach((function(r){n.data[r]=t.accessorsInverse[r]({x:e.x,y:e.y})}))),n}))}},{key:"noteNodes",get:function(){return this.annotations.map((function(t){return RM({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})}))}}]),t}(),LM=function(t,e){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=e<0?"top":"bottom"),t},$M=function(t,e){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=e<0?"right":"left"),t},HM=["topBottom","top","bottom"],zM=["leftRight","left","right"],qM=function(t){var e=t.data,n=t.curve,r=void 0===n?lM:n,i=t.canvasContext,s=t.className,o=t.classID,a=function(){var t=cM,e=uM,n=Yx(!0),r=null,i=lM,s=null;function o(o){var a,l,c,u=o.length,h=!1;for(null==r&&(s=i(c=$y())),a=0;a<=u;++a)!(a<u&&n(l=o[a],a,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(l,a,o),+e(l,a,o));if(c)return s=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:Yx(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Yx(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:Yx(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(s=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=s=null:s=i(r=t),o):r},o}().curve(r),l={type:"path",className:s,classID:o,data:e};return i?(a.context(i),l.pathMethods=a):l.attrs={d:a(e)},l},BM=function(t){var e=t.data,n=t.canvasContext,r={type:"path",className:t.className,classID:t.classID,data:e},i=function(){var t=Jx,e=tM,n=Yx(0),r=null,i=eM,s=nM,o=rM,a=null;function l(){var l,c,u=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-Kx,f=s.apply(this,arguments)-Kx,p=Math.abs(f-d),g=f>d;if(a||(a=l=$y()),h<u&&(c=h,h=u,u=c),h>1e-12)if(p>Xx-1e-12)a.moveTo(h*Math.cos(d),h*Math.sin(d)),a.arc(0,0,h,d,f,!g),u>1e-12&&(a.moveTo(u*Math.cos(f),u*Math.sin(f)),a.arc(0,0,u,f,d,g));else{var m,_,y=d,v=f,w=d,b=f,C=p,x=p,M=o.apply(this,arguments)/2,O=M>1e-12&&(r?+r.apply(this,arguments):Math.sqrt(u*u+h*h)),P=Math.min(Math.abs(h-u)/2,+n.apply(this,arguments)),S=P,E=P;if(O>1e-12){var T=iM(O/u*Math.sin(M)),k=iM(O/h*Math.sin(M));(C-=2*T)>1e-12?(w+=T*=g?1:-1,b-=T):(C=0,w=b=(d+f)/2),(x-=2*k)>1e-12?(y+=k*=g?1:-1,v-=k):(x=0,y=v=(d+f)/2)}var A=h*Math.cos(y),N=h*Math.sin(y),I=u*Math.cos(b),R=u*Math.sin(b);if(P>1e-12){var D=h*Math.cos(v),j=h*Math.sin(v),F=u*Math.cos(w),U=u*Math.sin(w);if(p<Qx){var V=C>1e-12?sM(A,N,F,U,D,j,I,R):[I,R],L=A-V[0],$=N-V[1],H=D-V[0],z=j-V[1],q=1/Math.sin(Math.acos((L*H+$*z)/(Math.sqrt(L*L+$*$)*Math.sqrt(H*H+z*z)))/2),B=Math.sqrt(V[0]*V[0]+V[1]*V[1]);S=Math.min(P,(u-B)/(q-1)),E=Math.min(P,(h-B)/(q+1))}}x>1e-12?E>1e-12?(m=oM(F,U,A,N,h,E,g),_=oM(D,j,I,R,h,E,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),E<P?a.arc(m.cx,m.cy,E,Math.atan2(m.y01,m.x01),Math.atan2(_.y01,_.x01),!g):(a.arc(m.cx,m.cy,E,Math.atan2(m.y01,m.x01),Math.atan2(m.y11,m.x11),!g),a.arc(0,0,h,Math.atan2(m.cy+m.y11,m.cx+m.x11),Math.atan2(_.cy+_.y11,_.cx+_.x11),!g),a.arc(_.cx,_.cy,E,Math.atan2(_.y11,_.x11),Math.atan2(_.y01,_.x01),!g))):(a.moveTo(A,N),a.arc(0,0,h,y,v,!g)):a.moveTo(A,N),u>1e-12&&C>1e-12?S>1e-12?(m=oM(I,R,D,j,u,-S,g),_=oM(A,N,F,U,u,-S,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),S<P?a.arc(m.cx,m.cy,S,Math.atan2(m.y01,m.x01),Math.atan2(_.y01,_.x01),!g):(a.arc(m.cx,m.cy,S,Math.atan2(m.y01,m.x01),Math.atan2(m.y11,m.x11),!g),a.arc(0,0,u,Math.atan2(m.cy+m.y11,m.cx+m.x11),Math.atan2(_.cy+_.y11,_.cx+_.x11),g),a.arc(_.cx,_.cy,S,Math.atan2(_.y11,_.x11),Math.atan2(_.y01,_.x01),!g))):a.arc(0,0,u,b,w,g):a.lineTo(I,R)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Qx/2;return[Math.cos(r)*n,Math.sin(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Yx(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Yx(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Yx(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Yx(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Yx(+t),l):i},l.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:Yx(+t),l):s},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Yx(+t),l):o},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l}().innerRadius(e.innerRadius||0).outerRadius(e.outerRadius||e.radius||2).startAngle(e.startAngle||0).endAngle(e.endAngle||2*Math.PI);return n?(i.context(n),r.pathMethods=lineGen):r.attrs={d:i()},r},WM=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,s=void 0===i?0:i,o=t.bbox;return"top"===(e=LM(e,t.offset.y))?s-=o.height:"middle"===e&&(s-=o.height/2),{components:[qM({data:[[r,s],[r,s+o.height]],className:"note-line"})]}},ZM=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,s=void 0===i?0:i,o=t.bbox;return"right"===(e=$M(e,t.offset.x))?r-=o.width:"middle"===e&&(r-=o.width/2),{components:[qM({data:[[r,s],[r+o.width,s]],className:"note-line"})]}},GM=function(t){var e=t.subjectType,n=t.type.annotation,r=n.position,i=n.x-r.x,s=i+n.dx,o=n.y-r.y,a=o+n.dy,l=n.subject;if("circle"===e&&(l.outerRadius||l.radius)){var c=Math.sqrt((i-s)*(i-s)+(o-a)*(o-a)),u=Math.asin(-a/c),h=l.outerRadius||l.radius+(l.radiusPadding||0);i=Math.abs(Math.cos(u)*h)*(s<0?-1:1),o=Math.abs(Math.sin(u)*h)*(a<0?-1:1)}if("rect"===e){var d=l.width,f=l.height;(d>0&&n.dx>0||d<0&&n.dx<0)&&(i=Math.abs(d)>Math.abs(n.dx)?d/2:d),(f>0&&n.dy>0||f<0&&n.dy<0)&&(o=Math.abs(f)>Math.abs(n.dy)?f/2:f),i===d/2&&o===f/2&&(i=s,o=a)}return[[i,o],[s,a]]},YM=function(t){var e=GM(t);return{components:[qM({data:e,className:"connector"})]}},QM=function(t){var e=t.subjectType,n=t.type.annotation,r=n.position,i=n.x-r.x,s=i+n.dx,o=n.y-r.y,a=o+n.dy,l=n.subject;if("rect"===e){var c=l.width,u=l.height;(c>0&&n.dx>0||c<0&&n.dx<0)&&(i=Math.abs(c)>Math.abs(n.dx)?c/2:c),(u>0&&n.dy>0||u<0&&n.dy<0)&&(o=Math.abs(u)>Math.abs(n.dy)?u/2:u),i===c/2&&o===u/2&&(i=s,o=a)}var h=[[i,o],[s,a]],d=a-o,f=s-i,p=s,g=a,m=a<o&&s>i||s<i&&a>o?-1:1;if(Math.abs(f)<Math.abs(d)?(p=s,g=o+f*m):(g=a,p=i+d*m),"circle"===e&&(l.outerRadius||l.radius)){var _=(l.outerRadius||l.radius)+(l.radiusPadding||0),y=_/Math.sqrt(2);if(Math.abs(f)>y&&Math.abs(d)>y)h=[[i=y*(s<0?-1:1),o=y*(a<0?-1:1)],[p,g],[s,a]];else if(Math.abs(f)>Math.abs(d)){var v=Math.asin(-a/_);h=[[i=Math.abs(Math.cos(v)*_)*(s<0?-1:1),a],[s,a]]}else{var w=Math.acos(s/_);h=[[s,o=Math.abs(Math.sin(w)*_)*(a<0?-1:1)],[s,a]]}}else h=[[i,o],[p,g],[s,a]];return{components:[qM({data:h,className:"connector"})]}},KM=function(t){var e=t.type,n=t.connectorData,r=t.subjectType;n||(n={}),n.points&&"number"!=typeof n.points||(n.points=XM(e.annotation.offset,n.points)),n.curve||(n.curve=CM);var i=[];if(e.editMode){var s=n.points.map((function(t,e){return RM({},function(t){var e=t.cx,n=t.cy;return{move:{x:void 0===e?0:e,y:void 0===n?0:n}}}({cx:t[0],cy:t[1]}),{index:e})})),o=function(t){n.points[t][0]+=fx.dx,n.points[t][1]+=fx.dy,e.redrawConnector()};i=e.mapHandles(s.map((function(t){return RM({},t.move,{drag:o.bind(e,t.index)})})))}var a=GM({type:e,subjectType:r});return a=[a[0]].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.points),[a[1]]),{components:[qM({data:a,curve:n.curve,className:"connector"})],handles:i}},XM=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n={x:t.x/(e+1),y:t.y/(e+1)},r=[],i=1;i<=e;i++)r.push([n.x*i+i%2*20,n.y*i-i%2*20]);return r},JM=function(t){var e=t.annotation,n=t.start,r=t.end,i=t.scale,s=e.position;n=n?[-r[0]+n[0],-r[1]+n[1]]:[e.dx,e.dy],r||(r=[e.x-s.x,e.y-s.y]);var o=r[0],a=r[1],l=n[0],c=10*(void 0===i?1:i),u=16/180*Math.PI,h=Math.atan(n[1]/l);l<0&&(h+=Math.PI);var d=[[o,a],[Math.cos(h+u)*c+o,Math.sin(h+u)*c+a],[Math.cos(h-u)*c+o,Math.sin(h-u)*c+a],[o,a]];return{components:[qM({data:d,className:"connector-end connector-arrow",classID:"connector-end"})]}},tO=function(t){var e=t.line,n=t.scale,r=BM({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(void 0===n?1:n)}});return r.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[r]}},eO=function(t){var e=t.subjectData,n=t.type;e.radius||e.outerRadius||(e.radius=20);var r=[],i=BM({data:e,className:"subject"});if(n.editMode){var s=function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy,i=void 0===r?0:r,s=t.r1,o=t.r2,a=t.padding,l={move:{x:n,y:i}};return void 0!==s&&(l.r1={x:n+s/Math.sqrt(2),y:i+s/Math.sqrt(2)}),void 0!==o&&(l.r2={x:n+o/Math.sqrt(2),y:i+o/Math.sqrt(2)}),void 0!==a&&(l.padding={x:n+s+a,y:i}),l}({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:e.radiusPadding}),o=function(t){var r=e[t]+fx.dx*Math.sqrt(2);e[t]=r,n.redrawSubject(),n.redrawConnector()},a=[RM({},s.r1,{drag:o.bind(n,void 0!==e.outerRadius?"outerRadius":"radius")})];e.innerRadius&&a.push(RM({},s.r2,{drag:o.bind(n,"innerRadius")})),r=n.mapHandles(a)}return i.attrs["fill-opacity"]=0,{components:[i],handles:r}},nO=function(t){var e=t.subjectData,n=t.type;e.width||(e.width=100),e.height||(e.height=100);var r=[],i=e.width,s=e.height,o=qM({data:[[0,0],[i,0],[i,s],[0,s],[0,0]],className:"subject"});if(n.editMode){var a=[{x:i,y:s/2,drag:(function(){e.width=fx.x,n.redrawSubject(),n.redrawConnector()}).bind(n)},{x:i/2,y:s,drag:(function(){e.height=fx.y,n.redrawSubject(),n.redrawConnector()}).bind(n)}];r=n.mapHandles(a)}return o.attrs["fill-opacity"]=.1,{components:[o],handles:r}},rO=function(t){var e=t.subjectData,n=t.type.annotation.position;return{components:[qM({data:[[(void 0!==e.x1?e.x1:n.x)-n.x,(void 0!==e.y1?e.y1:n.y)-n.y],[(void 0!==e.x2?e.x2:n.x)-n.x,(void 0!==e.y2?e.y2:n.y)-n.y]],className:"subject"})]}},iO=function(t){var e=t.subjectData,n=void 0===e?{}:e,r=t.type,i=void 0===r?{}:r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.typeSettings&&i.typeSettings.subject;n.radius||(n.radius=o&&o.radius?o.radius:14),n.x||o&&o.x&&(n.x=o.x),n.y||o&&o.y&&(n.y=o.y);var a=[],l=[],c=n.radius,u=.7*c,h=0,d=0,f=Math.sqrt(2)*c,p={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-f,xright:f,ytop:-f,ybottom:f};n.x&&!n.y?h=p["x"+n.x]:n.y&&!n.x?d=p["y"+n.y]:n.x&&n.y&&(h=p["x"+n.x+"corner"],d=p["y"+n.y+"corner"]);var g="translate("+h+", "+d+")",m=BM({className:"subject",data:{radius:c}});m.attrs.transform=g,m.attrs.fill=s.color,m.attrs["stroke-linecap"]="round",m.attrs["stroke-width"]="3px";var _=BM({className:"subject-ring",data:{outerRadius:c,innerRadius:u}});_.attrs.transform=g,_.attrs["stroke-width"]="3px",_.attrs.fill="white";var y=void 0;if(h&&d||!h&&!d)y=qM({className:"subject-pointer",data:[[0,0],[h||0,0],[0,d||0],[0,0]]});else if(h||d){var v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||e*c/Math.sqrt(2)};y=qM({className:"subject-pointer",data:[[0,0],[v(h),v(d)],[v(h,-1),v(d,-1)],[0,0]]})}if(y&&(y.attrs.fill=s.color,y.attrs["stroke-linecap"]="round",y.attrs["stroke-width"]="3px",l.push(y)),i.editMode){var w=function(){n.x=fx.x<2*-c?"left":fx.x>2*c?"right":void 0,n.y=fx.y<2*-c?"top":fx.y>2*c?"bottom":void 0,i.redrawSubject()},b={x:2*h,y:2*d,drag:w.bind(i)};b.x||b.y||(b.y=-c),a=i.mapHandles([b])}var C=void 0;return n.text&&(C={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:n.text,"text-anchor":"middle",dy:".25em",x:h,y:d}}),l.push(m),l.push(_),l.push(C),{components:l,handles:a}},sO=function(){function t(e){var n=e.a,r=e.annotation,i=e.editMode,s=e.dispatcher,o=e.notePadding,a=e.accessors;if(NM(this,t),this.a=n,this.note=-1===r.disable.indexOf("note")&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=-1===r.disable.indexOf("connector")&&n.select("g.annotation-connector"),this.subject=-1===r.disable.indexOf("subject")&&n.select("g.annotation-subject"),this.dispatcher=s,s){var l=dO.bind(null,s,r);l({component:this.note,name:"note"}),l({component:this.connector,name:"connector"}),l({component:this.subject,name:"subject"})}this.annotation=r,this.editMode=r.editMode||i,this.notePadding=void 0!==o?o:3,this.offsetCornerX=0,this.offsetCornerY=0,a&&r.data&&this.init(a)}return IM(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,e){var n=this;Array.isArray(e)||(e=[e]),e.filter((function(t){return t})).forEach((function(e){var r,i,s,o,a,l,c=e.type,u=e.className,h=e.attrs,d=e.classID;if("handle"===c)s=(r={group:t,r:h&&h.r,handles:e.handles}).handles,a=void 0===(o=r.r)?10:o,(l=(i=r.group).selectAll("circle.handle").data(s)).enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(Gx().container(Ox("g.annotations").node()).on("start",(function(t){return t.start&&t.start(t)})).on("drag",(function(t){return t.drag&&t.drag(t)})).on("end",(function(t){return t.end&&t.end(t)}))),i.selectAll("circle.handle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",(function(t){return t.r||a})).attr("class",(function(t){return"handle "+(t.className||"")})),l.exit().remove();else{hO(t,[n.annotation],c,u,d);for(var f=t.select(c+"."+(d||u)),p=Object.keys(h),g=[],m=f.node().attributes,_=m.length-1;_>=0;_--){var y=m[_].name;-1===p.indexOf(y)&&"class"!==y&&g.push(y)}p.forEach((function(t){"text"===t?f.text(h[t]):f.attr(t,h[t])})),g.forEach((function(t){return f.attr(t,null)}))}}))}},{key:"getNoteBBox",value:function(){return pO(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=pO(this.note,".annotation-note-content"),e=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(e[1])+this.annotation.dx,t.offsetCornerY=parseFloat(e[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.subject,r=e.type,i={type:this,subjectData:n},s={};"circle"===r?s=eO(i):"rect"===r?s=nO(i):"threshold"===r?s=rO(i):"badge"===r&&(s=iO(i,this.annotation));var o=s,a=o.components,l=void 0===a?[]:a,c=o.handles,u=void 0===c?[]:c;return l.forEach((function(e){e&&e.attrs&&!e.attrs.stroke&&(e.attrs.stroke=t.annotation.color)})),this.editMode&&(u=u.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),l.push({type:"handle",handles:u})),l}},{key:"drawConnector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.connector,r=n.type||e.type,i={type:this,connectorData:n};i.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var s="curve"===r?KM(i):"elbow"===r?QM(i):YM(i),o=s.components,a=void 0===o?[]:o,l=s.handles,c=void 0===l?[]:l,u=a[0];u&&(u.attrs.stroke=this.annotation.color,u.attrs.fill="none");var h=n.end||e.end,d={};if("arrow"===h){var f=u.data[1],p=u.data[0],g=Math.sqrt(Math.pow(f[0]-p[0],2)+Math.pow(f[1]-p[1],2));g<5&&u.data[2]&&(f=u.data[2]),d=JM({annotation:this.annotation,start:f,end:p,scale:n.endScale})}else"dot"===h?d=tO({line:u,scale:n.endScale}):h&&"none"!==h||this.connector&&this.connector.select(".connector-end").remove();return d.components&&(d.components.forEach((function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color})),a=a.concat(d.components)),this.editMode&&0!==c.length&&a.push({type:"handle",handles:c}),a}},{key:"drawNote",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.note,r=n.align||e.align||"dynamic",i={bbox:e.bbox,align:r,offset:this.annotation.offset},s=n.lineType||e.lineType,o={};"vertical"===s?o=WM(i):"horizontal"===s&&(o=ZM(i));var a=o,l=a.components,c=void 0===l?[]:l,u=a.handles,h=void 0===u?[]:u;if(c.forEach((function(e){e.attrs.stroke=t.annotation.color})),this.editMode){h=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),c.push({type:"handle",handles:h});var d=this.dragNote.bind(this),f=this.dragstarted.bind(this),p=this.dragended.bind(this);this.note.call(Gx().container(Ox("g.annotations").node()).on("start",(function(t){return f(t)})).on("drag",(function(t){return d(t)})).on("end",(function(t){return p(t)})))}else this.note.on("mousedown.drag",null);return c}},{key:"drawNoteContent",value:function(t){var e=this.annotation.note,n=e.orientation||t.orientation||"topBottom",r=e.lineType||t.lineType;"vertical"===r?n="leftRight":"horizontal"===r&&(n="topBottom");var i=function(t){var e=t.padding,n=void 0===e?0:e,r=t.bbox,i=void 0===r?{x:0,y:0,width:0,height:0}:r,s=t.align,o=t.orientation,a=t.offset,l=void 0===a?{x:0,y:0}:a,c=-i.x,u=0;return-1!==HM.indexOf(o)?(s=$M(s,l.x),l.y<0&&"topBottom"===o||"top"===o?u-=i.height+n:u+=n,"middle"===s?c-=i.width/2:"right"===s&&(c-=i.width)):-1!==zM.indexOf(o)&&(s=LM(s,l.y),l.x<0&&"leftRight"===o||"left"===o?c-=i.width+n:c+=n,"middle"===s?u-=i.height/2:"top"===s&&(u-=i.height)),{x:c,y:u}}({padding:void 0!==e.padding?e.padding:this.notePadding,bbox:t.bbox,offset:this.annotation.offset,orientation:n,align:e.align||t.align||"dynamic"}),s=i.x,o=i.y;return this.offsetCornerX=s+this.annotation.dx,this.offsetCornerY=o+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+s+", "+o+")"),[]}},{key:"drawOnScreen",value:function(t,e){return this.drawOnSVG(t,e)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){fx.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=fx.dx,t.y+=fx.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=fx.dx,t.y+=fx.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var e=this;return t.map((function(t){return RM({},t,{start:e.dragstarted.bind(e),end:e.dragended.bind(e)})}))}}]),t}(),oO=function(t,e,n){return function(t){function r(t){NM(this,r);var n=FM(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.typeSettings=e,e.disable&&e.disable.forEach((function(t){n[t]&&n[t].remove(),n[t]=void 0,"note"===t&&(n.noteContent=void 0)})),n}return jM(r,t),IM(r,[{key:"className",value:function(){return""+(e.className||DM(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this)&&DM(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=RM({},e.subject,this.typeSettings.subject),DM(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawSubject",this).call(this,RM({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=RM({},e.connector,this.typeSettings.connector),DM(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawConnector",this).call(this,RM({},t,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=RM({},e.note,this.typeSettings.note),DM(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNote",this).call(this,RM({},t,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return DM(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNoteContent",this).call(this,RM({},t,e.note,this.typeSettings.note))}}],[{key:"init",value:function(t,e){return DM(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,t,e),n&&(t=n(t,e)),t}}]),r}(t)},aO=function(t){function e(t){NM(this,e);var n=FM(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.textWrap=t.textWrap||120,n.drawText(),n}return jM(e,t),IM(e,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){hO(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");hO(t,[this.annotation],"rect","annotation-note-bg"),hO(t,[this.annotation],"text","annotation-note-label"),hO(t,[this.annotation],"text","annotation-note-title");var e={height:0},n=this.a.select("text.annotation-note-label"),r=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,i=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,s=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,o={top:0,bottom:0,left:0,right:0};if("number"==typeof s?o={top:s,bottom:s,left:s,right:s}:s&&"object"===(void 0===s?"undefined":AM(s))&&(o=RM(o,s)),this.annotation.note.title){var a=this.a.select("text.annotation-note-title");a.text(this.annotation.note.title),a.attr("fill",this.annotation.color),a.attr("font-weight","bold"),a.call(fO,r,i),e=a.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(fO,r,i),n.attr("y",1.1*e.height||0),n.attr("fill",this.annotation.color);var l=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",l.width+o.left+o.right).attr("height",l.height+o.top+o.bottom).attr("x",l.x-o.left).attr("y",-o.top).attr("fill","white").attr("fill-opacity",0)}}}]),e}(sO),lO=oO(aO,{className:"label",note:{align:"middle"}}),cO=oO(aO,{className:"callout",note:{lineType:"horizontal"}}),uO=(oO(cO,{className:"callout elbow",connector:{type:"elbow"}}),oO(cO,{className:"callout curve",connector:{type:"curve"}}),oO(sO,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),oO(aO,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}})),hO=(oO(aO,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),oO(function(t){function e(){return NM(this,e),FM(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return jM(e,t),IM(e,[{key:"mapY",value:function(t){DM(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,t);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&t.y&&(n.y=t.y(n.data)),!n.subject.x1&&!n.subject.x2||n.x||(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(t){DM(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,t);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&t.x&&(n.x=t.x(n.data)),!n.subject.y1&&!n.subject.y2||n.y||(n.y=n.subject.y1||n.subject.y2)}}]),e}(cO),{className:"callout xythreshold",subject:{type:"threshold"}}),function(t,e,n,r,i){var s=t.selectAll(n+"."+(i||r)).data(e);return s.enter().append(n).merge(s).attr("class",r),s.exit().remove(),t}),dO=function(t,e,n){var r=n.component,i=n.name;r&&r.on("mouseover.annotations",(function(){t.call(i+"over",r,e)})).on("mouseout.annotations",(function(){return t.call(i+"out",r,e)})).on("click.annotations",(function(){return t.call(i+"click",r,e)}))},fO=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;t.each((function(){for(var t=Ox(this),i=t.text().split(n||/[ \t\r\n]+/).reverse().filter((function(t){return""!==t})),s=void 0,o=[],a=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");s=i.pop();)o.push(s),a.text(o.join(" ")),a.node().getComputedTextLength()>e&&o.length>1&&(o.pop(),a.text(o.join(" ")),o=[s],a=t.append("tspan").attr("x",0).attr("dy",r+"em").text(s))}))},pO=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(e).nodes().reduce((function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),t.width=Math.max(t.width,n.width);var r=e&&e.attributes&&e.attributes.y;return t.height=Math.max(t.height,(r&&parseFloat(r.value)||0)+n.height),t}),{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};class gO{constructor(){this.filteredDates=[],this.allDates=[],this.allDates.push("2017-09-27T16:21:13.988Z"),this.allDates.push("2017-11-27T16:21:10.444Z"),this.allDates.push("2017-09-27T16:21:04.537Z"),this.allDates.push("2017-10-28T17:51:31.607Z"),this.allDates.push("2017-09-28T17:51:20.837Z"),this.data=[{data:"2020-05-15T16:21:13.988Z"},{data:"2020-05-16T16:21:10.444Z"},{data:"2020-05-17T16:21:04.537Z"},{data:"2020-05-18T17:51:31.607Z"},{data:"2020-05-19T00:00:20.000Z"},{data:"2020-05-20T00:00:20.000Z"},{data:"2020-05-21T00:00:20.000Z"},{data:"2020-05-22T00:00:20.000Z"},{data:"2020-05-23T00:00:20.000Z"},{data:"2020-05-24T00:00:20.000Z"},{data:"2020-05-25T00:00:20.000Z"},{data:"2020-05-26T00:00:20.000Z"},{data:"2020-05-27T00:00:20.000Z"},{data:"2020-05-28T00:00:20.000Z"},{data:"2020-05-29T00:00:20.000Z"},{data:"2020-05-30T00:00:20.000Z"},{data:"2020-05-31T00:00:20.000Z"},{data:"2020-06-01T00:00:20.000Z"},{data:"2020-06-02T00:00:20.000Z"},{data:"2020-06-03T00:00:20.000Z"},{data:"2020-06-04T00:00:20.000Z"},{data:"2020-06-05T00:00:20.000Z"},{data:"2020-06-06T00:00:20.000Z"},{data:"2020-06-07T00:00:20.000Z"},{data:"2020-06-08T00:00:20.000Z"},{data:"2020-06-09T00:00:20.000Z"},{data:"2020-06-10T00:00:20.000Z"},{data:"2020-06-11T00:00:20.000Z"},{data:"2020-06-12T00:00:20.000Z"},{data:"2020-06-13T00:00:20.000Z"},{data:"2020-06-14T00:00:20.000Z"}]}isStartDate(t){return t.slice(0,10)==this.startDate}reset(){Nm("#calendar").selectAll("svg").remove()}getDay(t){return t.submissionTime+","+t.id}reArrangeFilter(t){var e=parseInt(t.slice(5,7),10),n=this.allDates.filter((function(t,n,r){var i=parseInt(t.slice(5,7),10);return i==e||i==e-1||i==e+1})),r=[];n.map((function(t){r.push({submissionTime:t})})),this.drawCalendar(r,t)}doText(t){var e="ID-"+bw("%Y-%m-%d")(new Date(t));Nm("#calendar").selectAll("text.dayT").attr("visibility","hidden"),Nm("#calendar").select("text[id='"+e+"']").attr("visibility","visible")}doAnnotations(t){var e="ID-"+bw("%Y-%m-%d")(new Date(t)),n="m-"+bw("%m")(new Date(t));jb("g.annotation-group").remove();var r=Nm("#calendar").select("rect[id='"+e+"']"),i=Nm("#calendar").select("svg[id='"+n+"']"),s=parseInt(i.attr("x"),10)+parseInt(r.attr("x"),10)+7,o=parseInt(r.attr("y"),10)+7;const a=[{type:uO,note:{label:Cw("%a, %d-%b")(new Date(t)),bgPadding:20},subject:{radius:10},x:s,y:o,dy:10,dx:15,color:"red"}].map((function(t){return t})),l=function(){var t=[],e=void 0,n=void 0,r=[],i={},s={},o=!1,a=void 0,l=cO,c=void 0,u=void 0,h=Ux("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),d=void 0,f=function(n){d=n,o||n.selectAll("circle.handle").remove();var f=t.map((function(t){return t.type||(t.type=l),t.disable||(t.disable=r),new UM(t)}));e=e||new VM({annotations:f,accessors:i,accessorsInverse:s,ids:a}),n.selectAll("g").data([e]).enter().append("g").attr("class","annotations");var p=n.select("g.annotations");hO(p,e.annotations,"g","annotation"),p.selectAll("g.annotation").each((function(t){var e=Ox(this);e.attr("class","annotation"),hO(e,[t],"g","annotation-connector"),hO(e,[t],"g","annotation-subject"),hO(e,[t],"g","annotation-note"),hO(e.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:e,annotation:t,textWrap:c,notePadding:u,editMode:o,dispatcher:h,accessors:i}),t.type.draw(),t.type.drawText&&t.type.drawText()}))};return f.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",e.json),window.copy(JSON.stringify(e.json.map((function(t){return delete t.type,t})))),f},f.update=function(){return t&&e&&(t=e.annotations.map((function(t){return t.type.draw(),t}))),f},f.updateText=function(){return e&&(e.updateText(c),t=e.annotations),f},f.updatedAccessors=function(){return e.setPositionWithAccessors(),t=e.annotations,f},f.disable=function(n){return arguments.length?(r=n,e&&(e.updateDisable(r),t=e.annotations),f):r},f.textWrap=function(n){return arguments.length?(c=n,e&&(e.updateTextWrap(c),t=e.annotations),f):c},f.notePadding=function(n){return arguments.length?(u=n,e&&(e.updateNotePadding(u),t=e.annotations),f):u},f.type=function(n,r){return arguments.length?(l=n,e&&(e.annotations.map((function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=l,t.subject=r&&r.subject||t.subject,t.connector=r&&r.connector||t.connector,t.note=r&&r.note||t.note})),t=e.annotations),f):l},f.annotations=function(n){if(!arguments.length)return e&&e.annotations||t;if(t=n,e&&e.annotations){var r=t.some((function(t){return!t.type||"[object Object]"!==t.type.toString()}));r?(e=null,f(d)):e.annotations=t}return f},f.context=function(t){return arguments.length?(n=t,f):n},f.accessors=function(t){return arguments.length?(i=t,f):i},f.accessorsInverse=function(t){return arguments.length?(s=t,f):s},f.ids=function(t){return arguments.length?(a=t,f):a},f.editMode=function(n){return arguments.length?(o=n,d&&d.selectAll("g.annotation").classed("editable",o),e&&(e.editMode(o),t=e.annotations),f):o},f.collection=function(t){return arguments.length?(e=t,f):e},f.on=function(){var t=h.on.apply(h,arguments);return t===h?f:t},f}().type(lO).annotations(a);Nm("div#calendar svg").append("g").attr("class","annotation-group").style("font-size","0.6em").call(l)}highlightStory(t){alert(t.submissionTime.slice(0,10));var e=t.submissionTime.slice(0,10);jb(".a"+e).style("fill","#aaa")}drawMuhurtas(t){Nm("#muhurtas").selectAll("svg").remove();var e=[{data:"\u0966\u0967"},{data:"\u0966\u0968"},{data:"\u0966\u0969"},{data:"\u0966\u096a"},{data:"\u0966\u096b"},{data:"\u0966\u096c"},{data:"\u0966\u096d"},{data:"\u0966\u096e"},{data:"\u0966\u096f"},{data:"\u0967\u0966"},{data:"\u0967\u0967"},{data:"\u0967\u0968"},{data:"\u0967\u0969"},{data:"\u0967\u096a"},{data:"\u0967\u096b"},{data:"\u0967\u096c"},{data:"\u0967\u096d"},{data:"\u0967\u096e"},{data:"\u0967\u096f"},{data:"\u0968\u0966"},{data:"\u0968\u0967"},{data:"\u0968\u0968"},{data:"\u0968\u0969"},{data:"\u0968\u096a"},{data:"\u0968\u096b"},{data:"\u0968\u096c"},{data:"\u0968\u096d"},{data:"\u0968\u096e"},{data:"\u0968\u096f"},{data:"\u0969\u0966"},{data:"\u0969\u0967"}],n=Nm("#muhurtas").style("width"),r=parseInt(n,10)/t.length-2,i=(parseInt(n,10),Nm("#muhurtas").append("svg").attr("height",40).attr("width",n)),s=i.selectAll("svg").data(t).enter().append("svg").append("rect");i.selectAll("svg").data(t).append("svg:image").attr("xlink:href","https://arunsreekumar.com/assets/Images/Calendar/Shiva.png").attr("width",15).attr("height",10).attr("y",0).attr("x",(function(t,e){return(r+2)*e})),s.attr("id",(function(t){return"n-"+t.data})).attr("class","nakshatra").attr("fill","#ff8c66").attr("stroke","#ff8c66").attr("width",r).attr("height",2).attr("y",12).attr("x",(function(t,e){return(r+2)*e})).append("g"),i.selectAll("svg").data(t).append("g").append("text").attr("width",12).attr("height",12).text((function(t,n){return e[n].data})).attr("y",23).attr("font-size","0.5em").attr("x",(function(t,e){return(r+2)*e+r/3}))}drawCalendar(t,e){Nm("#calendar").selectAll("svg").remove();var n=function(t,e){var n,r,i=t.length,s=-1;if(null==e){for(;++s<i;)if(null!=(n=t[s])&&n>=n)for(r=n;++s<i;)null!=(n=t[s])&&r>n&&(r=n)}else for(;++s<i;)if(null!=(n=e(t[s]))&&n>=n)for(r=n;++s<i;)null!=(n=e(t[s]))&&r>n&&(r=n);return r}(t,(function(t){return new Date(t.data.date)})),r=function(t,e){var n,r,i=t.length,s=-1;if(null==e){for(;++s<i;)if(null!=(n=t[s])&&n>=n)for(r=n;++s<i;)null!=(n=t[s])&&n>r&&(r=n)}else for(;++s<i;)if(null!=(n=e(t[s]))&&n>=n)for(r=n;++s<i;)null!=(n=e(t[s]))&&n>r&&(r=n);return r}(t,(function(t){return new Date(t.data.date)}));if(e){var i=parseInt(e.slice(5,7),10)-1,s=n.getMonth(),o=r.getMonth();s==i&&s>0&&n.setMonth(11==s?s-2:s-1),o==i&&o<11&&r.setMonth(0==o?o+2:o+1)}for(var a=bw("%w"),l=bw("%U"),c=bw("%Y-%m-%d"),u=Cw("%a, %d-%b"),h=bw("%B"),d=tw.range(tw.floor(n),r),f=0;f<t.length;f++)t[f].today=t[f].data.date.slice(0,10);var p=Nm("#calendar").append("svg").attr("height",130).selectAll("svg").data(d).enter().append("svg").attr("id",(function(t){return"m-"+bw("%m")(t)})).attr("class","month").attr("background","red").attr("width",121).attr("height",(function(t){var e,n=(e=tw.floor(t),sw(nw.floor(e),tw.offset(e,1)).length);return 15*n+2*(n+1)+20})).attr("x",(function(t,e){return 121*e})).append("g");p.append("text").attr("class","month-name").attr("x",60.5).attr("y",15).attr("text-anchor","middle").text((function(t){return h(t)}));var g=p.selectAll("g.dayG").data((function(t,e){return lw(t,new Date(t.getFullYear(),t.getMonth()+1,1))})).enter().append("g").attr("id",t=>"ID-"+c(new Date(t))).attr("class","dayG").attr("x",(function(t){return 15*a(t)+2*a(t)+2})).attr("y",(function(t){return 15*(l(t)-l(new Date(t.getFullYear(),t.getMonth(),1)))+2*(l(t)-l(new Date(t.getFullYear(),t.getMonth(),1)))+2+20})),m=g.append("rect").attr("class","day").attr("id",t=>"ID-"+c(new Date(t))).attr("width",15).attr("height",15).attr("rx",3).attr("ry",3).attr("fill","#ff8c66").attr("x",(function(t){return 15*a(t)+2*a(t)+2})).attr("y",(function(t){return 15*(l(t)-l(new Date(t.getFullYear(),t.getMonth(),1)))+2*(l(t)-l(new Date(t.getFullYear(),t.getMonth(),1)))+2+20})).on("mouseover",(function(t){Nm(this).classed("hover",!0)})).on("mouseout",(function(t){Nm(this).classed("hover",!1)})).datum(c);g.append("text").attr("class","dayT").attr("id",t=>"ID-"+c(new Date(t))).attr("width",15).attr("height",15).attr("visibility",(function(e){return t.some(t=>c(new Date(e))==t.today)?"visible":"hidden"})).attr("fill","#00004d").attr("font-size","8px").attr("x",(function(t){return 15*a(t)+2*a(t)+2+3})).attr("y",(function(t){return 15*(l(t)-l(new Date(t.getFullYear(),t.getMonth(),1)))+2*(l(t)-l(new Date(t.getFullYear(),t.getMonth(),1)))+2+30})).text((function(t){return bw("%d")(t)})),m.append("title").text((function(t){return u(new Date(t))}));var _=By().key((function(t){return t.today})).rollup((function(t){return t.length})).object(t),y=By().key((function(t){return t.today})).rollup((function(t){return t.length})).entries(t),v=function t(){var e=Iv(Sv,Sv);return e.copy=function(){return Nv(e,t())},wv.apply(e,arguments),Gv(e)}().domain(function(t,e){var n,r,i,s=t.length,o=-1;if(null==e){for(;++o<s;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<s;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<s;)if(null!=(n=e(t[o]))&&n>=n)for(r=i=n;++o<s;)null!=(n=e(t[o]))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}(y,(function(t){return t.value}))).range([.4,1]);m.filter((function(t){return t in _})).style("fill",(function(t){return Db(v(_[t]))})).classed("clickable",!0).on("click",(function(t){Nm(this).classed("focus")?Nm(this).classed("focus",!1):Nm(this).classed("focus",!0)})).select("title").text((function(t){return u(new Date(t))+":  "+_[t]})),this.drawMuhurtas(t)}drawSummary(t,e,n,r){Nm("#calendar").selectAll("svg").each((function(e,i){var s=bw("%m"),o=t.filter(t=>t.today.slice(5,7)===s(e));Nm(this).select("g").selectAll("text.summary").data(o).enter().append("text").attr("x",8*r+8*n).attr("y",(function(t,e){return n+20+(e+1)*r})).attr("font-size",()=>Math.floor(r/1.5)+"px").text((function(t){return t.name}))}))}drawImages(t,e,n,r){bw("%m"),Nm("#calendar").selectAll("svg").each((function(t,e){}))}showDates(t,e,n){var r=bw("%w"),i=bw("%d"),s=bw("%U"),o=bw("%Y-%m-%d");Nm("#calendar").selectAll("svg").selectAll("text.day").data((function(t,e){return lw(t,new Date(t.getFullYear(),t.getMonth()+1,1))})).enter().append("text").attr("class","day").attr("width",(function(n){return t.filter(t=>t.today.slice(5,7)===bw("%m")(n)).length>0?e:0})).attr("height",(function(n){return t.filter(t=>t.today.slice(5,7)===bw("%m")(n)).length>0?e:0})).attr("x",(function(t){return r(t)*e+r(t)*n+2*n})).attr("y",(function(r){var i;return i=t.filter(t=>t.today.slice(5,7)===bw("%m")(r)).length>0?e:0,(s(r)-s(new Date(r.getFullYear(),r.getMonth(),1)))*i+(s(r)-s(new Date(r.getFullYear(),r.getMonth(),1)))*n+(i-n)+20})).attr("font-size",(function(e){return t.filter(t=>t.today.slice(5,7)===bw("%m")(e)).length>0?"10px":"0px"})).style("fill","#00a").text((function(t){return i(t)})).datum(o)}}class mO{constructor(t,e,n,r,i,s,o,a){this.messageService=s,this.dataService=o,this.chatbotcomponent=a,this.name=t,this.system=e,this.avatar=n,this.url=r,this.statusMessage=i,this.messages=[],this._dataService=o,this._chatbotcomponent=a,this.allConversations=[],this.lastInputMessageId=999900}get calendarData(){return this._calendarData}set calendarData(t){this._calendar=new gO,this._calendarData=Object.assign([],t),this._calendar.drawCalendar(this._calendarData,null),new Date,this._calendar.doAnnotations("2020-05-15")}resetRoot(){this.allConversations[0]=new og("chatbotRoot",this.name,this.system,null,null,!0,!1,this.dataService,this.messageService)}initializeConversation(t){this.allConversations.push(new og("chatbotRoot",this.name,this.system,t,null,!0,!0,this.dataService,this.messageService)),this.currentConversation=this.allConversations[0]}processMessage(t){return this.currentConversation.processMessage(t),!0}getAllConversations(){return this.allConversations.map(t=>{var e=Object.assign({},t);return delete e.dataService,delete e.messageService,delete e.chatbot,delete e.matches,delete e.samples,delete e.messages,delete e.vocabulary,delete e.pendingConversation,delete e.subConversations,delete e.parentConversation,delete e.mainConversation,e})}getAllConversationsSummary(){return this.allConversations.map(t=>t.mainConversation.conversationName+" :"+t.conversationName)}}var _O=function(t){return t.NONE="NONE",t.YOUTUBE="YOUTUBE",t.CALENDAR="CALENDAR",t}({});class yO{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new vO(t,this.dueTime,this.scheduler))}}class vO extends p{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wO,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function wO(t){t.debouncedNext()}class bO{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new CO(t,this.compare,this.keySelector))}}class CO extends p{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class xO{}function MO(t,e=null){return{type:4,styles:e,timings:t}}function OO(t,e=null){return{type:3,steps:t,options:e}}function PO(t,e=null){return{type:2,steps:t,options:e}}function SO(t){return{type:6,styles:t,offset:null}}function EO(t,e,n){return{type:0,name:t,styles:e,options:n}}function TO(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function kO(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function AO(t){Promise.resolve(null).then(t)}class NO{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){AO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class IO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?AO(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class RO{}class DO{}class jO{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof jO?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new jO;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof jO?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class FO{encodeKey(t){return UO(t)}encodeValue(t){return UO(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function UO(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class VO{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new VO({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function LO(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function $O(t){return"undefined"!=typeof Blob&&t instanceof Blob}function HO(t){return"undefined"!=typeof FormData&&t instanceof FormData}class zO{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new jO),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new VO,this.urlWithParams=e}serializeBody(){return null===this.body?null:LO(this.body)||$O(this.body)||HO(this.body)||"string"==typeof this.body?this.body:this.body instanceof VO?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:HO(this.body)?null:$O(this.body)?this.body.type||null:LO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof VO?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new zO(e,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const qO=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class BO{constructor(t,e=200,n="OK"){this.headers=t.headers||new jO,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class WO extends BO{constructor(t={}){super(t),this.type=qO.ResponseHeader}clone(t={}){return new WO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ZO extends BO{constructor(t={}){super(t),this.type=qO.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ZO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class GO extends BO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function YO(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let QO=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof zO)r=t;else{let i=void 0;i=n.headers instanceof jO?n.headers:new jO(n.headers);let s=void 0;n.params&&(s=n.params instanceof VO?n.params:new VO({fromObject:n.params})),r=new zO(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=wh(r).pipe(ad(t=>this.handler.handle(t)));if(t instanceof zO||"events"===n.observe)return i;const s=i.pipe(kh(t=>t instanceof ZO));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(F(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(F(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new VO).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,YO(n,e))}post(t,e,n={}){return this.request("POST",t,YO(n,e))}put(t,e,n={}){return this.request("PUT",t,YO(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Gt(RO))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class KO{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const XO=new Ut("HTTP_INTERCEPTORS");let JO=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const tP=/^\)\]\}',?\n/;class eP{}let nP=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),rP=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new jO(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new WO({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(tP,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new ZO({body:l,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new GO({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new GO({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const c=r=>{l||(e.next(s()),l=!0);let i={type:qO.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:qO.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:qO.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Gt(eP))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const iP=new Ut("XSRF_COOKIE_NAME"),sP=new Ut("XSRF_HEADER_NAME");class oP{}let aP=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Gt(rc),Gt(cl),Gt(iP))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),lP=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(oP),Gt(sP))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),cP=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(XO,[]);this.chain=t.reduceRight((t,e)=>new KO(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(DO),Gt(Vs))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),uP=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:lP,useClass:JO}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:iP,useValue:e.cookieName}:[],e.headerName?{provide:sP,useValue:e.headerName}:[]]}}}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[lP,{provide:XO,useExisting:lP,multi:!0},{provide:oP,useClass:aP},{provide:iP,useValue:"XSRF-TOKEN"},{provide:sP,useValue:"X-XSRF-TOKEN"}]}),t})(),hP=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[QO,{provide:RO,useClass:cP},rP,{provide:DO,useExisting:rP},nP,{provide:eP,useExisting:nP}],imports:[[uP.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class dP{}let fP=(()=>{class t{constructor(t){this.zone=t,this.personEmail="arun-sree-kumar@outlook.com",window.messageServiceComponentRef={zone:this.zone,componentFn:(t,e)=>this.updateConversation(t,e),component:this}}updateConversation(t,e){this.isItForMe(e)&&(e.data.inputs?this.processAttachment(e):this.processText(e.data.text))}isItForMe(t){return console.log(this.personEmail),console.log(this.personId),console.log(t.data.personId),!!this.personEmail&&this.personEmail==t.data.personEmail}processText(t){var e=this.chatbotC.getChatbot("wc9to5");console.log("processing message "+t),e.allConversations[e.allConversations.length-1].processMessage(t)}processAttachment(t){console.log(t.data.inputs);var e=t.data.inputs.msgTemplate;console.log(e),Object.keys(t.data.inputs).forEach(n=>{"msgTemplate"!=n&&(e=e.replace(n,t.data.inputs[n]))}),this.dataService.sendWebExMessageActivityCard(this.getPersonEmail(),""+e,"").subscribe(t=>{this.processText(e)})}addMessage(t,e,n,r){var i=new dP;i.id=t,i.data=Object.assign({},e),i.fromUser=r,i.timeAdded=(new Date).toLocaleTimeString()+", Today",i.messageText=n,"9to5"==r?(this.chatbotC.getChatbot("9to5").messages.push(i),console.log("going to send this message to webex -"+n),this.dataService.sendWebExMessageActivityCard(this.getPersonEmail(),n,"").subscribe(t=>{console.log("result from webex = "+t)})):this.chatbotC.currentChatbot.messages.push(i)}getPersonID(){return this.personId}getPersonEmail(){return this.personEmail}queueConversation(t){this.chatbotC.getChatbot(t.system).allConversations.push(t)}deQueueConversation(t){this.chatbotC.getChatbot(t.system).allConversations.pop()}resetRoot(t){this.chatbotC.getChatbot(t).resetRoot()}resetBot(t){var e=this.chatbotC.getChatbot(t);this.chatbotC.currentChatbot=new mO(e.name,e.system,e.avatar,e.url,e.statusMessage,this,this.dataService,this.chatbotC)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ol))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pP={headers:new jO({Accept:"application/json, text/plain, */*",Authorization:"Bearer vnvnmm"})},gP={headers:new jO({Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:"Bearer hkhkhkhk"})};new jO({Accept:"text/html, application/xhtml+xml, */*","Content-Type":"application/x-www-form-urlencoded"});let mP=(()=>{class t{constructor(t,e){this.http=t,this.messageService=e,e.dataService=this}get_allChatbots(){return this.http.get("assets/Data/chatbots.json")}get_ChatbuilderConfig(t,e){return this.http.get("assets/Data/"+t+"/"+e+".json")}get_CBluePrint(t,e){return this.http.get("assets/Data/"+t+"/"+e+".json")}get_MethodText(t,e){return this.http.get("assets/Data/"+t+"/Methods/"+e+".txt",{responseType:"text"})}get_ActivityActionText(t,e){return this.http.get("assets/Data/"+t+"/Cards/"+e+".json",{responseType:"text"})}run_ActionRemote(t,e,n){return this.http.post("https://arunsreekumar.com/"+t+"/"+e,JSON.stringify(n),pP)}sendWebExMessageActivityCard(t,e,n){var r='{\n      "toPersonEmail": "'+t+'",\n      "markdown": "'+e+'",\n      "attachments": [\n      '+n+"\n      ]}";return console.log("activitycard="+r),this.http.post("https://api.ciscospark.com/v1/messages",JSON.parse(r),gP)}run_BotAction(t,e,n){if("mLoadSuperBot"==n.aDescription.split("|")[0].split(":_:")[0]){var r=n.aDescription.split("|")[0].split(":_:")[1],i=this.chatbotC.getChatbot("SuperBot");i.callingChatbotName=this.chatbotC.currentChatbot.system,this.chatbotC.currentChatbot=i,this.chatbotC.currentChatbot.processMessage(r)}else if("mLoadCard"==n.aName){var s=n.aDescription.split("|")[0].split(":_:")[1];this.get_ActivityActionText(e,s).subscribe(t=>{let e=t;n.aDescription.split("|").forEach(t=>{var n=t.split(":_:")[0],r=t.split(":_:")[1];e=e.replace(n,r)}),this.sendWebExMessageActivityCard(this.messageService.getPersonEmail(),"hi",e).subscribe(t=>{console.log("result from webex = "+t)})})}if("youtubechat"==n.aName){var o="";n.aDescription.split("|").forEach(t=>{var e=t.split(":_:")[0],n=t.split(":_:")[1];"youtubeId"==e&&(o=n)}),this.chatbotC.changeChatbot(this.chatbotC.getChatbot("Youtube")),this.chatbotC.youtubeId=o}else this.get_MethodText(e,n.aName).subscribe(r=>{let i=r;var s=n.aDescription.split("|"),o="";s.forEach(t=>{var e=t.split(":_:")[0],n=t.split(":_:")[1];"BOT_NAME"==e&&(o=n),i=i.replace(e,n)}),n.aName.indexOf("_OUTCHAT")>-1?this.processResultsInLauncher(i,n,e,t):n.aName.indexOf("_WEBEXCARD")>-1?this.processResultsInsideAndExportToWebEx(i,n,o.substring(1,o.length),o):this.processResultsInsideChatbot(i,n,e,t)});return w.create(t=>{t.next(n)})}processResultsInsideChatbot(t,e,n,r){let i=new sg;i.aName="Test",i.aDescription=btoa(t),this.run_ActionRemote(n,r,i).subscribe(t=>{this.messageService.addMessage(0,null,t,r)})}processResultsInsideAndExportToWebEx(t,e,n,r){let i=new sg;i.aName="Test",i.aDescription=btoa(t),this.run_ActionRemote(n,r,i).subscribe(t=>{this.sendWebExMessageActivityCard(this.messageService.getPersonEmail(),"hi",JSON.stringify(JSON.parse(t))).subscribe(t=>{console.log("result from webex = "+t)})})}processResultsInLauncher(t,e,n,r){}addNewConversation(t,e,n,r){this.http.get("assets/Data/"+r+"/"+t+".json").subscribe(i=>{var s=new og(t,n,r,e,null,!1,!1,this,this.messageService);s.conversationName=i.conversationName,s.targetParam=i.targetParam,s.targetValue=i.targetValue,s.validationMessage=i.validationMessage,s.confidence=i.confidence,s.samples=i.matches.map(t=>t.matchPattern),s.vocabulary=Object.assign([],i.vocabulary),s.matches=Object.assign([],i.matches),s.messages=Object.assign([],i.messages),s.messages.forEach(t=>{this.messageService.addMessage(t.id,t.data,t.messageText,t.fromUser)}),"mShowCalendar"==s.conversationName&&(this.chatbotC.currentChatbot.calendarData=i.messages),s.subConversations=Object.assign([],i.subConversations),this.messageService.queueConversation(s),s.mainConversation=s,s.processMessage(e)})}}return t.\u0275fac=function(e){return new(e||t)(Gt(QO),Gt(fP))},t.\u0275prov=ut({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_P=(()=>{class t{constructor(t){this.talk=new Ha,this.el=t}scrollIt(t){var e=null;$("div.messages ul li").each((function(t){var n=$(this).position().top,r=$(this).position().top+$(this).outerHeight(!1);n<200&&r>200?(e=$(this).attr("id"),$(this).find("p").toggleClass("active",!0,1e3,"easeOutSine")):$(this).find("p").toggleClass("active",!1,1e3,"easeOutSine")})),null!=e&&this.talk.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(ro(Xo))},t.\u0275dir=ye({type:t,selectors:[["","appScroll",""]],hostBindings:function(t,e){1&t&&po("scroll",(function(t){return e.scrollIt(t)}))},outputs:{talk:"talk"}}),t})(),yP=(()=>{class t{constructor(t){this.sanitizer=t}transform(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`Invalid safe type specified: ${e}`)}}}return t.\u0275fac=function(e){return new(e||t)(ro(ou))},t.\u0275pipe={type:(e={name:"safe",type:t,pure:!0}).type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null},t;var e})();const vP=["scrollMe"],wP=["calendar"],bP=["message"];function CP(t,e){1&t&&(ao(0,"div",46),ao(1,"div"),ao(2,"div",47),ao(3,"iframe",48),Eo(4,"hi"),lo(),lo(),lo(),lo())}function xP(t,e){if(1&t){const t=uo();ao(0,"li",49),po("click",(function(n){Ie(t);const r=e.$implicit;return _o().changeChatbot(r)})),ao(1,"div",8),co(2,"span",50),co(3,"img",35),ao(4,"div",51),ao(5,"p",52),Eo(6),lo(),ao(7,"p",53),Eo(8),lo(),lo(),lo(),lo()}if(2&t){const t=e.$implicit;ti(3),yo("src",t.avatar,Er),ti(3),To(t.name),ti(2),To(t.statusMessage)}}function MP(t,e){if(1&t){const t=uo();ao(0,"div",54),po("click",(function(e){return Ie(t),_o().goBack()})),Eo(1," \xa0"),co(2,"i",55),Eo(3,"\xa0 "),lo()}}function OP(t,e){if(1&t&&co(0,"img",35),2&t){const t=_o().$implicit;so("src",_o().getAvatar(t.fromUser),Er)}}function PP(t,e){if(1&t&&(ao(0,"span"),Eo(1),lo()),2&t){const t=_o().$implicit;ti(1),To(t.fromUser)}}function SP(t,e){if(1&t&&(ao(0,"li",56,57),no(2,OP,1,1,"img",58),no(3,PP,2,1,"span",59),co(4,"p",60),function(t,e){const n=Ne();let r;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const t=e[n];if("safe"===t.name)return t}throw new Error("The pipe 'safe' could not be found!")}(0,n.pipeRegistry),n.data[24]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(24,r.onDestroy)):r=n.data[24];const i=(r.factory||(r.factory=we(r.type)))();!function(t,e,n,r){24>=t.data.length&&(t.data[24]=null,t.blueprint[24]=null),e[24]=r}(n,Ae(),0,i)}(),lo()),2&t){const t=e.$implicit;so("ngClass",_o().getUserClass(t.fromUser)),to("id","m-"+t.id)("data-dataval",t.data),ti(2),so("ngIf",""!=t.fromUser&&"event"!=t.fromUser&&"full"!=t.fromUser),ti(1),so("ngIf",""!=t.fromUser&&"event"!=t.fromUser&&"full"!=t.fromUser),ti(1),so("innerHTML",$a(5,6,t.messageText,"html"),Sr)}}const EP=function(t){return{expanded:t}};let TP=(()=>{class t{constructor(t,e,n,r,i){this.dataService=t,this.messageService=e,this.route=n,this.ngZone=r,this.cdRef=i,this.isOpen=!1,this.currentPreview=_O.NONE,this.search=t=>t.pipe(function(t,e=eg){return n=>n.lift(new yO(t,e))}(200),t=>t.lift(new bO(void 0,void 0)),F(t=>t.length<2?[]:this.currentChatbot.allConversations[this.currentChatbot.allConversations.length-1].samples.filter(e=>e.toLowerCase().indexOf(t.toLowerCase())>-1).slice(0,10))),e.chatbotC=this,t.chatbotC=this,this.me_avatar="https://arunsreekumar.com/assets/Images/profile.jpg"}goBack(){this.isOpen=!1,this.currentChatbot.system.toLowerCase()=="SuperBot".toLowerCase()&&(this.currentChatbot.resetRoot(),this.currentChatbot.messages=[],this.currentChatbot=this.getChatbot(this.currentChatbot.callingChatbotName))}get youtubeId(){return this._youtubeId}set youtubeId(t){""==t||null==t||null==t?null!=this.subscription&&this.subscription.unsubscribe():(this._youtubeId=t,this.player=new window.YT.Player("player",{height:"160px",width:"100%",videoId:t,events:{onReady:t=>{this.onPlayerReady(t)},onStateChange:t=>{this.onPlayerStateChange(t)}},playerVars:{autoplay:1,controls:1,modestbranding:1,playsinline:1,rel:0,showInfo:0}}))}onPlayerStateChange(t){this.subscription.unsubscribe(),t.data==window.YT.PlayerState.PLAYING?this.subscription=rg(1e3,1e3).subscribe(t=>{this.scrollToMessage(Math.floor(this.player.getCurrentTime()))}):t.data==window.YT.PlayerState.PAUSED||window}onPlayerReady(t){t.target.playVideo(),this.subscription=rg(1e3,1e3).subscribe(t=>{this.scrollToMessage(Math.floor(this.player.getCurrentTime()))})}get currentChatbot(){return this._currentChatbot}set currentChatbot(t){null!=t&&(this.isOpen=!1,0==t.allConversations.length&&t.initializeConversation(this.currentMessage),this._currentChatbot=t,t.system.toLowerCase()=="SuperBot".toLowerCase()?this.isOpen=!0:this.currentPreview=_O.NONE)}showSideBar(){return!(this.isOpen&&$("#frame #sidepanel").width()<=58)}showPreview(t){return null!=this.currentChatbot&&!(this.currentChatbot.system.toUpperCase()!="SuperBot".toUpperCase())&&(t!=_O.YOUTUBE||""!=this.youtubeId&&null!=this.youtubeId)}getUserClass(t){return"ME"==t?"replies":""==t?"sent same":"event"==t||"full"==t||"aKunjappan"==t?t:"sent"}getAvatar(t){return"ME"==t?"https://arunsreekumar.com/assets/Images/profile.jpg":"akaashsingh"==t?"https://arunsreekumar.com/assets/Images/youtube/akaashSingh.jpg":"youtube"==t?"https://arunsreekumar.com/assets/Images/youtube.png":"Benjamin_Louis"==t?"https://arunsreekumar.com/assets/Images/Users/benjaminLouis.ico":"anwar_hussain"==t?"https://arunsreekumar.com/assets/Images/Users/anwar_hussain.ico":"https://arunsreekumar.com/assets/Images/Users/"+t+".ico"}ngOnInit(){this.getChatbots(),window.angularComponentReference={zone:this.ngZone,sendmessagefromChatbot:t=>{this.currentMessage=t,this.sendMessage()},component:this},window.onYouTubeIframeAPIReady=()=>{this.player=new window.YT.Player("player",{height:"160px",width:"100%",videoId:"H1-ApErWRaU",events:{onReady:t=>{this.onPlayerReady(t)},onStateChange:t=>{this.onPlayerStateChange(t)}},playerVars:{autoplay:0,controls:1,modestbranding:1,playsinline:1,rel:0,showInfo:0}})}}ngAfterViewInit(){const t=window.document,e=t.createElement("script");e.type="text/javascript",e.src="https://www.youtube.com/iframe_api",t.body.appendChild(e)}ngAfterViewChecked(){}scrollToBottom(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch(t){}}talkBack(t){var e="2020-05-25";null!=this.currentChatbot.calendarData&&this._lastCalendarId!=t&&(this.currentChatbot.messages.forEach((function(n){"m-"+n.id.toString()==t&&(e=n.data.date.slice(0,10))})),this.currentChatbot._calendar.doAnnotations(e))}scrollToMessage(t){try{let n;this.messages.forEach((function(e){e.nativeElement.id=="m-"+t.toString()?(n=e,$(e.nativeElement).find("p").toggleClass("active",!0,3e3,"easeOutSine")):$(e.nativeElement).find("p").toggleClass("active",!1,3e3,"easeOutSine")}));var e=n.nativeElement.offsetTop;$(this.myScrollContainer.nativeElement).animate({scrollTop:e-150},1e3)}catch(n){console.log(n)}}scrollToMessagePlain(t){try{let n;this.messages.forEach((function(e){e.nativeElement.id=="m-"+t.toString()&&(n=e)}));var e=n.nativeElement.offsetTop;$(this.myScrollContainer.nativeElement).animate({scrollTop:e-300},1e3)}catch(n){console.log(n)}}sendMessage(){this.currentChatbot.lastInputMessageId++,this.messageService.addMessage(this.currentChatbot.lastInputMessageId,null,this.currentMessage,"ME"),this.currentChatbot.allConversations[this.currentChatbot.allConversations.length-1].processMessage(this.currentMessage),this.currentMessage="",this.cdRef.detectChanges(),this.scrollToMessagePlain(this.currentChatbot.lastInputMessageId)}getChatbots(){let t="Passtime",e="";this.route.params.subscribe(n=>{null!=n.name&&(t=n.name),null!=n.startMessage&&(e=n.startMessage,e=e.replace(/-/gi," "))}),this.dataService.get_allChatbots().subscribe(n=>{this.chatbots=n.filter(t=>t.isActive).map(n=>{var r=new mO(n.name,n.system,n.avatar,n.url,n.statusMessage,this.messageService,this.dataService,this);return t.toLowerCase()==n.system.toLowerCase()&&(this.currentMessage=e,this.currentChatbot=r),r})},t=>console.error(t),()=>{})}getChatbot(t){var e;return this.chatbots.forEach(n=>{n.system==t&&(e=n)}),e}changeChatbot(t){this.currentChatbot=t}toggle(){this.isToggled=!this.isToggled}}var e;return t.\u0275fac=function(e){return new(e||t)(ro(mP),ro(fP),ro(bf),ro(Ol),ro(xs))},t.\u0275cmp=de({type:t,selectors:[["app-chatbots"]],viewQuery:function(t,e){var n;1&t&&(tl(vP,!0),tl(wP,!0),tl(bP,!0)),2&t&&(Ja(n=el())&&(e.myScrollContainer=n.first),Ja(n=el())&&(e.element=n.first),Ja(n=el())&&(e.messages=n))},decls:67,vars:14,consts:[[1,"chatbotbox"],["id","frame"],[3,"hidden"],["id","calendar"],["id","muhurtas"],["class","contact-profile2",4,"ngIf"],["id","sidepanel"],["id","profile",3,"ngClass"],[1,"wrap"],["id","profile-img","src","../../assets/Images/profile.jpg","alt","",1,"online"],["aria-hidden","true",1,"fa","fa-chevron-down","expand-button",3,"click"],["id","status-options"],["id","status-online",1,"active"],[1,"status-circle"],["id","status-away"],["id","status-busy"],["id","status-offline"],["id","expanded"],["for","twitter"],["aria-hidden","true",1,"fa","fa-linkedin","fa-fw"],["name","twitter","type","text","value","arun-sree-kumar"],["aria-hidden","true",1,"fa","fa-twitter","fa-fw"],["name","twitter","type","text","value","_asku"],["aria-hidden","true",1,"fa","fa-instagram","fa-fw"],["name","twitter","type","text","value","arun_sreekumar"],["id","search"],["for",""],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search contacts..."],["id","contacts"],["class","contact",3,"click",4,"ngFor","ngForOf"],["id","bottom-bar"],[1,"content",3,"ngClass"],[1,"contact-profile"],["class","back-arrow",3,"click",4,"ngIf"],["alt","",3,"src"],[3,"click"],[1,"social-media"],["aria-hidden","true",1,"fa","fa-envelope"],["appScroll","",1,"messages",3,"talk"],["scrollMe",""],[3,"ngClass",4,"ngFor","ngForOf"],[1,"message-input","fixed-bottom"],["type","text","placeholder","Write your message...",3,"ngModel","ngModelChange","keyup.enter"],[1,"form-control",3,"click"],["aria-hidden","true",1,"fa","fa-paper-plane"],[1,"contact-profile2"],["id","player"],["width","100%","src","https://www.youtube.com/embed/Mol2JXdCeXs?playsinline=1","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"],[1,"contact",3,"click"],[1,"contact-status","online"],[1,"meta"],[1,"name"],[1,"preview"],[1,"back-arrow",3,"click"],["aria-hidden","true",1,"fa","fa-chevron-left"],[3,"ngClass"],["message",""],["alt","",3,"src",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"]],template:function(t,e){var n,r,i,s;1&t&&(ao(0,"div",0),ao(1,"div",1),ao(2,"div",2),co(3,"div",3),co(4,"div",4),lo(),no(5,CP,5,0,"div",5),ao(6,"div",6),ao(7,"div",7),ao(8,"div",8),co(9,"img",9),ao(10,"p"),Eo(11,"Arun Sree Kumar"),lo(),ao(12,"i",10),po("click",(function(t){return e.toggle()})),lo(),ao(13,"div",11),ao(14,"ul"),ao(15,"li",12),co(16,"span",13),ao(17,"p"),Eo(18,"Online"),lo(),lo(),ao(19,"li",14),co(20,"span",13),ao(21,"p"),Eo(22,"Away"),lo(),lo(),ao(23,"li",15),co(24,"span",13),ao(25,"p"),Eo(26,"Busy"),lo(),lo(),ao(27,"li",16),co(28,"span",13),ao(29,"p"),Eo(30,"Offline"),lo(),lo(),lo(),lo(),ao(31,"div",17),ao(32,"label",18),co(33,"i",19),lo(),co(34,"input",20),ao(35,"label",18),co(36,"i",21),lo(),co(37,"input",22),ao(38,"label",18),co(39,"i",23),lo(),co(40,"input",24),lo(),lo(),lo(),ao(41,"div",25),ao(42,"label",26),co(43,"i",27),lo(),co(44,"input",28),lo(),ao(45,"div",29),ao(46,"ul"),no(47,xP,9,3,"li",30),lo(),lo(),co(48,"div",31),lo(),ao(49,"div",32),ao(50,"div",33),no(51,MP,4,0,"div",34),co(52,"img",35),ao(53,"p",36),po("click",(function(t){return e.scrollToMessage(25)})),Eo(54),lo(),ao(55,"div",37),ao(56,"i",38),Eo(57),lo(),lo(),lo(),ao(58,"div",39,40),po("talk",(function(t){return e.talkBack(t)})),ao(60,"ul"),no(61,SP,6,9,"li",41),lo(),lo(),ao(62,"div",42),ao(63,"div",8),ao(64,"input",43),po("ngModelChange",(function(t){return e.currentMessage=t}))("keyup.enter",(function(t){return e.sendMessage()})),lo(),ao(65,"button",44),po("click",(function(t){return e.sendMessage()})),co(66,"i",45),lo(),lo(),lo(),lo(),lo(),lo()),2&t&&(ti(2),so("hidden",!e.showPreview("CALENDAR")),ti(3),so("ngIf",e.showPreview("YOUTUBE")),ti(2),so("ngClass",(n=12,r=EP,i=1==e.isToggled,function(t,e,n,r,i,s){const o=e+n;return Js(t,o,i)?Ks(t,o+1,s?r.call(s,i):r(i)):Xs(t,o+1)}(Ae(),Ve(),n,r,i,s))),ti(40),so("ngForOf",e.chatbots),ti(2),so("@openClose",e.isOpen?"open":"closed")("ngClass",e.showSideBar()?"other":"superbot"),ti(2),so("ngIf",e.isOpen),ti(1),so("src",e.currentChatbot.avatar,Er),ti(2),To(e.currentChatbot.name),ti(3),ko("\xa0(",e.currentChatbot.messages.length,")"),ti(4),so("ngForOf",e.currentChatbot.messages),ti(3),so("ngModel",e.currentMessage))},directives:[Tc,Oc,Sc,_P,_u,xu,_h],pipes:[yP],styles:["a[_ngcontent-%COMP%], abbr[_ngcontent-%COMP%], acronym[_ngcontent-%COMP%], address[_ngcontent-%COMP%], applet[_ngcontent-%COMP%], article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], b[_ngcontent-%COMP%], big[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], body[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], caption[_ngcontent-%COMP%], center[_ngcontent-%COMP%], cite[_ngcontent-%COMP%], code[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], del[_ngcontent-%COMP%], details[_ngcontent-%COMP%], dfn[_ngcontent-%COMP%], div[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], em[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], form[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], html[_ngcontent-%COMP%], i[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], ins[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], li[_ngcontent-%COMP%], mark[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], object[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], output[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], q[_ngcontent-%COMP%], ruby[_ngcontent-%COMP%], s[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], section[_ngcontent-%COMP%], small[_ngcontent-%COMP%], span[_ngcontent-%COMP%], strike[_ngcontent-%COMP%], strong[_ngcontent-%COMP%], sub[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], sup[_ngcontent-%COMP%], table[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], time[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], tt[_ngcontent-%COMP%], u[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], var[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], details[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{display:block}body[_ngcontent-%COMP%]{line-height:1}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}blockquote[_ngcontent-%COMP%], q[_ngcontent-%COMP%]{quotes:none}blockquote[_ngcontent-%COMP%]:after, blockquote[_ngcontent-%COMP%]:before, q[_ngcontent-%COMP%]:after, q[_ngcontent-%COMP%]:before{content:\"\";content:none}table[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;height:100%;min-height:100%;overflow:hidden}.chatbotbox[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#dad5d5;font-family:proxima-nova,Source Sans Pro,sans-serif;font-size:1em;letter-spacing:.1px;color:#32465a;text-rendering:optimizeLegibility;text-shadow:1px 1px 1px rgba(0,0,0,.004);-webkit-font-smoothing:antialiased}.superbot[_ngcontent-%COMP%]{width:1000px;position:absolute!important;background:#e6eaea}@media screen and (max-width:360px){.superbot[_ngcontent-%COMP%]{width:100%}}.other[_ngcontent-%COMP%]{position:\"relative\"}#frame[_ngcontent-%COMP%]{width:95%;min-width:360px;max-width:1000px;height:100vh;max-height:100vh;min-height:300px;background:#e6eaea}@media screen and (max-width:360px){#frame[_ngcontent-%COMP%]{width:100%;height:100vh;max-height:100vh}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]{float:left;min-width:280px;max-width:340px;width:40%;height:100%;background:#2c3e50;color:#f5f5f5;overflow:hidden;position:relative}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]{width:58px;min-width:58px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]{width:80%;margin:25px auto}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:5px 0 0;background:#32465a}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile.expanded[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{height:210px;line-height:normal}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile.expanded[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile.expanded[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   i.expand-button[_ngcontent-%COMP%]{-webkit-transform:scaleY(-1);transform:scaleY(-1);-webkit-filter:FlipH;filter:FlipH;-ms-filter:\"FlipH\"}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{height:60px;line-height:60px;overflow:hidden;-webkit-transition:height .3s ease;transition:height .3s ease}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{height:55px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;border-radius:50%;padding:3px;border:2px solid #e74c3c;height:auto;float:left;cursor:pointer;-webkit-transition:border .3s ease;transition:border .3s ease}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin-left:4px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   img.online[_ngcontent-%COMP%]{border:2px solid #2ecc71}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   img.away[_ngcontent-%COMP%]{border:2px solid #f1c40f}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   img.busy[_ngcontent-%COMP%]{border:2px solid #e74c3c}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   img.offline[_ngcontent-%COMP%]{border:2px solid #95a5a6}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left;margin-left:15px}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   i.expand-button[_ngcontent-%COMP%]{float:right;margin-top:23px;font-size:.8em;cursor:pointer;color:#435f7a}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   i.expand-button[_ngcontent-%COMP%]{display:none}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]{position:absolute;opacity:0;visibility:hidden;width:150px;margin:70px 0 0;border-radius:6px;z-index:99;line-height:normal;background:#435f7a;-webkit-transition:all .3s ease;transition:all .3s ease}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]{width:58px;margin-top:57px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;margin:75px 0 0}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options.active[_ngcontent-%COMP%]{margin-top:62px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]:before{content:\"\";position:absolute;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:8px solid #435f7a;margin:-8px 0 0 24px}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]:before{margin-left:23px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{overflow:hidden;border-radius:6px}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:15px 0 30px 18px;display:block;cursor:pointer}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:15px 0 35px 22px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#496886}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;border-radius:50%;margin:5px 0 0}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]{width:14px;height:14px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]:before{content:\"\";position:absolute;width:14px;height:14px;margin:-3px 0 0 -3px;background:transparent;border-radius:50%;z-index:0}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]:before{height:18px;width:18px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:12px}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#status-online[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]{background:#2ecc71}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#status-online.active[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]:before{border:1px solid #2ecc71}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#status-away[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]{background:#f1c40f}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#status-away.active[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]:before{border:1px solid #f1c40f}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#status-busy[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]{background:#e74c3c}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#status-busy.active[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]:before{border:1px solid #e74c3c}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#status-offline[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]{background:#95a5a6}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #status-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li#status-offline.active[_ngcontent-%COMP%]   span.status-circle[_ngcontent-%COMP%]:before{border:1px solid #95a5a6}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #expanded[_ngcontent-%COMP%]{padding:100px 0 0;display:block;line-height:normal!important}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #expanded[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:left;clear:both;margin:0 8px 5px 0;padding:5px 0}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #expanded[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;margin-bottom:6px;background:#32465a;border-radius:3px;color:#f5f5f5;padding:7px;width:calc(100% - 43px)}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #profile[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   #expanded[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;background:#435f7a}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]{border-top:1px solid #32465a;border-bottom:1px solid #32465a;font-weight:300}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]{display:none}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;margin:10px 0 0 20px}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:proxima-nova,Source Sans Pro,sans-serif;padding:10px 0 10px 46px;width:calc(100% - 25px);border:none;background:#32465a;color:#f5f5f5}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;background:#435f7a}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#f5f5f5}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#f5f5f5}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#f5f5f5}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-placeholder{color:#f5f5f5}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]{height:calc(100% - 177px);overflow-y:scroll;overflow-x:hidden}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]{height:calc(100% - 149px);overflow-y:scroll;overflow-x:hidden}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts.expanded[_ngcontent-%COMP%]{height:calc(100% - 334px)}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;background:#2c3e50}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#243140}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]{position:relative;padding:10px 0 15px;font-size:.9em;cursor:pointer}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]{padding:6px 0 46px 8px}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]:hover{background:#32465a}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact.active[_ngcontent-%COMP%]{background:#32465a;border-right:5px solid #435f7a}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact.active[_ngcontent-%COMP%]   span.contact-status[_ngcontent-%COMP%]{border:2px solid #32465a!important}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{width:88%;margin:0 auto;position:relative}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{width:100%}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;margin:-2px 0 0 -2px;width:10px;height:10px;border-radius:50%;border:2px solid #2c3e50;background:#95a5a6}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   span.online[_ngcontent-%COMP%]{background:#2ecc71}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   span.away[_ngcontent-%COMP%]{background:#f1c40f}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   span.busy[_ngcontent-%COMP%]{background:#e74c3c}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;border-radius:50%;float:left;margin-right:10px}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{padding:5px 0 0}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:none}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin:5px 0 0;padding:0 0 1px;font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:all 1s ease;transition:all 1s ease}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #contacts[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.contact[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:static;border-radius:initial;background:none;border:none;padding:0 2px 0 0;margin:0 0 0 1px;opacity:.5}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:left;border:none;width:50%;padding:10px 0;background:#32465a;color:#f5f5f5;cursor:pointer;font-size:.85em;font-family:proxima-nova,Source Sans Pro,sans-serif}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:none;width:100%;padding:15px 0}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-right:1px solid #2c3e50}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-right:none;border-bottom:1px solid #2c3e50}}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#435f7a}#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px;font-size:1em}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3em}}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   #sidepanel[_ngcontent-%COMP%]   #bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{float:right;width:60%;height:100%;overflow:hidden;position:relative}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:calc(100% - 58px);min-width:300px!important}}@media screen and (min-width:900px){#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:calc(100% - 340px)}}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-profile[_ngcontent-%COMP%]{width:100%;height:60px;line-height:60px;background:#f5f5f5;float:left}.contact-profile2[_ngcontent-%COMP%]{width:100%;height:160px;line-height:60px;background:#f5f5f5}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;border-radius:50%;float:left;margin:9px 12px 0 9px}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-profile[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%], #frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-profile[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]{float:right}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-profile[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:14px;cursor:pointer}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-profile[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{margin-right:20px}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .contact-profile[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#435f7a}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]{height:auto;min-height:calc(100% - 93px);max-height:calc(100% - 93px);overflow-y:scroll;overflow-x:hidden;float:left;width:100%}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]{max-height:calc(100% - 93px)}}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;background:transparent}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3)}.active[_ngcontent-%COMP%]{background:#0a3d6d!important}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;clear:both;float:left;margin:5px 15px;width:calc(100% - 25px);font-size:.9em}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:320px!important}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.same[_ngcontent-%COMP%]{margin-top:2px!important}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.full[_ngcontent-%COMP%]{margin:0!important;padding-top:2px!important;padding-bottom:2px!important}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.full[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:auto;padding-top:0!important;padding-bottom:0!important}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.event[_ngcontent-%COMP%]{display:block}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.event[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#98e998;color:grey;margin-left:30%;overflow-wrap:break-word;text-align:center;min-width:40%;max-width:70%;border:3px solid green;padding:10px;border-radius:10px}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.aKunjappan[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:6px 8px 0 0}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.aKunjappan[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#435f7a;color:#f5f5f5}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.aKunjappan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:7px 12px;font-size:.9em}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.sent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:6px 8px 0 0}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.sent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#435f7a;color:#f5f5f5}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.sent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:7px 12px;font-size:.9em}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.replies[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin:6px 0 0 8px}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.replies[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#f5f5f5;float:right}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.replies[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;border-radius:50%;float:left}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;padding:10px 15px;border-radius:20px;max-width:205px;line-height:130%}@media screen and (min-width:735px){#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:300px}}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;z-index:99}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{position:relative}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:proxima-nova,Source Sans Pro,sans-serif;float:left;border:none;width:calc(100% - 60px);padding:11px 32px 10px 8px;font-size:.8em;color:#32465a}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:15px 32px 16px 8px}}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]{position:absolute;right:60px;z-index:4;margin-top:10px;font-size:1.1em;color:#435f7a;opacity:.5;cursor:pointer}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]{margin-top:17px;right:65px}}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]:hover{opacity:1}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;border:none;width:59px;padding:5px;cursor:pointer;background:#32465a;color:#f5f5f5}@media screen and (max-width:735px){#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:16px 0}}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#435f7a}#frame[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.bi[_ngcontent-%COMP%]:before{display:inline-block;content:\"\";background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23333' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 14l6-6-6-6'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-size:1rem 1rem}",'.hideText[_ngcontent-%COMP%]{display:"none";visibility:"hidden";opacity:0}.nakshatra[_ngcontent-%COMP%]{margin-right:1px;stroke:red}#calendar[_ngcontent-%COMP%]{margin-left:340px}@media screen and (max-width:735px){#calendar[_ngcontent-%COMP%]{margin-left:58px}}.month[_ngcontent-%COMP%]{margin-right:8px}.month-name[_ngcontent-%COMP%]{font-size:85%;fill:#777;font-family:Arial,Helvetica}path.subject[_ngcontent-%COMP%]{stroke:red!important}.day.hover[_ngcontent-%COMP%]{stroke:#6d6e70;stroke-width:0}.day.focus[_ngcontent-%COMP%]{stroke:#ff3;stroke-width:2}.accentuate[_ngcontent-%COMP%]{line-height:35px}.sticky[_ngcontent-%COMP%]{position:fixed;left:0;top:0;margin-left:-400px;z-index:1000;width:100%;height:200px}.sticky[_ngcontent-%COMP%], .stickyBack[_ngcontent-%COMP%]{background:#fff}.rootSVG[_ngcontent-%COMP%]{position:relative}.showText[_ngcontent-%COMP%]{display:block}div#annotation123[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}time.icon[_ngcontent-%COMP%]{font-size:1em;display:block;position:relative;width:5em;height:5em;background-color:#fff;border-radius:.6em;box-shadow:0 1px 0 #bdbdbd,0 2px 0 #fff,0 3px 0 #bdbdbd,0 4px 0 #fff,0 5px 0 #bdbdbd,0 0 0 1px #bdbdbd;overflow:hidden;-webkit-backface-visibility:hidden;-webkit-transform:rotate(0deg) skewY(0deg);-webkit-transform-origin:50% 10%;transform-origin:50% 10%}time.icon[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:block;width:100%;font-size:.75em;font-weight:700;font-style:normal;text-align:center}time.icon[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{position:absolute;top:0;padding:.4em 0;color:#fff;background-color:#fd9f1b;border-bottom:1px dashed #f37302;box-shadow:0 2px 0 #fd9f1b}time.icon[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{position:absolute;bottom:.3em;color:#fd9f1b}time.icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;font-size:2.5em;letter-spacing:-.05em;padding-top:.5em;color:#2f2f2f}time.icon[_ngcontent-%COMP%]:focus, time.icon[_ngcontent-%COMP%]:hover{-webkit-animation:swing .6s ease-out;animation:swing .6s ease-out}@-webkit-keyframes swing{0%{-webkit-transform:rotate(0deg) skewY(0deg)}20%{-webkit-transform:rotate(12deg) skewY(4deg)}60%{-webkit-transform:rotate(-9deg) skewY(-3deg)}80%{-webkit-transform:rotate(6deg) skewY(-2deg)}to{-webkit-transform:rotate(0deg) skewY(0deg)}}@keyframes swing{0%{-webkit-transform:rotate(0deg) skewY(0deg);transform:rotate(0deg) skewY(0deg)}20%{-webkit-transform:rotate(12deg) skewY(4deg);transform:rotate(12deg) skewY(4deg)}60%{-webkit-transform:rotate(-9deg) skewY(-3deg);transform:rotate(-9deg) skewY(-3deg)}80%{-webkit-transform:rotate(6deg) skewY(-2deg);transform:rotate(6deg) skewY(-2deg)}to{-webkit-transform:rotate(0deg) skewY(0deg);transform:rotate(0deg) skewY(0deg)}}'],data:{animation:[(e=[EO("open",SO({})),EO("closed",SO({})),TO("open => closed",[kO(":enter, :leave",SO({}),{optional:!0}),OO([kO(":enter",[SO({transform:"translateX(-100%)"}),MO("0.5s ease-in",SO({transform:"translateX(0%)"}))],{optional:!0}),kO(":leave",[SO({transform:"translateX(0%)"}),MO("0.5s ease-in",SO({transform:"translateX(100%)"}))],{optional:!0})])]),TO("closed => open",[OO([kO(":enter, :leave",SO({}),{optional:!0}),kO(":enter",[SO({transform:"translateX(100%)"}),MO("0.5s ease-in-out",SO({transform:"translateX(0%)"}))],{optional:!0}),kO(":leave",[SO({transform:"translateX(0%)"}),MO("0.5s ease-in-out",SO({transform:"translateX(-50%)"}))],{optional:!0})])])],{type:7,name:"openClose",definitions:e,options:{}})]}}),t})();const kP=[{path:"",component:TP},{path:"chats/:name/:startMessage",component:TP},{path:"chats/:name",component:TP}];let AP=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[Hp.forRoot(kP)],Hp]}),t})(),NP=(()=>{class t{constructor(t){this.router=t,this.title="chatbotA";let e=localStorage.getItem("path");e&&(localStorage.removeItem("path"),this.router.navigate([e]))}}return t.\u0275fac=function(e){return new(e||t)(ro(Tp))},t.\u0275cmp=de({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&co(0,"router-outlet")},directives:[Np],styles:[""]}),t})();function IP(){return"undefined"!=typeof process}function RP(t){switch(t.length){case 0:return new NO;case 1:return t[0];default:return new IO(t)}}function DP(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==l,u=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function jP(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&FP(n,"start",t)));break;case"done":t.onDone(()=>r(n&&FP(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&FP(n,"destroy",t)))}}function FP(t,e,n){const r=n.totalTime,i=UP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function UP(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function VP(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function LP(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let $P=(t,e)=>!1,HP=(t,e)=>!1,zP=(t,e,n)=>[];const qP=IP();(qP||"undefined"!=typeof Element)&&($P=(t,e)=>t.contains(e),HP=(()=>{if(qP||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):HP}})(),zP=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let BP=null,WP=!1;function ZP(t){BP||(BP=("undefined"!=typeof document?document.body:null)||{},WP=!!BP.style&&"WebkitAppearance"in BP.style);let e=!0;return BP.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in BP.style,!e&&WP)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in BP.style),e}const GP=HP,YP=$P,QP=zP;function KP(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let XP=(()=>{class t{validateStyleProperty(t){return ZP(t)}matchesElement(t,e){return GP(t,e)}containsElement(t,e){return YP(t,e)}query(t,e,n){return QP(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new NO(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),JP=(()=>{class t{}return t.NOOP=new XP,t})();function tS(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eS(parseFloat(e[1]),e[2])}function eS(t,e){switch(e){case"s":return 1e3*t;default:return t}}function nS(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=eS(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=eS(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function rS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function iS(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else rS(t,n);return n}function sS(t,e,n){return n?e+":"+n+";":""}function oS(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=sS(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=sS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function aS(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=gS(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),IP()&&oS(t))}function lS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=gS(e);t.style[n]=""}),IP()&&oS(t))}function cS(t){return Array.isArray(t)?1==t.length?t[0]:PO(t):t}const uS=new RegExp("{{\\s*(.+?)\\s*}}","g");function hS(t){let e=[];if("string"==typeof t){let n;for(;n=uS.exec(t);)e.push(n[1]);uS.lastIndex=0}return e}function dS(t,e,n){const r=t.toString(),i=r.replace(uS,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function fS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const pS=/-+([a-z0-9])/g;function gS(t){return t.replace(pS,(...t)=>t[1].toUpperCase())}function mS(t,e){return 0===t||0===e}function _S(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=vS(t,e)}))}}return e}function yS(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function vS(t,e){return window.getComputedStyle(t)[e]}function wS(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(xS(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(xS(o,i))}(t,n,e)):n.push(t),n}const bS=new Set(["true","1"]),CS=new Set(["false","0"]);function xS(t,e){const n=bS.has(t)||CS.has(t),r=bS.has(e)||CS.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?bS.has(t):CS.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?bS.has(e):CS.has(e)),o&&a}}const MS=new RegExp("s*:selfs*,?","g");function OS(t,e,n){return new PS(t).build(e,n)}class PS{constructor(t){this._driver=t}build(t,e){const n=new SS(e);return this._resetContextStyleTimingState(n),yS(this,cS(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(ES(t)){const e=t;Object.keys(e).forEach(t=>{hS(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=fS(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=yS(this,cS(t.animation),e);return{type:1,matchers:wS(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:TS(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>yS(this,t,e)),options:TS(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=yS(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:TS(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return kS(nS(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=kS(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||nS(r,e),kS(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:SO({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=SO(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(ES(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=hS(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ES(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ES(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:yS(this,cS(t.animation),e),options:TS(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:TS(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:TS(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(MS,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,VP(e.collectedStyles,e.currentQuerySelector,{});const o=yS(this,cS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:TS(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:nS(t.timings,e.errors,!0);return{type:12,animation:yS(this,cS(t.animation),e),timings:n,options:null}}}class SS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ES(t){return!Array.isArray(t)&&"object"==typeof t}function TS(t){var e;return t?(t=rS(t)).params&&(t.params=(e=t.params)?rS(e):null):t={},t}function kS(t,e,n){return{duration:t,delay:e,easing:n}}function AS(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class NS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const IS=new RegExp(":enter","g"),RS=new RegExp(":leave","g");function DS(t,e,n,r,i,s={},o={},a,l,c=[]){return(new jS).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class jS{buildKeyframes(t,e,n,r,i,s,o,a,l,c=[]){l=l||new NS;const u=new US(t,e,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),yS(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[AS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?tS(n.duration):null,s=null!=n.delay?tS(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),yS(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=FS);const t=tS(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>yS(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?tS(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),yS(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return nS(e.params?dS(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?tS(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=FS);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),yS(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;yS(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const FS={};class US{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=FS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new VS(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=tS(n.duration)),null!=n.delay&&(r.delay=tS(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=dS(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new US(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=FS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new LS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(IS,"."+this._enterClassName)).replace(RS,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class VS{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new VS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):iS(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=dS(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=iS(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?fS(t.values()):[],s=e.size?fS(e.values()):[];if(n){const t=r[0],e=rS(t);t.offset=0,e.offset=1,r=[t,e]}return AS(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class LS extends VS{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=iS(t[0],!1);a.offset=0,i.push(a);const l=iS(t[0],!1);l.offset=$S(o),i.push(l);const c=t.length-1;for(let r=1;r<=c;r++){let o=iS(t[r],!1);o.offset=$S((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return AS(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function $S(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class HS{}class zS extends HS{normalizePropertyName(t,e){return gS(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(qS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const qS=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function BS(t,e,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const WS={};class ZS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||WS,d=this.buildStyles(n,o&&o.params||WS,u),f=a&&a.params||WS,p=this.buildStyles(r,f,u),g=new Set,m=new Map,_=new Map,y="void"===r,v={params:Object.assign(Object.assign({},h),f)},w=c?[]:DS(t,e,this.ast.animation,i,s,d,p,v,l,u);let b=0;if(w.forEach(t=>{b=Math.max(t.duration+t.delay,b)}),u.length)return BS(e,this._triggerName,n,r,y,d,p,[],[],m,_,b,u);w.forEach(t=>{const n=t.element,r=VP(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=VP(_,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=fS(g.values());return BS(e,this._triggerName,n,r,y,d,p,w,C,m,_,b)}}class GS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=rS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=dS(s,r,e)),n[t]=s})}}),n}}class YS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new GS(t.style,t.options&&t.options.params||{})}),QS(this.states,"true","1"),QS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new ZS(t,e,this.states))}),this.fallbackTransition=new ZS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function QS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const KS=new NS;class XS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=OS(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=DP(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=DS(this._driver,e,i,"ng-enter","ng-leave",{},{},n,KS,r),s.forEach(t=>{const e=VP(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=RP(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=UP(e,"","","");return jP(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const JS=[],tE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class nE{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=rS(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const rE=new nE("void");class iE{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,hE(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=VP(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=VP(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(hE(t,"ng-trigger"),hE(t,"ng-trigger-"+e),a[e]=rE),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new oE(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(hE(t,"ng-trigger"),hE(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new nE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=rE),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{lS(t,n),aS(t,r)})}return}const c=VP(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(hE(t,"ng-animate-queued"),s.onStart(()=>{dE(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&RP(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||rE,o=new nE("void"),a=new oE(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==tE||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){hE(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=UP(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,jP(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class sE{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new iE(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(aE(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!aE(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),hE(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),dE(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(aE(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return aE(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return RP(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=tE,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)hE(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?RP(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new NS,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=uE(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>hE(t,n))});const g=[],m=new Set,_=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):_.add(t))}const y=new Map,v=uE(h,Array.from(m));v.forEach((t,e)=>{const n="ng-leave"+p++;y.set(e,n),t.forEach(t=>hE(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>dE(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>dE(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],b=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(!p.errors||!p.errors.length)return c?(e.onStart(()=>lS(i,p.fromStyles)),e.onDestroy(()=>aS(i,p.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>lS(i,p.fromStyles)),e.onDestroy(()=>aS(i,p.toStyles)),void r.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>VP(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));b.push(p)});if(b.length){const t=[];b.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,x=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(x.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{VP(C,e,[]).push(t),t.destroy()})});const M=g.filter(t=>pE(t,a,l)),O=new Map;cE(O,this.driver,_,l,"*").forEach(t=>{pE(t,a,l)&&M.push(t)});const P=new Map;d.forEach((t,e)=>{cE(P,this.driver,new Set(t),a,"!")}),M.forEach(t=>{const e=O.get(t),n=P.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const S=[],E=[],T={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>aS(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=T;if(x.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=x.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>x.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,i,P,O);if(s.setRealPlayer(n),t===T)S.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=RP(e)),r.push(s)}}else lS(e,o.fromStyles),s.onDestroy(()=>aS(e,o.toStyles)),E.push(s),c.has(e)&&r.push(s)}),E.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=RP(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<g.length;k++){const t=g[k],e=t.__ng_removed;if(dE(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?fE(this,t,r):this.processLeaveNode(t)}return g.length=0,S.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),S}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=VP(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}lS(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new NO(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof IO?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||JS).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),_=DP(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,_,p);if(e.subTimeline&&r&&u.add(h),f){const e=new oE(t,o,h);e.setRealPlayer(y),l.push(e)}return y});l.forEach(t=>{VP(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>hE(t,"ng-animating"));const d=RP(h);return d.onDestroy(()=>{c.forEach(t=>dE(t,"ng-animating")),aS(a,e.toStyles)}),u.forEach(t=>{VP(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new NO(t.duration,t.delay)}}class oE{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new NO,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>jP(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){VP(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function aE(t){return t&&1===t.nodeType}function lE(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function cE(t,e,n,r,i){const s=[];n.forEach(t=>s.push(lE(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=eE,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>lE(t,s[a++])),o}function uE(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function hE(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function dE(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function fE(t,e,n){RP(n).onDone(()=>t.processLeaveNode(e))}function pE(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class gE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new sE(t,e,n),this._timelineEngine=new XS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=OS(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new YS(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=LP(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=LP(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mE(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=yE(e[0]),e.length>1&&(r=yE(e[e.length-1]))):e&&(n=yE(e)),n||r?new _E(t,n,r):null}let _E=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&aS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(aS(this._element,this._initialStyles),this._endStyles&&(aS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(lS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lS(this._element,this._endStyles),this._endStyles=null),aS(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function yE(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];vE(i)&&(e=e||{},e[i]=t[i])}return e}function vE(t){return"display"===t||"position"===t}class wE{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=PE(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),OE(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ME(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){bE(this._element,this._name,"paused")}resume(){bE(this._element,this._name,"running")}setPosition(t){const e=CE(this._element,this._name);this._position=t*this._duration,OE(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ME(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=PE(t,"").split(","),r=xE(n,e);r>=0&&(n.splice(r,1),OE(t,"",n.join(",")))}(this._element,this._name))}}function bE(t,e,n){OE(t,"PlayState",n,CE(t,e))}function CE(t,e){const n=PE(t,"");return n.indexOf(",")>0?xE(n.split(","),e):xE([n],e)}function xE(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function ME(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function OE(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function PE(t,e){return t.style["animation"+e]}class SE{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:vS(this.element,n))})}this.currentSnapshot=t}}class EE extends NO{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=KP(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class TE{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return ZP(t)}matchesElement(t,e){return GP(t,e)}containsElement(t,e){return YP(t,e)}query(t,e,n){return QP(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>KP(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof SE),l={};mS(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=_S(t,e,l));if(0==n)return new EE(t,c);const u=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=mE(t,e),f=new SE(t,e,u,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class kE{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:vS(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class AE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(NE().toString()),this._cssKeyframesDriver=new TE}validateStyleProperty(t){return ZP(t)}matchesElement(t,e){return GP(t,e)}containsElement(t,e){return YP(t,e)}query(t,e,n){return QP(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(t=>t instanceof kE);mS(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=mE(t,e=_S(t,e=e.map(t=>iS(t,!1)),l));return new kE(t,e,a,u)}}function NE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let IE=(()=>{class t extends xO{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ae.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?PO(t):t;return jE(this._renderer,null,e,"register",[n]),new RE(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Gt(ta),Gt(rc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class RE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new DE(this._id,t,e||{},this._renderer)}}class DE{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function jE(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let FE=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new UE("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new VE(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Gt(ta),Gt(gE),Gt(Ol))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class UE{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class VE extends UE{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let LE=(()=>{class t extends gE{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(rc),Gt(JP),Gt(HS))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const $E=[{provide:JP,useFactory:function(){return"function"==typeof NE()?new AE:new TE}},{provide:new Ut("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:xO,useClass:IE},{provide:HS,useFactory:function(){return new zS}},{provide:gE,useClass:LE},{provide:ta,useFactory:function(t,e,n){return new FE(t,e,n)},deps:[Qc,gE,Ol]}];let HE=(()=>{class t{}return t.\u0275mod=me({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:$E,imports:[uu]}),t})(),zE=(()=>{class t{}return t.\u0275mod=me({type:t,bootstrap:[NP]}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[mP,fP],imports:[[uu,hP,AP,vh,HE]]}),t})();(function(){if(tr)throw new Error("Cannot enable prod mode after platform setup.");Jn=!1})(),lu().bootstrapModule(zE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);